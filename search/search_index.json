{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Miya Engine","text":"<p>A high-performance Jinja2-compatible template engine for Go.</p> <p> </p>"},{"location":"#features","title":"Features","text":"<ul> <li>Jinja2 Compatibility: Parse and render Jinja2 templates with familiar syntax</li> <li>High Performance: Optimized for speed with template compilation, caching, and AST node pooling</li> <li>Memory Efficient: Optional <code>Release()</code> method for returning pooled nodes to reduce GC pressure</li> <li>Template Inheritance: Full support for extends, blocks, and includes</li> <li>Rich Filter System: Built-in filters plus support for custom filters</li> <li>Flexible Loading: Load templates from filesystem, memory, or embedded resources</li> <li>Security: Auto-escaping enabled by default to prevent XSS</li> <li>Thread Safe: Safe for concurrent use in web applications</li> <li>Developer Friendly: Clear error messages with line numbers and debugging support</li> </ul>"},{"location":"#installation","title":"Installation","text":"<pre><code>go get github.com/zipreport/miya\n</code></pre>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"log\"\n\n    \"github.com/zipreport/miya\"\n)\n\nfunc main() {\n    env := miya.NewEnvironment()\n\n    tmpl, err := env.FromString(\"Hello {{ name }}!\")\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    ctx := miya.NewContext()\n    ctx.Set(\"name\", \"World\")\n\n    output, err := tmpl.Render(ctx)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    fmt.Println(output) // Output: Hello World!\n}\n</code></pre>"},{"location":"#supported-syntax","title":"Supported Syntax","text":"Syntax Description <code>{{ variable }}</code> Variable substitution <code>{% if %}...{% endif %}</code> Conditional statements <code>{% for %}...{% endfor %}</code> Loop iteration <code>{% extends %}</code> Template inheritance <code>{% block %}...{% endblock %}</code> Override blocks <code>{% include %}</code> Include templates <code>{% macro %}...{% endmacro %}</code> Reusable macros <code>{{ value\\|filter }}</code> Filter application <code>{# comment #}</code> Comments <code>{%- -%}</code> / <code>{{- -}}</code> Whitespace control"},{"location":"#documentation","title":"Documentation","text":""},{"location":"#core-features","title":"Core Features","text":"<ul> <li>Template Inheritance - Learn about extends, blocks, and super() for template composition</li> <li>Control Structures - If/elif/else, for loops, set, and with statements</li> <li>Filters - 70+ built-in filters for data transformation</li> <li>Tests &amp; Operators - 26+ test functions and all operators</li> </ul>"},{"location":"#advanced-features","title":"Advanced Features","text":"<ul> <li>Advanced Guide - Filter blocks, whitespace control, autoescape</li> <li>Macros &amp; Includes - Reusable components and template composition</li> <li>Global Functions - range, dict, cycler, joiner, namespace</li> <li>Comprehensions - List and dict comprehensions</li> </ul>"},{"location":"#reference","title":"Reference","text":"<ul> <li>Comprehensive Features - Complete feature overview</li> <li>Jinja2 Compatibility - Feature comparison matrix</li> <li>Limitations - Known limitations and workarounds</li> </ul>"},{"location":"#why-miya","title":"Why Miya?","text":"Feature Miya Other Go Template Engines Jinja2 Syntax Full compatibility Partial or none Template Inheritance Full support Limited Filters 70+ built-in Varies List Comprehensions Supported Rare Thread Safety Yes Varies Performance Optimized with pooling Varies"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE for details.</p>"},{"location":"ADVANCED_FEATURES_GUIDE/","title":"Advanced Features Guide","text":"<p>Advanced template features for professionals. Miya Engine provides filter blocks, do statements, whitespace control, raw blocks, and autoescape with 100% Jinja2 compatibility.</p> <p>Working Example: See <code>examples/features/advanced/</code> for complete examples.</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Filter Blocks</li> <li>Do Statements</li> <li>Whitespace Control</li> <li>Raw Blocks</li> <li>Autoescape Control</li> <li>Environment Configuration</li> <li>Performance &amp; Memory Management</li> <li>Practical Examples</li> </ol>"},{"location":"ADVANCED_FEATURES_GUIDE/#filter-blocks","title":"Filter Blocks","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#basic-usage","title":"Basic Usage","text":"<p>Apply filters to entire blocks of content:</p> <pre><code>{% filter upper %}\nThis entire block will be uppercase\nIncluding {{ variable }} variables\n{% endfilter %}\n</code></pre> <p>Output: <pre><code>THIS ENTIRE BLOCK WILL BE UPPERCASE\nINCLUDING VALUE VARIABLES\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#single-filter","title":"Single Filter","text":"<pre><code>{% filter upper %}\n  hello world\n{% endfilter %}\n\u2192 HELLO WORLD\n\n{% filter title %}\n  this is an important announcement\n{% endfilter %}\n\u2192 This Is An Important Announcement\n\n{% filter trim %}\n   extra whitespace removed\n{% endfilter %}\n\u2192 extra whitespace removed\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#chained-filters","title":"Chained Filters","text":"<p>Apply multiple filters in sequence:</p> <pre><code>{% filter trim|upper|replace(\"WORLD\", \"MIYA\") %}\n   hello world\n{% endfilter %}\n\u2192 HELLO MIYA\n\n{% filter striptags|upper %}\n&lt;p&gt;Remove &lt;strong&gt;HTML&lt;/strong&gt; tags&lt;/p&gt;\n{% endfilter %}\n\u2192 REMOVE HTML TAGS\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#filter-blocks-with-logic","title":"Filter Blocks with Logic","text":"<p>Filters apply to the entire rendered output:</p> <pre><code>{% filter upper %}\nUser list:\n{% for user in users %}\n- {{ user.name }}\n{% endfor %}\n{% endfilter %}\n</code></pre> <p>Output: <pre><code>USER LIST:\n- ALICE\n- BOB\n- CHARLIE\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#nested-filter-blocks","title":"Nested Filter Blocks","text":"<p>Filter blocks can be nested:</p> <pre><code>{% filter upper %}\nOuter block\n{% filter trim %}\n  inner block with trim\n{% endfilter %}\nEnd outer\n{% endfilter %}\n</code></pre> <p>Output: <pre><code>OUTER BLOCK\nINNER BLOCK WITH TRIM\nEND OUTER\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#do-statements","title":"Do Statements","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#basic-usage_1","title":"Basic Usage","text":"<p>Execute expressions without output:</p> <pre><code>{% do expression %}\n</code></pre> <p>The <code>do</code> statement evaluates an expression but doesn't print the result.</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#examples","title":"Examples","text":"<pre><code>{# Execute without output #}\n{% do numbers|sum %}\n\n{# Side effects only #}\n{% do data.update({\"key\": \"value\"}) %}\n\n{# With filters #}\n{% do (100 * 5)|round %}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#when-to-use","title":"When to Use","text":"<pre><code>{# Trigger computation without displaying result #}\n{% set calculation_result = 0 %}\n{% do expensive_function(data) %}\n\n{# Execute for side effects #}\n{% do logger.log(\"Template rendered\") %}\n</code></pre> <p>Note: In pure templates, <code>do</code> has limited use since templates shouldn't have side effects. Most useful when integrating with systems that track template execution.</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#whitespace-control","title":"Whitespace Control","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#the-problem","title":"The Problem","text":"<p>Templates can generate unwanted whitespace:</p> <pre><code>&lt;ul&gt;\n{% for item in items %}\n  &lt;li&gt;{{ item }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre> <p>Output (with extra lines): <pre><code>&lt;ul&gt;\n\n  &lt;li&gt;Item 1&lt;/li&gt;\n\n  &lt;li&gt;Item 2&lt;/li&gt;\n\n&lt;/ul&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#the-solution-minus-sign-","title":"The Solution: Minus Sign (-)","text":"<p>Use <code>-</code> to strip whitespace:</p> Syntax Description <code>{%-</code> Strip whitespace before tag <code>-%}</code> Strip whitespace after tag <code>{{-</code> Strip whitespace before variable <code>-}}</code> Strip whitespace after variable"},{"location":"ADVANCED_FEATURES_GUIDE/#left-whitespace-control","title":"Left Whitespace Control","text":"<p>Remove whitespace before tag:</p> <pre><code>&lt;ul&gt;\n{%- for item in items %}\n  &lt;li&gt;{{ item }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre> <p>Output: <pre><code>&lt;ul&gt;  &lt;li&gt;Item 1&lt;/li&gt;\n  &lt;li&gt;Item 2&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#right-whitespace-control","title":"Right Whitespace Control","text":"<p>Remove whitespace after tag:</p> <pre><code>&lt;ul&gt;\n{% for item in items -%}\n  &lt;li&gt;{{ item }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#both-sides-control","title":"Both Sides Control","text":"<pre><code>&lt;ul&gt;\n{%- for item in items -%}\n  &lt;li&gt;{{- item -}}&lt;/li&gt;\n{%- endfor -%}\n&lt;/ul&gt;\n</code></pre> <p>Output: <pre><code>&lt;ul&gt;&lt;li&gt;Item1&lt;/li&gt;&lt;li&gt;Item2&lt;/li&gt;&lt;/ul&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#practical-examples","title":"Practical Examples","text":"<p>Clean Comma-Separated List: <pre><code>Items: {%- for item in items -%}\n  {{ item }}{% if not loop.last %}, {% endif %}\n{%- endfor %}\n</code></pre></p> <p>Output: <code>Items: item1, item2, item3</code></p> <p>Compact Number List: <pre><code>Values:\n{%- for num in numbers -%}\n  {{- num -}}\n  {%- if not loop.last -%},{%- endif -%}\n{%- endfor %}\n</code></pre></p> <p>Output: <code>Values: 1,2,3,4,5</code></p> <p>Clean HTML: <pre><code>&lt;nav&gt;\n  {%- for link in links %}\n  &lt;a href=\"{{ link.url }}\"&gt;{{ link.title }}&lt;/a&gt;\n  {%- if not loop.last %} | {% endif -%}\n  {% endfor -%}\n&lt;/nav&gt;\n</code></pre></p> <p>Output: <pre><code>&lt;nav&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt; | &lt;a href=\"/about\"&gt;About&lt;/a&gt; | &lt;a href=\"/contact\"&gt;Contact&lt;/a&gt;&lt;/nav&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#raw-blocks","title":"Raw Blocks","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#basic-usage_2","title":"Basic Usage","text":"<p>Prevent template processing for documentation or examples:</p> <pre><code>{% raw %}\n  {% for item in items %}\n    {{ item }}\n  {% endfor %}\n{% endraw %}\n</code></pre> <p>Output (literal text): <pre><code>  {% for item in items %}\n    {{ item }}\n  {% endfor %}\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#use-cases","title":"Use Cases","text":"<p>1. Documenting Template Syntax: <pre><code>&lt;p&gt;To print a variable, use:&lt;/p&gt;\n&lt;pre&gt;\n{% raw %}\n{{ variable_name }}\n{% endraw %}\n&lt;/pre&gt;\n</code></pre></p> <p>2. Client-Side Templates: <pre><code>&lt;script type=\"text/template\" id=\"user-template\"&gt;\n{% raw %}\n  &lt;div class=\"user\"&gt;\n    &lt;h3&gt;{{ user.name }}&lt;/h3&gt;\n    &lt;p&gt;{{ user.email }}&lt;/p&gt;\n  &lt;/div&gt;\n{% endraw %}\n&lt;/script&gt;\n</code></pre></p> <p>The template inside <code>{% raw %}</code> won't be processed by Miya, allowing it to be used by client-side JavaScript.</p> <p>3. Code Examples: <pre><code>&lt;h3&gt;Template Example:&lt;/h3&gt;\n&lt;pre&gt;&lt;code&gt;\n{% raw %}\n{% if user.active %}\n  Welcome, {{ user.name }}!\n{% endif %}\n{% endraw %}\n&lt;/code&gt;&lt;/pre&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#autoescape-control","title":"Autoescape Control","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#what-is-autoescaping","title":"What is Autoescaping?","text":"<p>Autoescaping automatically escapes HTML special characters to prevent XSS attacks:</p> <pre><code>{# With autoescape ON (default) #}\n{{ \"&lt;script&gt;alert('XSS')&lt;/script&gt;\" }}\n\u2192 &amp;lt;script&amp;gt;alert('XSS')&amp;lt;/script&amp;gt;\n\n{# With autoescape OFF #}\n{{ \"&lt;script&gt;alert('XSS')&lt;/script&gt;\" }}\n\u2192 &lt;script&gt;alert('XSS')&lt;/script&gt;  {# DANGEROUS! #}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#autoescape-blocks","title":"Autoescape Blocks","text":"<p>Control escaping for specific regions:</p> <pre><code>{# Turn OFF autoescape #}\n{% autoescape false %}\n  &lt;p&gt;{{ html_content }}&lt;/p&gt;\n{% endautoescape %}\n\n{# Turn ON autoescape (explicit) #}\n{% autoescape true %}\n  &lt;p&gt;{{ user_input }}&lt;/p&gt;\n{% endautoescape %}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#safe-filter","title":"Safe Filter","text":"<p>Mark specific strings as safe:</p> <pre><code>{# Mark as safe - won't be escaped #}\n{{ trusted_html|safe }}\n\n{# Force escaping #}\n{{ html_string|escape }}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#practical-examples_1","title":"Practical Examples","text":"<p>Rendering Trusted HTML: <pre><code>{# Article body is pre-sanitized HTML #}\n{% autoescape false %}\n&lt;div class=\"article-body\"&gt;\n  {{ article.body }}\n&lt;/div&gt;\n{% endautoescape %}\n\n{# Or use safe filter #}\n&lt;div class=\"article-body\"&gt;\n  {{ article.body|safe }}\n&lt;/div&gt;\n</code></pre></p> <p>Protecting User Input: <pre><code>{# Always escape user-provided content #}\n{% autoescape true %}\n&lt;div class=\"comment\"&gt;\n  &lt;strong&gt;{{ comment.author }}&lt;/strong&gt;\n  &lt;p&gt;{{ comment.text }}&lt;/p&gt;\n&lt;/div&gt;\n{% endautoescape %}\n\n{# Default behavior is autoescape ON #}\n&lt;div class=\"comment\"&gt;\n  {{ user_comment }}  {# Automatically escaped #}\n&lt;/div&gt;\n</code></pre></p> <p>Mixed Content: <pre><code>{# Escape user content, allow trusted HTML #}\n&lt;div class=\"post\"&gt;\n  &lt;h2&gt;{{ post.title }}&lt;/h2&gt;  {# Escaped #}\n\n  {% autoescape false %}\n    {{ post.body|safe }}  {# Trusted HTML #}\n  {% endautoescape %}\n\n  &lt;div class=\"comments\"&gt;\n    {% for comment in comments %}\n      &lt;p&gt;{{ comment.text }}&lt;/p&gt;  {# Escaped again #}\n    {% endfor %}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#security-best-practices","title":"Security Best Practices","text":"<pre><code>{#  SAFE - user input is escaped #}\n&lt;p&gt;{{ user.name }}&lt;/p&gt;\n&lt;p&gt;{{ user.comment }}&lt;/p&gt;\n\n{#  SAFE - trusted content explicitly marked #}\n&lt;div&gt;{{ article.html|safe }}&lt;/div&gt;\n\n{#  DANGEROUS - disabling autoescape for user input #}\n{% autoescape false %}\n  {{ user_input }}  {# XSS VULNERABILITY! #}\n{% endautoescape %}\n\n{#  NEVER DO THIS #}\n{{ user_comment|safe }}  {# XSS VULNERABILITY! #}\n</code></pre> <p>Rule: Only use <code>|safe</code> or <code>{% autoescape false %}</code> for content you completely control and trust.</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#environment-configuration","title":"Environment Configuration","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#available-options","title":"Available Options","text":"<p>Configure template behavior at environment creation:</p> <pre><code>env := miya.NewEnvironment(\n    miya.WithAutoEscape(true),        // Auto-escape HTML (default: true)\n    miya.WithStrictUndefined(true),   // Error on undefined vars (default: false)\n    miya.WithTrimBlocks(true),        // Remove first newline after block (default: false)\n    miya.WithLstripBlocks(true),      // Strip leading spaces before blocks (default: false)\n)\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#autoescape","title":"AutoEscape","text":"<pre><code>// Enable (default)\nmiya.WithAutoEscape(true)   // {{ \"&lt;script&gt;\" }} \u2192 &amp;lt;script&amp;gt;\n\n// Disable (be careful!)\nmiya.WithAutoEscape(false)  // {{ \"&lt;script&gt;\" }} \u2192 &lt;script&gt;\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#strictundefined","title":"StrictUndefined","text":"<pre><code>// Lenient (default) - undefined variables render as empty\nmiya.WithStrictUndefined(false)\n// {{ undefined_var }} \u2192 \"\"\n\n// Strict - undefined variables cause errors\nmiya.WithStrictUndefined(true)\n// {{ undefined_var }} \u2192 ERROR: undefined variable\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#trimblocks","title":"TrimBlocks","text":"<pre><code>// Enable - remove first newline after block tags\nmiya.WithTrimBlocks(true)\n\n// Template:\n// {% if true %}\n// text\n// {% endif %}\n//\n// Output: \"text\" (no leading newline)\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#lstripblocks","title":"LstripBlocks","text":"<pre><code>// Enable - remove leading whitespace before block tags\nmiya.WithLstripBlocks(true)\n\n// Template:\n//     {% if true %}\n//     text\n//     {% endif %}\n//\n// Output: \"text\" (no leading spaces)\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#combining-options","title":"Combining Options","text":"<pre><code>// Production configuration\nenv := miya.NewEnvironment(\n    miya.WithAutoEscape(true),       // Security\n    miya.WithStrictUndefined(true),  // Catch errors early\n    miya.WithTrimBlocks(true),       // Clean output\n    miya.WithLstripBlocks(true),     // Clean output\n)\n\n// Development configuration\nenv := miya.NewEnvironment(\n    miya.WithAutoEscape(false),      // Easier debugging\n    miya.WithStrictUndefined(false), // Lenient for incomplete data\n)\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#performance-memory-management","title":"Performance &amp; Memory Management","text":"<p>Miya Engine includes several optimizations for high-performance template rendering.</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#ast-node-pooling","title":"AST Node Pooling","text":"<p>The parser uses <code>sync.Pool</code> to reuse frequently allocated AST nodes, reducing garbage collection pressure during template parsing. This is automatic and requires no configuration.</p> <p>Pooled node types: - <code>LiteralNode</code> - String, number, and boolean literals - <code>IdentifierNode</code> - Variable references - <code>BinaryOpNode</code> - Binary operators (+, -, ==, and, or, etc.) - <code>FilterNode</code> - Filter applications - <code>UnaryOpNode</code> - Unary operators (not, -) - <code>AttributeNode</code> - Attribute access (obj.attr) - <code>GetItemNode</code> - Index access (obj[key]) - <code>CallNode</code> - Function calls</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#templaterelease","title":"Template.Release()","text":"<p>For high-throughput applications that create many short-lived templates, you can explicitly release pooled AST nodes back to their pools:</p> <pre><code>// Create and use a template\ntmpl, err := env.FromString(\"Hello {{ name }}!\")\nif err != nil {\n    log.Fatal(err)\n}\n\noutput, err := tmpl.Render(ctx)\nif err != nil {\n    log.Fatal(err)\n}\n\n// Optional: release pooled nodes for reuse\ntmpl.Release()\n</code></pre> <p>When to use <code>Release()</code>: - Processing many unique templates in a loop - One-time template rendering where the template won't be reused - Memory-constrained environments - High-throughput services generating templates dynamically</p> <p>When NOT to use <code>Release()</code>: - Templates cached in the environment (they're reused) - Long-lived templates rendered multiple times - When memory pressure isn't a concern</p>"},{"location":"ADVANCED_FEATURES_GUIDE/#evaluator-pooling","title":"Evaluator Pooling","text":"<p>The environment automatically pools evaluator instances for reuse across render calls. This is handled internally and requires no user action.</p> <pre><code>// Evaluators are automatically pooled and reused\nfor i := 0; i &lt; 1000; i++ {\n    output, _ := tmpl.Render(ctx)  // Reuses pooled evaluators\n}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#template-caching","title":"Template Caching","text":"<p>Templates are cached by name (for file-based templates) or by content hash (for string templates):</p> <pre><code>// First call: parses and caches the template\ntmpl1, _ := env.FromString(\"Hello {{ name }}!\")\n\n// Second call: returns cached template (no parsing)\ntmpl2, _ := env.FromString(\"Hello {{ name }}!\")\n// tmpl1 and tmpl2 are the same cached instance\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#cache-management","title":"Cache Management","text":"<pre><code>// Clear all cached templates\nenv.ClearCache()\n\n// Invalidate a specific template (removes from both regular and inheritance caches)\nenv.InvalidateTemplate(\"page.html\")\n\n// Check cache size\nsize := env.GetCacheSize()\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#best-practices-for-performance","title":"Best Practices for Performance","text":"<pre><code>// 1. Reuse environments - don't create new ones per request\nvar env = miya.NewEnvironment(\n    miya.WithLoader(loader),\n    miya.WithAutoEscape(true),\n)\n\n// 2. Let templates cache - call GetTemplate/FromString once\ntmpl, _ := env.GetTemplate(\"page.html\")\nfor _, data := range items {\n    ctx := miya.NewContext()\n    ctx.Set(\"item\", data)\n    output, _ := tmpl.Render(ctx)\n}\n\n// 3. Use Release() only for one-off templates\nfunc processUserTemplate(userTemplate string, data interface{}) string {\n    tmpl, _ := env.FromString(userTemplate)\n    defer tmpl.Release()  // Release since this is a one-time template\n\n    ctx := miya.NewContext()\n    ctx.Set(\"data\", data)\n    output, _ := tmpl.Render(ctx)\n    return output\n}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#practical-examples_2","title":"Practical Examples","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#example-1-clean-html-output","title":"Example 1: Clean HTML Output","text":"<pre><code>&lt;nav&gt;\n  &lt;ul&gt;\n    {%- for item in nav_items %}\n    &lt;li&gt;&lt;a href=\"{{ item.url }}\"&gt;{{ item.title }}&lt;/a&gt;&lt;/li&gt;\n    {%- endfor %}\n  &lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre> <p>Output (no extra whitespace): <pre><code>&lt;nav&gt;\n  &lt;ul&gt;&lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"/about\"&gt;About&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre></p>"},{"location":"ADVANCED_FEATURES_GUIDE/#example-2-text-transformation-blocks","title":"Example 2: Text Transformation Blocks","text":"<pre><code>{# Convert entire section to uppercase #}\n{% filter upper %}\n&lt;h1&gt;Important Announcement&lt;/h1&gt;\n&lt;p&gt;This message will be in uppercase.&lt;/p&gt;\n&lt;p&gt;Variable {{ name }} will also be uppercase.&lt;/p&gt;\n{% endfilter %}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#example-3-safe-content-rendering","title":"Example 3: Safe Content Rendering","text":"<pre><code>&lt;article&gt;\n  {# Title is escaped #}\n  &lt;h1&gt;{{ article.title }}&lt;/h1&gt;\n\n  {# Body is trusted HTML #}\n  &lt;div class=\"content\"&gt;\n    {{ article.body|safe }}\n  &lt;/div&gt;\n\n  {# User comments are escaped #}\n  &lt;div class=\"comments\"&gt;\n    &lt;h2&gt;Comments&lt;/h2&gt;\n    {% for comment in comments %}\n      &lt;div class=\"comment\"&gt;\n        &lt;strong&gt;{{ comment.author }}&lt;/strong&gt;\n        &lt;p&gt;{{ comment.text }}&lt;/p&gt;\n      &lt;/div&gt;\n    {% endfor %}\n  &lt;/div&gt;\n&lt;/article&gt;\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#example-4-template-documentation","title":"Example 4: Template Documentation","text":"<pre><code>&lt;h2&gt;Template Syntax Guide&lt;/h2&gt;\n\n&lt;h3&gt;Variables:&lt;/h3&gt;\n&lt;pre&gt;{% raw %}{{ variable }}{% endraw %}&lt;/pre&gt;\n\n&lt;h3&gt;Loops:&lt;/h3&gt;\n&lt;pre&gt;\n{% raw %}\n{% for item in items %}\n  {{ item }}\n{% endfor %}\n{% endraw %}\n&lt;/pre&gt;\n\n&lt;h3&gt;Conditionals:&lt;/h3&gt;\n&lt;pre&gt;\n{% raw %}\n{% if condition %}\n  content\n{% endif %}\n{% endraw %}\n&lt;/pre&gt;\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#example-5-combining-features","title":"Example 5: Combining Features","text":"<pre><code>{# Filter block + whitespace control #}\n&lt;div class=\"notice\"&gt;\n{%- filter upper|trim -%}\n   This is an important notice\n{%- endfilter -%}\n&lt;/div&gt;\n\n{# Autoescape + filter block #}\n{% autoescape false %}\n{% filter safe %}\n  {{ rich_text_content }}\n{% endfilter %}\n{% endautoescape %}\n\n{# Whitespace control + conditionals #}\n&lt;ul&gt;\n{%- for item in items %}\n  {%- if item.visible %}\n  &lt;li&gt;{{ item.name }}&lt;/li&gt;\n  {%- endif %}\n{%- endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#complete-reference","title":"Complete Reference","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#feature-summary","title":"Feature Summary","text":"Feature Syntax Status Purpose Filter Blocks <code>{% filter name %}...{% endfilter %}</code> Full Apply filters to blocks Chained Filters <code>{% filter f1\\|f2 %}...{% endfilter %}</code> Full Multiple filters Do Statements <code>{% do expression %}</code> Full Execute without output Whitespace Control <code>{%-</code>, <code>-%}</code>, <code>{{-</code>, <code>-}}</code> Full Control whitespace Raw Blocks <code>{% raw %}...{% endraw %}</code> Full Prevent processing Autoescape <code>{% autoescape bool %}...{% endautoescape %}</code> Full Control HTML escaping Safe Filter <code>{{ var\\|safe }}</code> Full Mark as safe HTML Escape Filter <code>{{ var\\|escape }}</code> Full Force escaping"},{"location":"ADVANCED_FEATURES_GUIDE/#environment-options","title":"Environment Options","text":"Option Type Default Description <code>AutoEscape</code> bool <code>true</code> Automatic HTML escaping <code>StrictUndefined</code> bool <code>false</code> Error on undefined variables <code>TrimBlocks</code> bool <code>false</code> Remove first newline after blocks <code>LstripBlocks</code> bool <code>false</code> Strip leading whitespace"},{"location":"ADVANCED_FEATURES_GUIDE/#memory-management-methods","title":"Memory Management Methods","text":"Method Description <code>Template.Release()</code> Return pooled AST nodes for reuse (optional) <code>Environment.ClearCache()</code> Clear all cached templates <code>Environment.InvalidateTemplate(name)</code> Remove specific template from cache <code>Environment.GetCacheSize()</code> Get number of cached templates"},{"location":"ADVANCED_FEATURES_GUIDE/#best-practices","title":"Best Practices","text":""},{"location":"ADVANCED_FEATURES_GUIDE/#1-use-whitespace-control-sparingly","title":"1. Use Whitespace Control Sparingly","text":"<pre><code>{#  Good - strategic use #}\nItems: {%- for item in items %}{{ item }}{{ \", \" if not loop.last }}{% endfor %}\n\n{#  Avoid - excessive #}\n{%- for item in items -%}\n  {{- item -}}\n{%- endfor -%}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#2-always-escape-user-input","title":"2. Always Escape User Input","text":"<pre><code>{#  SAFE #}\n&lt;p&gt;{{ user.comment }}&lt;/p&gt;\n\n{#  DANGEROUS #}\n&lt;p&gt;{{ user.comment|safe }}&lt;/p&gt;\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#3-use-raw-for-documentation-only","title":"3. Use Raw for Documentation Only","text":"<pre><code>{#  Good - documenting syntax #}\n&lt;pre&gt;{% raw %}{{ variable }}{% endraw %}&lt;/pre&gt;\n\n{#  Avoid - for actual content #}\n{% raw %}{{ actual_variable_to_render }}{% endraw %}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#4-filter-blocks-for-transformation","title":"4. Filter Blocks for Transformation","text":"<pre><code>{#  Good - transform entire section #}\n{% filter upper %}\n  {% include \"announcement.html\" %}\n{% endfilter %}\n\n{#  Avoid - single line (use inline filter) #}\n{% filter upper %}{{ text }}{% endfilter %}\n{# Better: {{ text|upper }} #}\n</code></pre>"},{"location":"ADVANCED_FEATURES_GUIDE/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete advanced features demo</li> <li>Filters Guide - Available filters for filter blocks</li> <li>Control Structures - Template control flow</li> <li>Security - HTML escaping and security</li> </ul>"},{"location":"ADVANCED_FEATURES_GUIDE/#summary","title":"Summary","text":"<p>All Advanced Features: 100% Jinja2 Compatible</p> <p>Fully Supported: - Filter Blocks - Apply filters to entire content blocks - Chained Filters - Multiple filters on blocks - Do Statements - Execute without output - Whitespace Control - Fine-grained whitespace management with <code>-</code> - Raw Blocks - Prevent template processing - Autoescape - Control HTML escaping for security - Environment Configuration - AutoEscape, StrictUndefined, TrimBlocks, LstripBlocks - Performance Optimizations - AST node pooling, evaluator pooling, template caching</p> <p>Key Benefits: - Clean, professional output - Security through autoescaping - Documentation-friendly with raw blocks - Powerful block transformations - High performance with minimal memory overhead</p> <p>All advanced features work identically to Jinja2, providing professional-grade template control.</p>"},{"location":"COMPREHENSIONS_GUIDE/","title":"Comprehensions Guide","text":"<p>List and dictionary comprehensions provide concise syntax for creating collections. Miya Engine supports basic comprehensions with some limitations compared to Jinja2.</p> <p>Working Example: See <code>examples/features/comprehensions/</code> for complete examples.</p>"},{"location":"COMPREHENSIONS_GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>List Comprehensions</li> <li>Dictionary Comprehensions</li> <li>Limitations</li> <li>Workarounds</li> <li>Practical Examples</li> </ol>"},{"location":"COMPREHENSIONS_GUIDE/#list-comprehensions","title":"List Comprehensions","text":""},{"location":"COMPREHENSIONS_GUIDE/#basic-syntax","title":"Basic Syntax","text":"<p>Transform collections in a single line:</p> <pre><code>{{ [expression for item in iterable] }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#simple-transformations","title":"Simple Transformations","text":"<pre><code>{# Double each number #}\n{{ [x * 2 for x in numbers] }}\n\u2192 [2, 4, 6, 8, 10]\n\n{# Convert to uppercase #}\n{{ [name|upper for name in names] }}\n\u2192 [\"ALICE\", \"BOB\", \"CHARLIE\"]\n\n{# Extract property #}\n{{ [user.name for user in users] }}\n\u2192 [\"Alice\", \"Bob\", \"Charlie\"]\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#with-filters","title":"With Filters","text":"<p>Apply template filters in comprehensions:</p> <pre><code>{# Title case all names #}\n{{ [name|title for name in names] }}\n\u2192 [\"Alice\", \"Bob\", \"Charlie\"]\n\n{# Format prices #}\n{{ [\"$\" ~ (price|round(2)) for price in prices] }}\n\u2192 [\"$9.99\", \"$19.99\", \"$29.99\"]\n\n{# Slugify titles #}\n{{ [title|slugify for title in titles] }}\n\u2192 [\"hello-world\", \"product-name\", \"user-guide\"]\n\n{# Chain multiple filters #}\n{{ [name|trim|upper for name in names] }}\n\u2192 [\"ALICE\", \"BOB\", \"CHARLIE\"]\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#arithmetic-operations","title":"Arithmetic Operations","text":"<pre><code>{# Calculate totals #}\n{{ [price * quantity for price, quantity in zip(prices, quantities)] }}\n\n{# Apply discount #}\n{{ [price * 0.9 for price in prices] }}\n\u2192 [8.99, 17.99, 26.99]\n\n{# Complex expressions #}\n{{ [price * qty * (1 - discount/100) for price, qty, discount in product_data] }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#string-operations","title":"String Operations","text":"<pre><code>{# Concatenate strings #}\n{{ [first ~ \" \" ~ last for first, last in zip(first_names, last_names)] }}\n\u2192 [\"Alice Smith\", \"Bob Jones\", \"Charlie Brown\"]\n\n{# Format user display #}\n{{ [user.name ~ \" (\" ~ user.role ~ \")\" for user in users] }}\n\u2192 [\"Alice (admin)\", \"Bob (user)\", \"Charlie (moderator)\"]\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#dictionary-comprehensions","title":"Dictionary Comprehensions","text":""},{"location":"COMPREHENSIONS_GUIDE/#basic-syntax_1","title":"Basic Syntax","text":"<p>Create dictionaries from iterables:</p> <pre><code>{{ {key_expr: value_expr for item in iterable} }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#simple-mappings","title":"Simple Mappings","text":"<pre><code>{# Create ID to name mapping #}\n{{ {user.id: user.name for user in users} }}\n\u2192 {1: \"Alice\", 2: \"Bob\", 3: \"Charlie\"}\n\n{# Email to role mapping #}\n{{ {user.email: user.role for user in users} }}\n\u2192 {\"alice@ex.com\": \"admin\", \"bob@ex.com\": \"user\"}\n\n{# Product SKU to name #}\n{{ {product.sku: product.name for product in products} }}\n\u2192 {\"LAP001\": \"Laptop\", \"MOU002\": \"Mouse\"}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#with-transformations","title":"With Transformations","text":"<pre><code>{# Uppercase keys #}\n{{ {key|upper: value for key, value in data} }}\n\n{# Format values #}\n{{ {product.id: \"$\" ~ product.price for product in products} }}\n\u2192 {1: \"$999\", 2: \"$29\", 3: \"$79\"}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#limitations","title":"Limitations","text":""},{"location":"COMPREHENSIONS_GUIDE/#inline-if-clauses-not-supported","title":"Inline If Clauses Not Supported","text":"<p>Jinja2 syntax (NOT in Miya): <pre><code>{#  Does NOT work in Miya #}\n{{ [x for x in numbers if x &gt; 5] }}\n{{ [user.name for user in users if user.active] }}\n{{ {k: v for k, v in dict.items() if v &gt; 0} }}\n</code></pre></p> <p>Error: Comprehensions with inline <code>if</code> clauses are not supported in Miya Engine.</p>"},{"location":"COMPREHENSIONS_GUIDE/#dict-unpacking-with-items-not-supported","title":"Dict Unpacking with .items() Not Supported","text":"<p>Jinja2 syntax (NOT in Miya): <pre><code>{#  Does NOT work in Miya #}\n{{ {k: v for k, v in data.items()} }}\n{{ {k.upper(): v * 2 for k, v in config.items()} }}\n</code></pre></p> <p>Error: Tuple unpacking in dict comprehensions is not supported.</p>"},{"location":"COMPREHENSIONS_GUIDE/#nested-comprehensions-not-supported","title":"Nested Comprehensions Not Supported","text":"<p>Jinja2 syntax (NOT in Miya): <pre><code>{#  Does NOT work in Miya #}\n{{ [item for sublist in lists for item in sublist] }}\n{{ [x * y for x in range(3) for y in range(3)] }}\n</code></pre></p> <p>Error: Multiple <code>for</code> clauses are not supported.</p>"},{"location":"COMPREHENSIONS_GUIDE/#workarounds","title":"Workarounds","text":""},{"location":"COMPREHENSIONS_GUIDE/#alternative-1-use-template-filters","title":"Alternative 1: Use Template Filters","text":"<p>Instead of inline <code>if</code>, use filters to pre-filter data:</p> <pre><code>{#  Not supported #}\n{{ [x for x in numbers if x &gt; 5] }}\n\n{#  Use select filter #}\n{{ numbers|select(\"greaterthan\", 5)|list }}\n\n{#  Not supported #}\n{{ [user.name for user in users if user.active] }}\n\n{#  Use selectattr filter #}\n{{ users|selectattr(\"active\")|map(attribute=\"name\")|list }}\n\n{#  Not supported #}\n{{ [user for user in users if user.age &gt;= 18] }}\n\n{#  Use selectattr + list #}\n{{ users|selectattr(\"age\", \"&gt;=\", 18)|list }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#alternative-2-use-for-loops","title":"Alternative 2: Use For Loops","text":"<p>For complex filtering, use traditional loops:</p> <pre><code>{#  Not supported #}\n{{ [x * 2 for x in numbers if x is even] }}\n\n{#  Use for loop with condition #}\n{% set result = [] %}\n{% for x in numbers %}\n  {% if x is even %}\n    {% set _ = result.append(x * 2) %}\n  {% endif %}\n{% endfor %}\n{{ result }}\n\n{# Or use loop filtering #}\n{% for x in numbers if x is even %}\n  {{ x * 2 }}{{ \", \" if not loop.last else \"\" }}\n{% endfor %}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#alternative-3-prepare-data-in-application","title":"Alternative 3: Prepare Data in Application","text":"<p>The best approach for complex filtering:</p> <p>In Go code: <pre><code>// Filter data before passing to template\nactiveUsers := []User{}\nfor _, user := range users {\n    if user.Active &amp;&amp; user.Age &gt;= 18 {\n        activeUsers = append(activeUsers, user)\n    }\n}\nctx.Set(\"active_users\", activeUsers)\n</code></pre></p> <p>In template: <pre><code>{# Simple comprehension on pre-filtered data #}\n{{ [user.name for user in active_users] }}\n</code></pre></p>"},{"location":"COMPREHENSIONS_GUIDE/#alternative-4-use-set-with-block-assignment","title":"Alternative 4: Use Set with Block Assignment","text":"<pre><code>{# Collect filtered results #}\n{% set filtered_names %}\n  {% for user in users if user.active %}\n    {{ user.name }}{{ \",\" if not loop.last else \"\" }}\n  {% endfor %}\n{% endset %}\n\n{# Split back to list if needed #}\n{{ filtered_names|trim|split(\",\") }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#practical-examples","title":"Practical Examples","text":""},{"location":"COMPREHENSIONS_GUIDE/#example-1-extract-names","title":"Example 1: Extract Names","text":"<pre><code>{# Simple property extraction #}\n{% set user_names = [user.name for user in users] %}\n&lt;p&gt;Users: {{ user_names|join(\", \") }}&lt;/p&gt;\n\n{# With filter #}\n{% set user_names = [user.name|title for user in users] %}\n&lt;p&gt;Users: {{ user_names|join(\", \") }}&lt;/p&gt;\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-2-calculate-totals","title":"Example 2: Calculate Totals","text":"<pre><code>{# Calculate line totals #}\n{% set line_totals = [item.price * item.qty for item in cart] %}\n&lt;p&gt;Line Totals: {{ line_totals }}&lt;/p&gt;\n&lt;p&gt;Cart Total: ${{ line_totals|sum|round(2) }}&lt;/p&gt;\n\n{# With discount #}\n{% set discounted = [price * 0.9 for price in prices] %}\n&lt;p&gt;Discounted Prices: {{ discounted }}&lt;/p&gt;\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-3-create-lookups","title":"Example 3: Create Lookups","text":"<pre><code>{# Create ID lookup dictionary #}\n{% set user_lookup = {user.id: user.name for user in users} %}\n\n{# Use the lookup #}\n&lt;p&gt;User 123: {{ user_lookup[123] }}&lt;/p&gt;\n\n{# Email to role mapping #}\n{% set role_map = {user.email: user.role for user in users} %}\n&lt;p&gt;alice@example.com is: {{ role_map[\"alice@example.com\"] }}&lt;/p&gt;\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-4-format-display-names","title":"Example 4: Format Display Names","text":"<pre><code>{# Create formatted names #}\n{% set display_names = [user.name ~ \" &lt;\" ~ user.email ~ \"&gt;\" for user in users] %}\n\n&lt;select name=\"recipient\"&gt;\n{% for name in display_names %}\n  &lt;option&gt;{{ name }}&lt;/option&gt;\n{% endfor %}\n&lt;/select&gt;\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-5-nested-data-use-loops","title":"Example 5: Nested Data (Use Loops)","text":"<pre><code>{#  Nested comprehension not supported #}\n{# {{ [item.name for category in categories for item in category.items] }} #}\n\n{#  Use nested loops instead #}\n{% for category in categories %}\n  &lt;h3&gt;{{ category.name }}&lt;/h3&gt;\n  &lt;ul&gt;\n    {{ [item.name for item in category.items]|join(\", \") }}\n  &lt;/ul&gt;\n{% endfor %}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-6-filter-then-comprehend","title":"Example 6: Filter Then Comprehend","text":"<pre><code>{# First filter with selectattr, then comprehend #}\n{% set active_users = users|selectattr(\"active\")|list %}\n{% set active_emails = [user.email for user in active_users] %}\n\n&lt;p&gt;Active user emails: {{ active_emails|join(\", \") }}&lt;/p&gt;\n\n{# Or chain it all #}\n{{ users|selectattr(\"active\")|map(attribute=\"email\")|join(\", \") }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-7-conditional-value-transformation","title":"Example 7: Conditional Value Transformation","text":"<pre><code>{# Using ternary in comprehension #}\n{% set statuses = [\n  \"Active\" if user.active else \"Inactive\"\n  for user in users\n] %}\n\n&lt;ul&gt;\n{% for status in statuses %}\n  &lt;li&gt;{{ status }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#example-8-working-with-zip","title":"Example 8: Working with Zip","text":"<pre><code>{# Combine multiple lists #}\n{% set names = [\"Alice\", \"Bob\", \"Charlie\"] %}\n{% set scores = [95, 87, 92] %}\n\n{% set results = [\n  name ~ \": \" ~ score\n  for name, score in zip(names, scores)\n] %}\n\n&lt;ul&gt;\n{% for result in results %}\n  &lt;li&gt;{{ result }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#feature-comparison","title":"Feature Comparison","text":"Feature Syntax Status Alternative Basic List <code>[expr for x in list]</code> Supported - List with Filter <code>[expr for x in list if cond]</code> Not supported Use <code>selectattr</code>/<code>select</code> filters Basic Dict <code>{expr: expr for x in list}</code> Supported - Dict with .items() <code>{k: v for k, v in dict.items()}</code> Not supported Loop over list instead Dict with Filter <code>{k: v for x in list if cond}</code> Not supported Pre-filter with <code>selectattr</code> Nested <code>[x for list in lists for x in list]</code> Not supported Use nested loops With Filters <code>[x|filter for x in list]</code> Supported - With Expressions <code>[x * 2 for x in list]</code> Supported - With Zip <code>[a + b for a, b in zip(l1, l2)]</code> Supported -"},{"location":"COMPREHENSIONS_GUIDE/#best-practices","title":"Best Practices","text":""},{"location":"COMPREHENSIONS_GUIDE/#1-use-filters-for-filtering","title":"1. Use Filters for Filtering","text":"<pre><code>{#  Good - use filters #}\n{{ users|selectattr(\"active\")|map(attribute=\"name\")|list }}\n\n{#  Avoid - inline if not supported #}\n{{ [user.name for user in users if user.active] }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#2-keep-comprehensions-simple","title":"2. Keep Comprehensions Simple","text":"<pre><code>{#  Good - simple transformation #}\n{{ [x * 2 for x in numbers] }}\n\n{#  Avoid - too complex #}\n{{ [complex_function(x, y, z) for x, y, z in zip(a, b, c) if condition] }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#3-pre-filter-in-application-code","title":"3. Pre-filter in Application Code","text":"<pre><code>{#  Good - filter in Go, comprehend in template #}\n# Go: ctx.Set(\"active_users\", filterActiveUsers(users))\n{{ [user.name for user in active_users] }}\n\n{#  Avoid - trying to filter in comprehension #}\n{{ [user.name for user in users if user.active] }}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#4-use-descriptive-variable-names","title":"4. Use Descriptive Variable Names","text":"<pre><code>{#  Good - clear purpose #}\n{% set user_emails = [user.email for user in users] %}\n\n{#  Avoid - unclear #}\n{% set x = [u.e for u in users] %}\n</code></pre>"},{"location":"COMPREHENSIONS_GUIDE/#summary","title":"Summary","text":"<p>Comprehensions in Miya Engine: ~70% Jinja2 Compatible</p> <p>Fully Supported: - Basic list comprehensions <code>[expr for x in list]</code> - Basic dict comprehensions <code>{k_expr: v_expr for x in list}</code> - Comprehensions with filters <code>[x|filter for x in list]</code> - Comprehensions with expressions <code>[x * 2 for x in list]</code> - Comprehensions with zip/enumerate - Nested property access <code>[user.name for user in users]</code> - String concatenation in comprehensions - Ternary operators in comprehensions</p> <p>Not Supported: - Inline if clauses <code>[x for x in list if condition]</code> - Dict comprehensions with .items() unpacking <code>{k: v for k, v in dict.items()}</code> - Nested comprehensions <code>[x for list in lists for x in list]</code> - Complex conditional filtering in comprehensions</p> <p>Workarounds Available: - Use <code>selectattr</code>/<code>select</code>/<code>reject</code> filters for filtering - Use traditional for loops for complex logic - Pre-filter data in application code - Use filter chains: <code>items|selectattr(\"active\")|map(attribute=\"name\")|list</code></p> <p>Miya's comprehension support covers the most common use cases. For advanced filtering, use the powerful filter system or prepare data in your application.</p>"},{"location":"COMPREHENSIONS_GUIDE/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete comprehensions demo</li> <li>Filters Guide - Using selectattr/select for filtering</li> <li>Control Structures - Alternative loop syntax</li> <li>Miya Limitations - All known limitations</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/","title":"Comprehensive Miya Feature Documentation","text":"<p>This document provides the complete feature reference for Miya (miya), based on the comprehensive demonstration implementation showing 131+ features with 95%+ Jinja2 compatibility.</p>"},{"location":"COMPREHENSIVE_FEATURES/#quick-summary","title":"Quick Summary","text":"<ul> <li>** 131+ Features Implemented** and demonstrated</li> <li>** 95%+ Jinja2 Compatibility** for production use</li> <li>** Complete Template System** including inheritance, macros, filters</li> <li>** Production Ready** with performance optimizations and caching</li> <li>** Thread Safe** for concurrent web applications</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#template-inheritance-system","title":"Template Inheritance System","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-100-compatible","title":"**Status: 100% Compatible **","text":"<pre><code>&lt;!-- base.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{% block title %}Default{% endblock %}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    {% block content %}{% endblock %}\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;!-- child.html --&gt;\n{% extends \"base.html\" %}\n{% block title %}{{ user.name|title }}{% endblock %}\n{% block content %}\n    {{ super() }}  &lt;!-- Include parent content --&gt;\n    &lt;p&gt;Additional content&lt;/p&gt;\n{% endblock %}\n</code></pre> <p>Features Implemented: -  <code>{% extends \"template.html\" %}</code> - Template extension -  <code>{% block name %}...{% endblock %}</code> - Block definitions -  <code>{{ super() }}</code> - Parent block access -  Multi-level inheritance chains -  Block name resolution and caching -  Runtime inheritance processing</p> <p>Performance: -  Inheritance resolution caching -  Template compilation caching -  Optimized block resolution</p>"},{"location":"COMPREHENSIVE_FEATURES/#control-structures","title":"Control Structures","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-100-compatible_1","title":"**Status: 100% Compatible **","text":""},{"location":"COMPREHENSIVE_FEATURES/#conditional-statements","title":"Conditional Statements","text":"<pre><code>{% if user.active %}\n    &lt;span class=\"active\"&gt;Active User&lt;/span&gt;\n{% elif user.pending %}\n    &lt;span class=\"pending\"&gt;Pending Approval&lt;/span&gt;\n{% else %}\n    &lt;span class=\"inactive\"&gt;Inactive&lt;/span&gt;\n{% endif %}\n\n&lt;!-- Inline conditionals --&gt;\n&lt;span&gt;{{ 'Active' if user.active else 'Inactive' }}&lt;/span&gt;\n&lt;span&gt;{{ 'Admin' if user.role == 'admin' else 'User' if user.role == 'user' else 'Guest' }}&lt;/span&gt;\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#for-loops-with-advanced-features","title":"For Loops with Advanced Features","text":"<pre><code>{% for user in users %}\n    &lt;li class=\"user-{{ loop.index }}\"&gt;\n        {{ user.name }} \n        ({{ loop.index }}/{{ loop.length }})\n        {% if loop.first %}[FIRST]{% endif %}\n        {% if loop.last %}[LAST]{% endif %}\n        {% if loop.index is even %}[EVEN]{% endif %}\n        [REV: {{ loop.revindex }}]\n    &lt;/li&gt;\n{% else %}\n    &lt;li&gt;No users found&lt;/li&gt;\n{% endfor %}\n\n&lt;!-- Conditional iteration --&gt;\n{% for user in users if user.active %}\n    &lt;span&gt;{{ user.name }}&lt;/span&gt;\n{% endfor %}\n\n&lt;!-- Multiple variable unpacking --&gt;\n{% for key, value in user.metadata %}\n    &lt;div&gt;{{ key }}: {{ value }}&lt;/div&gt;\n{% endfor %}\n</code></pre> <p>Loop Variables Available: -  <code>loop.index</code> - 1-based counter -  <code>loop.index0</code> - 0-based counter -  <code>loop.first</code> - First iteration boolean -  <code>loop.last</code> - Last iteration boolean -  <code>loop.length</code> - Total iterations -  <code>loop.revindex</code> - Reverse index -  <code>loop.revindex0</code> - Reverse index (0-based)</p>"},{"location":"COMPREHENSIVE_FEATURES/#variable-assignment","title":"Variable Assignment","text":"<pre><code>&lt;!-- Simple assignment --&gt;\n{% set name = \"John Doe\" %}\n\n&lt;!-- Multiple assignment --&gt;\n{% set first_name = user.first %}\n{% set last_name = user.last %}\n\n&lt;!-- Block assignment --&gt;\n{% set html_content %}\n    &lt;div&gt;\n        &lt;h1&gt;{{ title }}&lt;/h1&gt;\n        &lt;p&gt;Generated at {{ now }}&lt;/p&gt;\n    &lt;/div&gt;\n{% endset %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#with-statements-scoping","title":"With Statements (Scoping)","text":"<pre><code>{% with recent_users = users|selectattr(\"active\")|sort(attribute=\"created\", reverse=true)|list %}\n    {% if recent_users %}\n        &lt;h3&gt;Recent Active Users ({{ recent_users|length }})&lt;/h3&gt;\n        {% for user in recent_users[:5] %}\n            &lt;li&gt;{{ user.name }}&lt;/li&gt;\n        {% endfor %}\n    {% endif %}\n{% endwith %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#include-import-system","title":"Include &amp; Import System","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-100-compatible_2","title":"**Status: 100% Compatible **","text":""},{"location":"COMPREHENSIVE_FEATURES/#template-inclusion","title":"Template Inclusion","text":"<pre><code>&lt;!-- Include with context passing --&gt;\n{% include \"partials/header.html\" %}\n{% include \"partials/user_stats.html\" %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#namespace-imports","title":"Namespace Imports","text":"<pre><code>{% import \"macros/forms.html\" as forms %}\n{{ forms.input_field(\"username\", \"text\", \"\", \"Username\", required=true) }}\n{{ forms.render_card(\"Title\", content_data) }}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#selective-imports","title":"Selective Imports","text":"<pre><code>{% from \"macros/forms.html\" import input_field, render_card %}\n{{ input_field(\"email\", \"email\", \"\", \"Email\") }}\n{{ render_card(\"User Info\", user_data) }}\n</code></pre> <p>Features Implemented: -  Context inheritance in includes -  Namespace creation and management -  Macro resolution and execution -  Import caching and optimization</p>"},{"location":"COMPREHENSIVE_FEATURES/#macro-system","title":"Macro System","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-90-compatible","title":"**Status: 90% Compatible **","text":"<pre><code>&lt;!-- Basic macro --&gt;\n{% macro greeting(name) %}\n    &lt;h1&gt;Hello, {{ name }}!&lt;/h1&gt;\n{% endmacro %}\n\n&lt;!-- Macro with default parameters --&gt;\n{% macro button(text, type=\"primary\", size=\"medium\") %}\n    &lt;button class=\"btn btn-{{ type }} btn-{{ size }}\"&gt;{{ text }}&lt;/button&gt;\n{% endmacro %}\n\n&lt;!-- Complex macro with logic --&gt;\n{% macro form_field(name, type=\"text\", value=\"\", label=None, required=False) %}\n&lt;div class=\"form-group\"&gt;\n    {% if label %}\n        &lt;label for=\"{{ name }}\"&gt;\n            {{ label }}\n            {% if required %}&lt;span class=\"required\"&gt;*&lt;/span&gt;{% endif %}\n        &lt;/label&gt;\n    {% endif %}\n    &lt;input \n        type=\"{{ type }}\" \n        name=\"{{ name }}\" \n        value=\"{{ value }}\"\n        {% if required %}required{% endif %}\n        class=\"form-control\"\n    &gt;\n&lt;/div&gt;\n{% endmacro %}\n\n&lt;!-- Macro usage --&gt;\n{{ greeting(\"World\") }}\n{{ button(\"Submit\", \"success\", \"large\") }}\n{{ form_field(\"username\", label=\"Username\", required=true) }}\n</code></pre> <p>Implemented Features: -  Basic macro definition and calling -  Default parameters -  Complex logic within macros -  Macro imports and namespaces -  Call blocks: <code>{% call macro() %}content{% endcall %}</code></p> <p>Limited Features: -  Variable arguments (<code>*args</code>) - Parser limitation -  Keyword arguments (<code>**kwargs</code>) - Parser limitation</p> <p>Workarounds: <pre><code>&lt;!-- Instead of *args, use explicit parameters or lists --&gt;\n{% macro render_items(items, class=\"\") %}\n    &lt;ul class=\"{{ class }}\"&gt;\n    {% for item in items %}\n        &lt;li&gt;{{ item }}&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n{% endmacro %}\n</code></pre></p>"},{"location":"COMPREHENSIVE_FEATURES/#filter-library","title":"Filter Library","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-98-compatible","title":"**Status: 98% Compatible **","text":""},{"location":"COMPREHENSIVE_FEATURES/#string-filters-18-filters","title":"String Filters (18 filters)","text":"<pre><code>{{ \"hello world\"|upper }}                    \u2192 \"HELLO WORLD\"\n{{ \"HELLO WORLD\"|lower }}                    \u2192 \"hello world\"\n{{ \"hello world\"|title }}                    \u2192 \"Hello World\"\n{{ \"hello world\"|capitalize }}               \u2192 \"Hello world\"\n{{ \"  text  \"|trim }}                        \u2192 \"text\"\n{{ \"Hello World\"|replace(\"World\", \"Go\") }}   \u2192 \"Hello Go\"\n{{ \"Very long text\"|truncate(10) }}          \u2192 \"Very lo...\"\n{{ \"hello\"|center(10, \"-\") }}                \u2192 \"--hello---\"\n{{ \"text\"|indent(4) }}                       \u2192 \"    text\"\n{{ \"hello world\"|wordwrap(5) }}              \u2192 \"hello\\nworld\"\n{{ \"hello world\"|wordcount }}                \u2192 2\n{{ text|startswith(\"Hello\") }}               \u2192 true/false\n{{ text|endswith(\"world\") }}                 \u2192 true/false\n{{ text|contains(\"ello\") }}                  \u2192 true/false\n{{ \"hello world\"|slugify }}                  \u2192 \"hello-world\"\n{{ \"text\"|pad_left(10, \"0\") }}              \u2192 \"000000text\"\n{{ \"text\"|pad_right(10, \"0\") }}             \u2192 \"text000000\"\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#collection-filters-15-filters","title":"Collection Filters (15 filters)","text":"<pre><code>{{ [1,3,2]|sort }}                          \u2192 [1,2,3]\n{{ [1,2,3]|reverse }}                       \u2192 [3,2,1]\n{{ [1,1,2,2]|unique }}                      \u2192 [1,2]\n{{ [1,2,3]|first }}                         \u2192 1\n{{ [1,2,3]|last }}                          \u2192 3\n{{ [1,2,3]|length }}                        \u2192 3\n{{ [1,2,3]|join(\", \") }}                    \u2192 \"1, 2, 3\"\n{{ users|selectattr(\"active\") }}            \u2192 active users only\n{{ users|rejectattr(\"active\") }}            \u2192 inactive users only\n{{ users|map(\"name\")|list }}                \u2192 list of names\n{{ range(12)|batch(3) }}                    \u2192 [[0,1,2],[3,4,5],[6,7,8],[9,10,11]]\n{{ items|slice(5) }}                        \u2192 first 5 items\n{{ dict|items }}                            \u2192 [(k1,v1), (k2,v2)]\n{{ dict|keys }}                             \u2192 [k1, k2]\n{{ dict|values }}                           \u2192 [v1, v2]\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#numeric-filters-10-filters","title":"Numeric Filters (10 filters)","text":"<pre><code>{{ -42|abs }}                               \u2192 42\n{{ 3.14159|round(2) }}                      \u2192 3.14\n{{ 3.7|ceil }}                              \u2192 4\n{{ 3.7|floor }}                             \u2192 3\n{{ 5|pow(2) }}                              \u2192 25\n{{ \"123\"|int }}                             \u2192 123\n{{ \"123.45\"|float }}                        \u2192 123.45\n{{ [1,2,3,4]|sum }}                         \u2192 10\n{{ [1,2,3,4]|min }}                         \u2192 1\n{{ [1,2,3,4]|max }}                         \u2192 4\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#htmlsecurity-filters-11-filters","title":"HTML/Security Filters (11 filters)","text":"<pre><code>{{ \"&lt;script&gt;\"|escape }}                     \u2192 \"&amp;lt;script&amp;gt;\"\n{{ \"&lt;script&gt;\"|e }}                          \u2192 \"&amp;lt;script&amp;gt;\" (alias)\n{{ html_content|safe }}                     \u2192 unescaped HTML\n{{ content|forceescape }}                   \u2192 force escape\n{{ \"hello world\"|urlencode }}               \u2192 \"hello%20world\"\n{{ \"Visit https://example.com\"|urlize }}    \u2192 clickable links\n{{ html|truncatehtml(100) }}                \u2192 truncate preserving HTML\n{{ html|striptags }}                        \u2192 remove HTML tags\n{{ content|autoescape }}                    \u2192 auto HTML escaping\n{{ content|marksafe }}                      \u2192 mark as safe HTML\n{{ attrs|xmlattr }}                         \u2192 XML attributes\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#utility-filters-11-filters","title":"Utility Filters (11 filters)","text":"<pre><code>{{ user.email|default(\"No email\") }}        \u2192 fallback value\n{{ user.email|d(\"No email\") }}              \u2192 alias\n{{ user|attr(\"name\") }}                     \u2192 get attribute\n{{ \"Hello {0}\"|format(\"World\") }}           \u2192 \"Hello World\"\n{{ data|pprint }}                           \u2192 pretty print\n{{ dict|dictsort }}                         \u2192 sort by keys\n{{ items|groupby(\"category\") }}             \u2192 group by attribute\n{{ data|tojson }}                           \u2192 JSON string\n{{ json_string|fromjson }}                  \u2192 parsed object\n{{ value|string }}                          \u2192 string conversion\n{{ 1536|filesizeformat }}                  \u2192 \"1.5 KB\"\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#datetime-filters-8-filters","title":"Date/Time Filters (8 filters)","text":"<pre><code>{{ now|date }}                              \u2192 formatted date\n{{ now|time }}                              \u2192 formatted time\n{{ now|strftime(\"%Y-%m-%d\") }}              \u2192 custom format\n{{ timestamp|timestamp }}                   \u2192 Unix timestamp\n{{ date|age }}                              \u2192 days since date\n{{ date|relative_date }}                    \u2192 \"2 days ago\"\n{{ date|weekday }}                          \u2192 day of week\n{{ date|month_name }}                       \u2192 month name\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#test-expressions","title":"Test Expressions","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-95-compatible","title":"**Status: 95% Compatible **","text":""},{"location":"COMPREHENSIVE_FEATURES/#type-tests-8-tests","title":"Type Tests (8 tests)","text":"<pre><code>{{ variable is defined }}                   \u2192 true if exists\n{{ variable is undefined }}                 \u2192 true if doesn't exist\n{{ value is none }}                         \u2192 true if None/null\n{{ value is boolean }}                      \u2192 true if boolean\n{{ value is string }}                       \u2192 true if string\n{{ value is number }}                       \u2192 true if numeric\n{{ value is integer }}                      \u2192 true if integer\n{{ value is float }}                        \u2192 true if float\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#container-tests-4-tests","title":"Container Tests (4 tests)","text":"<pre><code>{{ value is sequence }}                     \u2192 true if list/array\n{{ value is mapping }}                      \u2192 true if dict/map\n{{ value is iterable }}                     \u2192 true if can iterate\n{{ value is callable }}                     \u2192 true if function\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#numeric-tests-3-tests","title":"Numeric Tests (3 tests)","text":"<pre><code>{{ number is even }}                        \u2192 true if even\n{{ number is odd }}                         \u2192 true if odd\n{{ number is divisibleby(3) }}              \u2192 true if divisible\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#string-tests-7-tests","title":"String Tests (7 tests)","text":"<pre><code>{{ text is lower }}                         \u2192 true if lowercase\n{{ text is upper }}                         \u2192 true if uppercase\n{{ text is startswith(\"Hello\") }}           \u2192 true if starts with\n{{ text is endswith(\"world\") }}             \u2192 true if ends with\n{{ text is match(r\"\\d+\") }}                 \u2192 true if regex matches\n{{ text is alpha }}                         \u2192 true if alphabetic\n{{ text is alnum }}                         \u2192 true if alphanumeric\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#comparison-tests-4-tests","title":"Comparison Tests (4 tests)","text":"<pre><code>{{ value is equalto(other) }}               \u2192 true if equal\n{{ value is sameas(other) }}                \u2192 true if same object\n{{ item is in(collection) }}                \u2192 true if contains\n{{ collection is contains(item) }}          \u2192 true if contains\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#negated-tests","title":"Negated Tests","text":"<pre><code>{{ value is not defined }}                  \u2192 negation of any test\n{{ value is not none }}\n{{ value is not empty }}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#advanced-features","title":"Advanced Features","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-85-compatible","title":"**Status: 85% Compatible **","text":""},{"location":"COMPREHENSIVE_FEATURES/#whitespace-control","title":"Whitespace Control","text":"<pre><code>{%- for item in items -%}\n    &lt;li&gt;{{- item -}}&lt;/li&gt;\n{%- endfor -%}\n\n&lt;!-- Result: clean output without extra whitespace --&gt;\n&lt;li&gt;Item1&lt;/li&gt;&lt;li&gt;Item2&lt;/li&gt;&lt;li&gt;Item3&lt;/li&gt;\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#raw-blocks","title":"Raw Blocks","text":"<pre><code>{% raw %}\nThis {{ will not }} be {% processed %}\nShows actual template syntax: {% for item in items %}{{ item }}{% endfor %}\n{% endraw %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#filter-blocks","title":"Filter Blocks","text":"<pre><code>{% filter upper %}\nThis entire block will be uppercase.\nIncluding {{ variable }} content.\nNumbers like {{ 12345 }} are also affected.\n{% endfilter %}\n\n{% filter trim|title %}\n\n    this text will be trimmed and title-cased\n\n{% endfilter %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#autoescaping-control","title":"Autoescaping Control","text":"<pre><code>{% autoescape true %}\n    {{ user_input }}  &lt;!-- will be HTML escaped --&gt;\n{% endautoescape %}\n\n{% autoescape false %}\n    {{ html_content }}  &lt;!-- will not be escaped --&gt;\n{% endautoescape %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#complex-expressions","title":"Complex Expressions","text":"<pre><code>&lt;!-- Arithmetic and comparisons --&gt;\n{{ (active_count / user_count * 100)|round if user_count &gt; 0 else 0 }}\n\n&lt;!-- Filter chaining with logic --&gt;\n{{ users|selectattr(\"active\")|sort(attribute=\"created\", reverse=true)|list }}\n\n&lt;!-- Nested conditionals --&gt;\n{{ 'Senior' if user.age &gt;= 60 else 'Adult' if user.age &gt;= 18 else 'Minor' }}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#performance-production-features","title":"Performance &amp; Production Features","text":""},{"location":"COMPREHENSIVE_FEATURES/#status-100-implemented","title":"**Status: 100% Implemented **","text":""},{"location":"COMPREHENSIVE_FEATURES/#caching-system","title":"Caching System","text":"<ul> <li>Template Compilation Caching - LRU cache for parsed templates</li> <li>Inheritance Resolution Caching - Cached template inheritance chains</li> <li>Smart Cache Invalidation - Automatic updates when templates change</li> <li>Memory Management - Configurable cache sizes and TTL</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#concurrent-safety","title":"Concurrent Safety","text":"<ul> <li>Thread-Safe Operations - All operations safe for concurrent use</li> <li>Read-Write Locks - Optimized locking for cache access</li> <li>Context Isolation - Each render has isolated context</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#runtime-optimizations","title":"Runtime Optimizations","text":"<ul> <li>Expression Evaluation - Optimized AST evaluation</li> <li>Filter Chain Optimization - Efficient filter processing</li> <li>Memory Pooling - Reduced garbage collection pressure</li> <li>Variable Resolution - Fast context variable lookup</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#error-handling","title":"Error Handling","text":"<ul> <li>Comprehensive Error Messages - Clear error reporting with line/column</li> <li>Undefined Variable Handling - Silent, strict, or debug modes</li> <li>Template Source Maps - Error tracking to original templates</li> <li>Runtime Error Recovery - Graceful handling of runtime errors</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#environment-configuration","title":"Environment &amp; Configuration","text":""},{"location":"COMPREHENSIVE_FEATURES/#environment-options","title":"Environment Options","text":"<pre><code>env := miya.NewEnvironment(\n    miya.WithAutoEscape(true),        // HTML auto-escaping\n    miya.WithStrictUndefined(true),   // Strict undefined handling\n    miya.WithTrimBlocks(true),        // Trim block newlines\n    miya.WithLstripBlocks(true),      // Left-strip block whitespace\n)\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#template-loaders","title":"Template Loaders","text":"<pre><code>// FileSystem Loader (Production)\nfsLoader := loader.NewFileSystemLoader([]string{\"templates\"}, directParser)\n\n// String Loader (Development/Testing)\nstringLoader := loader.NewStringLoader(directParser)\n\n// Advanced Loader Features\n- Template discovery and search\n- Multiple search paths\n- File extension filtering\n- Automatic reloading (development mode)\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#context-management","title":"Context Management","text":"<pre><code>ctx := miya.NewContext()\nctx.Set(\"user\", userData)\nctx.Set(\"products\", productList)\nctx.Set(\"current_time\", time.Now())\n\n// Context features:\n- Variable scoping\n- Nested contexts\n- Context inheritance\n- Type-safe variable access\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#feature-compatibility-summary","title":"Feature Compatibility Summary","text":"Category Total Features Implemented Compatibility Status Template Inheritance 4 4 100% Control Structures 7 7 100% Include/Import System 3 3 100% Macro System 6 5 90% String Filters 18 18 100% Collection Filters 15 15 100% Numeric Filters 10 10 100% HTML/Security Filters 11 11 100% Utility Filters 11 11 100% Date/Time Filters 8 7 90% Test Expressions 26 25 95% Advanced Features 8 7 85% Performance Features 8 8 100% Environment/Config 6 6 100%"},{"location":"COMPREHENSIVE_FEATURES/#overall-compatibility-954","title":"Overall Compatibility: 95.4%","text":"<p>Total Features: 131 implemented out of 136 possible</p>"},{"location":"COMPREHENSIVE_FEATURES/#production-readiness-assessment","title":"Production Readiness Assessment","text":""},{"location":"COMPREHENSIVE_FEATURES/#fully-production-ready","title":"** Fully Production Ready**","text":"<ul> <li>Complete template inheritance system</li> <li>Comprehensive filter library (73 filters)</li> <li>Full test expression support (26 tests) </li> <li>Advanced template features (whitespace, escaping, raw blocks)</li> <li>High-performance caching and optimizations</li> <li>Thread-safe concurrent operations</li> <li>Professional template organization (FileSystemLoader)</li> <li>Robust error handling and debugging</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#enterprise-grade","title":"** Enterprise Grade**","text":"<ul> <li>Memory optimization and pooling</li> <li>Configurable caching strategies</li> <li>Multiple template loader types</li> <li>Environment configuration options</li> <li>Security features (autoescaping, safe filters)</li> <li>Comprehensive logging and error reporting</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#developer-experience","title":"** Developer Experience**","text":"<ul> <li>Clear, comprehensive error messages</li> <li>Hot template reloading (development)</li> <li>Template debugging and inspection</li> <li>Complete feature parity with Jinja2</li> <li>Extensive documentation and examples</li> </ul>"},{"location":"COMPREHENSIVE_FEATURES/#usage-examples","title":"Usage Examples","text":""},{"location":"COMPREHENSIVE_FEATURES/#complete-web-application-template","title":"Complete Web Application Template","text":"<pre><code>&lt;!-- templates/layout.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;{% block title %}My App{% endblock %}&lt;/title&gt;\n    {% block extra_head %}{% endblock %}\n&lt;/head&gt;\n&lt;body class=\"{% block body_class %}{% endblock %}\"&gt;\n    &lt;nav&gt;\n        {% block navigation %}\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/about\"&gt;About&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        {% endblock %}\n    &lt;/nav&gt;\n\n    &lt;main&gt;\n        {% if messages %}\n            {% for message in messages %}\n                &lt;div class=\"alert alert-{{ message.type }}\"&gt;\n                    {{ message.content|escape }}\n                &lt;/div&gt;\n            {% endfor %}\n        {% endif %}\n\n        {% block content %}{% endblock %}\n    &lt;/main&gt;\n\n    &lt;footer&gt;\n        {% block footer %}\n            &lt;p&gt;&amp;copy; {{ current_year }} My Company&lt;/p&gt;\n        {% endblock %}\n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;!-- templates/home.html --&gt;\n{% extends \"layout.html\" %}\n{% from \"macros/forms.html\" import input_field, button %}\n\n{% block title %}Welcome - {{ super() }}{% endblock %}\n\n{% block content %}\n    &lt;h1&gt;Welcome, {{ user.name|title }}!&lt;/h1&gt;\n\n    {% if user.is_admin %}\n        &lt;div class=\"admin-panel\"&gt;\n            &lt;h2&gt;Admin Functions&lt;/h2&gt;\n            &lt;!-- Admin content --&gt;\n        &lt;/div&gt;\n    {% endif %}\n\n    &lt;div class=\"user-stats\"&gt;\n        &lt;h3&gt;Your Activity&lt;/h3&gt;\n        {% for activity in user.recent_activity %}\n            &lt;div class=\"activity\" data-id=\"{{ activity.id }}\"&gt;\n                &lt;span class=\"time\"&gt;{{ activity.created|relative_date }}&lt;/span&gt;\n                &lt;span class=\"action\"&gt;{{ activity.action|title }}&lt;/span&gt;\n            &lt;/div&gt;\n        {% else %}\n            &lt;p&gt;No recent activity&lt;/p&gt;\n        {% endfor %}\n    &lt;/div&gt;\n\n    &lt;form method=\"post\" action=\"/update-profile\"&gt;\n        {{ input_field(\"name\", \"text\", user.name, \"Full Name\", required=true) }}\n        {{ input_field(\"email\", \"email\", user.email, \"Email Address\", required=true) }}\n        {{ button(\"Update Profile\", \"primary\") }}\n    &lt;/form&gt;\n{% endblock %}\n</code></pre>"},{"location":"COMPREHENSIVE_FEATURES/#related-documentation","title":"Related Documentation","text":"<ul> <li>Example Code - Complete feature examples</li> <li>Template Files - Example template organization</li> <li>Limitations - Known limitations and workarounds</li> <li>Performance Benchmarks - Performance analysis</li> </ul> <p>This comprehensive feature set makes Miya suitable for production web applications requiring full Jinja2 template compatibility in Go.</p>"},{"location":"CONTROL_STRUCTURES_GUIDE/","title":"Control Structures Guide","text":"<p>Control structures enable conditional logic, loops, and variable management in templates. Miya Engine provides full Jinja2-compatible control flow.</p> <p>Working Example: See <code>examples/features/control-structures/</code> for complete examples.</p>"},{"location":"CONTROL_STRUCTURES_GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Conditional Statements</li> <li>For Loops</li> <li>Inline Conditionals</li> <li>Variable Assignment</li> <li>With Statements</li> <li>Complex Control Flow</li> </ol>"},{"location":"CONTROL_STRUCTURES_GUIDE/#conditional-statements","title":"Conditional Statements","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#if-elif-else","title":"If / Elif / Else","text":"<p>Basic conditional branching:</p> <pre><code>{% if user.role == \"admin\" %}\n  &lt;p&gt;Admin access granted&lt;/p&gt;\n{% elif user.role == \"moderator\" %}\n  &lt;p&gt;Moderator access granted&lt;/p&gt;\n{% elif user.role == \"user\" %}\n  &lt;p&gt;Welcome, user!&lt;/p&gt;\n{% else %}\n  &lt;p&gt;Access restricted&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#simple-if-statement","title":"Simple If Statement","text":"<pre><code>{% if user.active %}\n  &lt;p&gt;Account is ACTIVE&lt;/p&gt;\n{% else %}\n  &lt;p&gt;Account is INACTIVE&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#nested-conditions","title":"Nested Conditions","text":"<pre><code>{% if user.active %}\n  {% if user.verified %}\n    &lt;p&gt; Fully verified and active account&lt;/p&gt;\n  {% else %}\n    &lt;p&gt; Active but needs email verification&lt;/p&gt;\n  {% endif %}\n{% else %}\n  &lt;p&gt; Account needs activation&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#multiple-conditions","title":"Multiple Conditions","text":"<pre><code>{% if user.age &gt;= 18 and user.verified %}\n  &lt;p&gt;Access granted&lt;/p&gt;\n{% endif %}\n\n{% if user.premium or user.trial %}\n  &lt;p&gt;Premium features enabled&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#for-loops","title":"For Loops","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#basic-iteration","title":"Basic Iteration","text":"<pre><code>&lt;ul&gt;\n{% for product in products %}\n  &lt;li&gt;{{ product.name }} - ${{ product.price }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#loop-variables","title":"Loop Variables","text":"<p>Miya provides special loop variables:</p> Variable Description Example Value <code>loop.index</code> Current iteration (1-indexed) 1, 2, 3... <code>loop.index0</code> Current iteration (0-indexed) 0, 1, 2... <code>loop.first</code> True on first iteration true/false <code>loop.last</code> True on last iteration true/false <code>loop.length</code> Total items in loop 10 <code>loop.revindex</code> Iterations remaining (1-indexed) 10, 9, 8... <code>loop.revindex0</code> Iterations remaining (0-indexed) 9, 8, 7... <p>Example:</p> <pre><code>&lt;table&gt;\n{% for product in products %}\n  &lt;tr style=\"background: {{ 'lightblue' if loop.first else 'lightyellow' if loop.last else 'white' }}\"&gt;\n    &lt;td&gt;{{ loop.index }}&lt;/td&gt;\n    &lt;td&gt;{{ product.name }}&lt;/td&gt;\n    &lt;td&gt;{{ loop.revindex }} remaining&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#conditional-iteration","title":"Conditional Iteration","text":"<p>Filter items directly in the loop:</p> <pre><code>&lt;p&gt;Products over $50:&lt;/p&gt;\n&lt;ul&gt;\n{% for product in products if product.price &gt; 50 %}\n  &lt;li&gt;{{ product.name }} - ${{ product.price }}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#loop-with-else","title":"Loop with Else","text":"<p>Handle empty collections:</p> <pre><code>&lt;ul&gt;\n{% for item in items %}\n  &lt;li&gt;{{ item }}&lt;/li&gt;\n{% else %}\n  &lt;li&gt;&lt;em&gt;No items to display&lt;/em&gt;&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#nested-loops","title":"Nested Loops","text":"<p>Access parent loop variables with <code>loop.parent.loop</code>:</p> <pre><code>{% for category in categories %}\n  &lt;h3&gt;{{ category.name }}&lt;/h3&gt;\n  &lt;ul&gt;\n  {% for item in category.items %}\n    &lt;li&gt;{{ item }} (Category {{ loop.parent.loop.index }})&lt;/li&gt;\n  {% endfor %}\n  &lt;/ul&gt;\n{% endfor %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#inline-conditionals","title":"Inline Conditionals","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#ternary-operator","title":"Ternary Operator","text":"<p>Concise conditional expressions:</p> <pre><code>{{ 'In Stock' if stock &gt; 0 else 'Out of Stock' }}\n{{ price if price &gt; 0 else 'N/A' }}\n{{ 'SALE!' if discount &gt; 0 else '' }}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#important-limitation","title":"Important Limitation","text":"<p>Inline conditionals MUST include the <code>else</code> clause in Miya Engine:</p> <pre><code>{#  WORKS - includes else #}\n{{ 'Badge' if condition else '' }}\n\n{#  FAILS - missing else #}\n{{ 'Badge' if condition }}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#chained-ternary","title":"Chained Ternary","text":"<p>Multiple conditions in sequence:</p> <pre><code>{{ 'Premium' if total &gt; 1000 else 'Gold' if total &gt; 500 else 'Silver' if total &gt; 100 else 'Bronze' }}\n</code></pre> <p>Reads as: - If total &gt; 1000: \"Premium\" - Else if total &gt; 500: \"Gold\" - Else if total &gt; 100: \"Silver\" - Else: \"Bronze\"</p>"},{"location":"CONTROL_STRUCTURES_GUIDE/#variable-assignment","title":"Variable Assignment","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#set-statement","title":"Set Statement","text":"<p>Assign values to variables:</p> <pre><code>{% set greeting = \"Hello, \" ~ user.name ~ \"!\" %}\n{% set total = 0 %}\n{% set product = products[0] %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#multiple-assignments","title":"Multiple Assignments","text":"<pre><code>{% set first_product = products[0] %}\n{% set second_product = products[1] %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#variables-in-loops","title":"Variables in Loops","text":"<p>Accumulate values (note: variables in loops are scoped):</p> <pre><code>{% set total_price = 0 %}\n{% for product in products %}\n  {% set total_price = total_price + product.price %}\n{% endfor %}\n&lt;p&gt;Total: ${{ total_price }}&lt;/p&gt;\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#block-assignment","title":"Block Assignment","text":"<p>Capture multi-line content:</p> <pre><code>{% set formatted_html %}\n&lt;div class=\"alert\"&gt;\n  &lt;strong&gt;Important!&lt;/strong&gt; You have {{ products|length }} items.\n&lt;/div&gt;\n{% endset %}\n\n{{ formatted_html }}\n</code></pre> <p>Block assignment captures everything between the tags, including HTML and template expressions.</p>"},{"location":"CONTROL_STRUCTURES_GUIDE/#with-statements","title":"With Statements","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#variable-scoping","title":"Variable Scoping","text":"<p>Create local scope for variables:</p> <pre><code>{% with total = products|length %}\n  &lt;p&gt;You have {{ total }} products in your catalog.&lt;/p&gt;\n  &lt;p&gt;{{ 'Large' if total &gt; 5 else 'Small' }} catalog&lt;/p&gt;\n{% endwith %}\n{# total is not available here #}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#multiple-variables","title":"Multiple Variables","text":"<pre><code>{% with min_price = 10, max_price = 100, currency = 'USD' %}\n  &lt;p&gt;Price Range: {{ currency }} {{ min_price }} - {{ currency }} {{ max_price }}&lt;/p&gt;\n{% endwith %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#nested-with","title":"Nested With","text":"<pre><code>{% with category = \"Electronics\" %}\n  {% with count = products|length %}\n    &lt;p&gt;{{ category }} category has {{ count }} items&lt;/p&gt;\n  {% endwith %}\n{% endwith %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#when-to-use-with","title":"When to Use With","text":"<ul> <li>Clean templates: Avoid repeating complex expressions</li> <li>Performance: Calculate expensive operations once</li> <li>Readability: Give meaningful names to complex filters</li> </ul> <p>Example:</p> <pre><code>{# Without with #}\n&lt;p&gt;Active users: {{ users|selectattr(\"active\")|list|length }}&lt;/p&gt;\n&lt;p&gt;Found {{ users|selectattr(\"active\")|list|length }} matches&lt;/p&gt;\n\n{# With with - cleaner #}\n{% with active_count = users|selectattr(\"active\")|list|length %}\n  &lt;p&gt;Active users: {{ active_count }}&lt;/p&gt;\n  &lt;p&gt;Found {{ active_count }} matches&lt;/p&gt;\n{% endwith %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#complex-control-flow","title":"Complex Control Flow","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#combining-conditions-and-loops","title":"Combining Conditions and Loops","text":"<pre><code>{% for product in products %}\n  {% if loop.first %}\n    &lt;p&gt;&lt;strong&gt;Featured Product:&lt;/strong&gt;&lt;/p&gt;\n  {% endif %}\n\n  {% if product.price &gt; 50 %}\n    &lt;div&gt;\n      &lt;p&gt;{{ product.name }} - ${{ product.price }}&lt;/p&gt;\n      {% if product.stock &lt; 10 %}\n        &lt;p style=\"color: red;\"&gt; Low Stock: {{ product.stock }} remaining&lt;/p&gt;\n      {% endif %}\n    &lt;/div&gt;\n  {% endif %}\n\n  {% if loop.last %}\n    &lt;p&gt;&lt;em&gt;End of product list&lt;/em&gt;&lt;/p&gt;\n  {% endif %}\n{% endfor %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#complex-logic-example","title":"Complex Logic Example","text":"<pre><code>{% for user in users %}\n  {% if user.active and user.verified %}\n    {% with days_since = (today - user.last_login).days %}\n      {% if days_since &lt; 7 %}\n        &lt;span class=\"badge-active\"&gt;{{ user.name }} - Active&lt;/span&gt;\n      {% elif days_since &lt; 30 %}\n        &lt;span class=\"badge-warning\"&gt;{{ user.name }} - Inactive&lt;/span&gt;\n      {% else %}\n        &lt;span class=\"badge-danger\"&gt;{{ user.name }} - Dormant&lt;/span&gt;\n      {% endif %}\n    {% endwith %}\n  {% endif %}\n{% endfor %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#practical-examples","title":"Practical Examples","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#example-1-user-dashboard","title":"Example 1: User Dashboard","text":"<pre><code>{% if user.role == \"admin\" %}\n  &lt;h2&gt;Admin Dashboard&lt;/h2&gt;\n  &lt;ul&gt;\n  {% for action in admin_actions %}\n    &lt;li&gt;&lt;a href=\"{{ action.url }}\"&gt;{{ action.name }}&lt;/a&gt;&lt;/li&gt;\n  {% endfor %}\n  &lt;/ul&gt;\n{% elif user.role == \"user\" %}\n  &lt;h2&gt;User Dashboard&lt;/h2&gt;\n  &lt;p&gt;Welcome back, {{ user.name }}!&lt;/p&gt;\n{% else %}\n  &lt;p&gt;Please log in to continue.&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#example-2-shopping-cart","title":"Example 2: Shopping Cart","text":"<pre><code>{% set cart_total = 0 %}\n&lt;h3&gt;Shopping Cart&lt;/h3&gt;\n\n{% for item in cart %}\n  {% set item_total = item.price * item.quantity %}\n  {% set cart_total = cart_total + item_total %}\n\n  &lt;div class=\"cart-item\"&gt;\n    &lt;h4&gt;{{ item.name }}&lt;/h4&gt;\n    &lt;p&gt;Price: ${{ item.price }} \u00d7 {{ item.quantity }} = ${{ item_total }}&lt;/p&gt;\n  &lt;/div&gt;\n{% else %}\n  &lt;p&gt;Your cart is empty&lt;/p&gt;\n{% endfor %}\n\n{% if cart|length &gt; 0 %}\n  &lt;p&gt;&lt;strong&gt;Total: ${{ cart_total }}&lt;/strong&gt;&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#example-3-product-filtering","title":"Example 3: Product Filtering","text":"<pre><code>&lt;h3&gt;Available Products&lt;/h3&gt;\n\n{% with in_stock = products|selectattr(\"stock\", \"greaterthan\", 0)|list %}\n  {% if in_stock|length &gt; 0 %}\n    &lt;p&gt;Showing {{ in_stock|length }} products in stock&lt;/p&gt;\n    &lt;ul&gt;\n    {% for product in in_stock %}\n      &lt;li&gt;\n        {{ product.name }} - ${{ product.price }}\n        {{ '(Low Stock!)' if product.stock &lt; 5 else '' }}\n      &lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n  {% else %}\n    &lt;p&gt;No products currently in stock&lt;/p&gt;\n  {% endif %}\n{% endwith %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#best-practices","title":"Best Practices","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#1-keep-logic-simple","title":"1. Keep Logic Simple","text":"<pre><code>{#  Good - simple and clear #}\n{% if user.active %}\n  Welcome back!\n{% endif %}\n\n{#  Avoid - too complex for template #}\n{% if user.active and user.verified and user.payment_status == \"current\" and user.subscription_expires &gt; today %}\n  ...\n{% endif %}\n</code></pre> <p>Better approach: Prepare data in application code, pass simple flags to template.</p>"},{"location":"CONTROL_STRUCTURES_GUIDE/#2-use-with-for-clarity","title":"2. Use With for Clarity","text":"<pre><code>{#  Good - clear and reusable #}\n{% with eligible = user.active and user.verified %}\n  {% if eligible %}\n    Premium features enabled\n  {% endif %}\n{% endwith %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#3-avoid-deep-nesting","title":"3. Avoid Deep Nesting","text":"<pre><code>{#  Avoid - hard to read #}\n{% if condition1 %}\n  {% if condition2 %}\n    {% if condition3 %}\n      {% for item in items %}\n        ...\n      {% endfor %}\n    {% endif %}\n  {% endif %}\n{% endif %}\n\n{#  Better - flatten logic #}\n{% if condition1 and condition2 and condition3 %}\n  {% for item in items %}\n    ...\n  {% endfor %}\n{% endif %}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#4-always-include-else-in-inline-conditionals","title":"4. Always Include Else in Inline Conditionals","text":"<pre><code>{#  Works in Miya #}\n{{ 'Active' if user.active else 'Inactive' }}\n\n{#  Fails in Miya - missing else #}\n{{ 'Active' if user.active }}\n</code></pre>"},{"location":"CONTROL_STRUCTURES_GUIDE/#complete-reference","title":"Complete Reference","text":""},{"location":"CONTROL_STRUCTURES_GUIDE/#supported-control-structures","title":"Supported Control Structures","text":"Structure Syntax Description <code>if</code> <code>{% if condition %}</code> Conditional execution <code>elif</code> <code>{% elif condition %}</code> Additional condition <code>else</code> <code>{% else %}</code> Fallback branch <code>for</code> <code>{% for item in items %}</code> Iteration <code>for...if</code> <code>{% for x in items if condition %}</code> Filtered iteration <code>for...else</code> <code>{% for %}...{% else %}</code> Empty handling Inline if <code>{{ value if condition else default }}</code> Ternary operator <code>set</code> <code>{% set var = value %}</code> Variable assignment <code>with</code> <code>{% with var = value %}</code> Scoped variables"},{"location":"CONTROL_STRUCTURES_GUIDE/#loop-variables_1","title":"Loop Variables","text":"<p>All loop variables available: <code>index</code>, <code>index0</code>, <code>first</code>, <code>last</code>, <code>length</code>, <code>revindex</code>, <code>revindex0</code>, <code>parent.loop</code></p>"},{"location":"CONTROL_STRUCTURES_GUIDE/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete control structures demo</li> <li>Tests &amp; Operators - Conditional expressions</li> <li>Filters Guide - Data transformation in templates</li> <li>Miya Limitations - Known limitations</li> </ul>"},{"location":"CONTROL_STRUCTURES_GUIDE/#summary","title":"Summary","text":"<p>100% Jinja2 Compatible control structures with one important limitation:</p> <p>Fully Supported: - If/elif/else statements - For loops with all loop variables - Conditional iteration (<code>for...if</code>) - Loop else clause - Nested loops with parent access - Set statements (simple and block) - With statements (single and multiple variables) - Nested control structures</p> <p>Important Note: - Inline conditionals MUST include <code>else</code> clause</p> <p>All control structures work identically to Jinja2, making migration and template sharing seamless.</p>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/","title":"Do Statements Implementation in Miya Engine","text":""},{"location":"DO_STATEMENTS_IMPLEMENTATION/#overview","title":"Overview","text":"<p>Do statements in Jinja2 allow executing expressions purely for side effects without producing any output in the rendered template. This feature is now fully implemented in Miya Engine with complete compatibility with Python Jinja2.</p>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#syntax","title":"Syntax","text":"<pre><code>{% do expression %}\n</code></pre> <p>The <code>do</code> statement evaluates any valid Jinja2 expression but discards the result, producing no template output.</p>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#basic-usage","title":"Basic Usage","text":""},{"location":"DO_STATEMENTS_IMPLEMENTATION/#simple-expressions","title":"Simple Expressions","text":"<pre><code>{# Execute arithmetic - no output #}\n{% do 5 + 3 * 2 %}\n\n{# Variable access - no output #}\n{% set name = \"world\" %}\n{% do name %}\nHello {{ name }}!  &lt;!-- Output: Hello world! --&gt;\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#filter-applications","title":"Filter Applications","text":"<pre><code>{% set text = \"hello\" %}\n{% do text|upper %}  {# Evaluates filter but produces no output #}\nOriginal: {{ text }}, Uppercase: {{ text|upper }}\n&lt;!-- Output: Original: hello, Uppercase: HELLO --&gt;\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#complex-expressions","title":"Complex Expressions","text":"<pre><code>{% set items = [\"a\", \"b\", \"c\"] %}\n{% do items[1]|upper %}  {# Access and filter - no output #}\n{% do (10 + 5) * 2 %}   {# Arithmetic - no output #}\n{% do variable|default(\"fallback\")|length %}  {# Chained operations #}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#integration-with-control-flow","title":"Integration with Control Flow","text":""},{"location":"DO_STATEMENTS_IMPLEMENTATION/#in-conditional-statements","title":"In Conditional Statements","text":"<pre><code>{% set debug = true %}\n{% if debug %}\n  {% do \"Debug mode activated\" %}  {# Expression evaluated, no output #}\n  &lt;p&gt;Debug information here&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#in-loops","title":"In Loops","text":"<pre><code>{% for i in [1, 2, 3, 4, 5] %}\n  {% do i * 2 %}  {# Evaluate expression for each iteration #}\n  &lt;li&gt;Item {{ i }}&lt;/li&gt;\n{% endfor %}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#with-other-statements","title":"With Other Statements","text":"<pre><code>{# Combined with set statements #}\n{% set counter = 0 %}\n{% do counter + 1 %}  {# Evaluates but counter remains 0 #}\nCounter value: {{ counter }}\n\n{# In with blocks #}\n{% with temp = \"temporary\" %}\n  {% do temp|upper %}\n  Temp value: {{ temp }}\n{% endwith %}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#whitespace-control","title":"Whitespace Control","text":"<p>Do statements support full whitespace control like other Jinja2 statements:</p> <pre><code>{# Standard - preserves whitespace #}\nStart {% do expression %} End\n&lt;!-- Output: Start  End --&gt;\n\n{# Left trim #}\nStart {%- do expression %} End  \n&lt;!-- Output: Start End --&gt;\n\n{# Right trim #}\nStart {% do expression -%} End\n&lt;!-- Output: Start End --&gt;\n\n{# Both sides trim #}\nStart {%- do expression -%} End\n&lt;!-- Output: StartEnd --&gt;\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#use-cases","title":"Use Cases","text":""},{"location":"DO_STATEMENTS_IMPLEMENTATION/#1-expression-validation","title":"1. Expression Validation","text":"<pre><code>{# Validate expressions without affecting output #}\n{% set user_input = \"  UNSAFE DATA  \" %}\n{% do user_input|trim|lower %}  {# Validate filter chain works #}\nClean input: {{ user_input|trim|lower }}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#2-complex-calculations","title":"2. Complex Calculations","text":"<pre><code>{# Pre-evaluate complex expressions #}\n{% set price = 19.99 %}\n{% set quantity = 3 %}  \n{% set tax_rate = 0.08 %}\n{% do (price * quantity * (1 + tax_rate))|round(2) %}  {# Test calculation #}\nTotal: ${{ (price * quantity * (1 + tax_rate))|round(2) }}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#3-debug-expressions","title":"3. Debug Expressions","text":"<pre><code>{# Test expressions during development #}\n{% do undefined_var %}  &lt;!-- Will produce error if undefined --&gt;\n{% do complex_filter_chain|filter1|filter2 %}  &lt;!-- Test filter chain --&gt;\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#4-side-effect-simulation","title":"4. Side Effect Simulation","text":"<pre><code>{# In Miya Engine, simulate side effects through expression evaluation #}\n{% set items = [1, 2, 3] %}\n{% for item in items %}\n  {% do item * logging_factor %}  {# Simulate logging calculation #}\n  Processing item {{ item }}\n{% endfor %}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#implementation-details","title":"Implementation Details","text":""},{"location":"DO_STATEMENTS_IMPLEMENTATION/#ast-representation","title":"AST Representation","text":"<pre><code>type DoNode struct {\n    baseNode\n    Expression ExpressionNode\n}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#parser-integration","title":"Parser Integration","text":"<ul> <li>Added to <code>parseBlockStatement()</code> switch</li> <li>Follows same parsing patterns as other statements</li> <li>Proper error handling for malformed expressions</li> </ul>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#runtime-evaluation","title":"Runtime Evaluation","text":"<ul> <li>Evaluates expression using existing expression evaluator</li> <li>Discards result and returns empty string</li> <li>Preserves all error conditions and propagation</li> </ul>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#error-handling","title":"Error Handling","text":"<pre><code>{# These produce appropriate errors #}\n{% do undefined_variable %}     &lt;!-- Error: undefined variable --&gt;\n{% do 5 + %}                    &lt;!-- Error: malformed expression --&gt;\n{% do %}                        &lt;!-- Error: expected expression --&gt;\n{% do invalid.method() %}       &lt;!-- Error: method not found --&gt;\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>Zero Output Impact: No performance impact on template output</li> <li>Expression Overhead: Same performance as equivalent variable expressions</li> <li>Error Propagation: Standard error handling with no additional overhead</li> <li>Memory Usage: Minimal - expression result is immediately discarded</li> </ul>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#compatibility-with-python-jinja2","title":"Compatibility with Python Jinja2","text":"Feature Python Jinja2 Miya Engine Status Basic syntax <code>{% do expr %}</code> <code>{% do expr %}</code> Full Expression support All expressions All expressions Full Whitespace control <code>{%- do ... -%}</code> <code>{%- do ... -%}</code> Full Error handling Standard errors Standard errors Full Integration All control flow All control flow Full Side effects Method calls, etc. Expression evaluation Different* <p>*Note: Miya Engine focuses on expression evaluation rather than method-based side effects due to Go's type system differences.</p>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#migration-from-python-jinja2","title":"Migration from Python Jinja2","text":"<p>Most do statements will work identically:</p> <pre><code>{# These work the same #}\n{% do variable %}\n{% do 5 + 3 %}  \n{% do text|filter %}\n{% do complex_expression %}\n\n{# Python-specific method calls may need adaptation #}\n{# Python: {% do items.append(\"value\") %} #}\n{# Miya Engine: Use set statements for variable modification #}\n</code></pre>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#testing","title":"Testing","text":"<p>The implementation includes comprehensive test coverage: -  25+ test cases covering all functionality -  Error condition testing -  Integration testing with other Jinja2 features -  Performance benchmarking -  Whitespace control validation</p>"},{"location":"DO_STATEMENTS_IMPLEMENTATION/#conclusion","title":"Conclusion","text":"<p>Do statements in Miya Engine provide full compatibility with Python Jinja2 for expression evaluation and side effect simulation. The implementation follows established Miya Engine patterns and maintains high performance while adding this important Jinja2 feature to the template engine.</p>"},{"location":"FILTERS_GUIDE/","title":"Filters Guide","text":"<p>Filters transform variables and expressions in templates. Miya Engine supports 70+ built-in filters with Jinja2 compatibility.</p> <p>Working Example: See <code>examples/features/filters/</code> for complete examples.</p>"},{"location":"FILTERS_GUIDE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Basic Usage</li> <li>String Filters</li> <li>Collection Filters</li> <li>Numeric Filters</li> <li>HTML &amp; Security Filters</li> <li>Utility Filters</li> <li>Filter Chaining</li> <li>Limitations</li> </ol>"},{"location":"FILTERS_GUIDE/#basic-usage","title":"Basic Usage","text":""},{"location":"FILTERS_GUIDE/#syntax","title":"Syntax","text":"<pre><code>{{ variable|filter }}\n{{ variable|filter(arg1, arg2) }}\n{{ variable|filter1|filter2|filter3 }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#examples","title":"Examples","text":"<pre><code>{{ \"hello\"|upper }}                    \u2192 HELLO\n{{ 3.14159|round(2) }}                 \u2192 3.14\n{{ items|join(\", \") }}                 \u2192 item1, item2, item3\n{{ text|truncate(20) }}                \u2192 Truncated text...\n{{ numbers|length }}                   \u2192 5\n</code></pre>"},{"location":"FILTERS_GUIDE/#string-filters","title":"String Filters","text":""},{"location":"FILTERS_GUIDE/#case-conversion","title":"Case Conversion","text":"Filter Example Result <code>upper</code> <code>{{\"hello\"\\|upper}}</code> <code>HELLO</code> <code>lower</code> <code>{{\"HELLO\"\\|lower}}</code> <code>hello</code> <code>capitalize</code> <code>{{\"hello world\"\\|capitalize}}</code> <code>Hello world</code> <code>title</code> <code>{{\"hello world\"\\|title}}</code> <code>Hello World</code> <pre><code>{{ \"miya engine\"|upper }}              \u2192 MIYA ENGINE\n{{ \"MIYA ENGINE\"|lower }}              \u2192 miya engine\n{{ \"hello world\"|title }}              \u2192 Hello World\n{{ \"miya engine\"|capitalize }}         \u2192 Miya engine\n</code></pre>"},{"location":"FILTERS_GUIDE/#string-manipulation","title":"String Manipulation","text":"Filter Description Example <code>trim</code> Remove whitespace <code>{{\"  text  \"\\|trim}}</code> \u2192 <code>text</code> <code>replace</code> Replace substring <code>{{\"hello\"\\|replace(\"l\", \"L\")}}</code> \u2192 <code>heLLo</code> <code>truncate</code> Truncate to length <code>{{\"long text\"\\|truncate(5)}}</code> \u2192 <code>lo...</code> <code>center</code> Center in width <code>{{\"x\"\\|center(5, \"-\")}}</code> \u2192 <code>--x--</code> <code>slugify</code> URL-safe slug <code>{{\"Hello World!\"\\|slugify}}</code> \u2192 <code>hello-world</code> <p>Examples: <pre><code>{{ \"   hello world   \"|trim }}         \u2192 \"hello world\"\n{{ \"Hello World\"|replace(\"World\", \"Miya\") }}  \u2192 \"Hello Miya\"\n{{ long_text|truncate(30) }}           \u2192 \"This is a very long text...\"\n{{ \"Title\"|center(20, \"-\") }}          \u2192 \"-------Title--------\"\n{{ \"Product Name!\"|slugify }}          \u2192 \"product-name\"\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#string-analysis","title":"String Analysis","text":"Filter Description Example <code>wordcount</code> Count words <code>{{\"hello world\"\\|wordcount}}</code> \u2192 <code>2</code> <code>startswith</code> Check start <code>{{\"hello\"\\|startswith(\"he\")}}</code> \u2192 <code>true</code> <code>endswith</code> Check end <code>{{\"hello\"\\|endswith(\"lo\")}}</code> \u2192 <code>true</code> <code>contains</code> Check substring <code>{{\"hello\"\\|contains(\"ell\")}}</code> \u2192 <code>true</code> <code>split</code> Split to list <code>{{\"a,b,c\"\\|split(\",\")}}</code> \u2192 <code>[\"a\",\"b\",\"c\"]</code> <p>Examples: <pre><code>{{ \"The quick brown fox\"|wordcount }}  \u2192 4\n{{ \"filename.txt\"|endswith(\".txt\") }}  \u2192 true\n{{ \"hello world\"|contains(\"world\") }}  \u2192 true\n{{ \"apple,banana,cherry\"|split(\",\") }} \u2192 [\"apple\", \"banana\", \"cherry\"]\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#collection-filters","title":"Collection Filters","text":""},{"location":"FILTERS_GUIDE/#important-limitations","title":"Important Limitations","text":"<p>Some collection filters have limited support in Miya. Reliable filters:</p> <ul> <li><code>length</code>, <code>first</code>, <code>last</code>, <code>join</code></li> <li><code>list</code> (convert to list)</li> <li><code>sort</code>, <code>reverse</code>, <code>unique</code>, <code>slice</code>, <code>batch</code> - May have issues</li> </ul>"},{"location":"FILTERS_GUIDE/#basic-collection-filters","title":"Basic Collection Filters","text":"Filter Description Example <code>first</code> Get first item <code>{{[1,2,3]\\|first}}</code> \u2192 <code>1</code> <code>last</code> Get last item <code>{{[1,2,3]\\|last}}</code> \u2192 <code>3</code> <code>length</code> Get count <code>{{[1,2,3]\\|length}}</code> \u2192 <code>3</code> <code>join</code> Join to string <code>{{[\"a\",\"b\"]\\|join(\",\")}}</code> \u2192 <code>\"a,b\"</code> <code>list</code> Convert to list <code>{{range(5)\\|list}}</code> \u2192 <code>[0,1,2,3,4]</code> <p>Examples: <pre><code>{{ numbers|first }}                    \u2192 1\n{{ numbers|last }}                     \u2192 10\n{{ items|length }}                     \u2192 5\n{{ fruits|join(\", \") }}                \u2192 \"apple, banana, cherry\"\n{{ range(5)|list }}                    \u2192 [0, 1, 2, 3, 4]\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#attribute-extraction","title":"Attribute Extraction","text":"Filter Description Example <code>map(attribute)</code> Extract attribute <code>{{users\\|map(attribute=\"name\")}}</code> <code>selectattr</code> Filter by attribute <code>{{users\\|selectattr(\"active\")}}</code> <code>rejectattr</code> Reject by attribute <code>{{users\\|rejectattr(\"active\")}}</code> <p>Examples: <pre><code>{# Extract all user names #}\n{{ users|map(attribute=\"name\")|join(\", \") }}\n\u2192 \"Alice, Bob, Charlie\"\n\n{# Get only active users #}\n{{ users|selectattr(\"active\")|list }}\n\n{# Get inactive users #}\n{{ users|rejectattr(\"active\")|list }}\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#numeric-filters","title":"Numeric Filters","text":"Filter Description Example <code>abs</code> Absolute value <code>{{-42\\|abs}}</code> \u2192 <code>42</code> <code>round</code> Round number <code>{{3.14159\\|round(2)}}</code> \u2192 <code>3.14</code> <code>int</code> Convert to int <code>{{\"123\"\\|int}}</code> \u2192 <code>123</code> <code>float</code> Convert to float <code>{{\"99.99\"\\|float}}</code> \u2192 <code>99.99</code> <code>pow</code> Power operation <code>{{2\\|pow(8)}}</code> \u2192 <code>256</code> <p>Examples: <pre><code>{{ -42|abs }}                          \u2192 42\n{{ 3.14159|round(2) }}                 \u2192 3.14\n{{ \"123\"|int + 7 }}                    \u2192 130\n{{ \"99.99\"|float }}                    \u2192 99.99\n{{ 2|pow(8) }}                         \u2192 256\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#aggregate-functions","title":"Aggregate Functions","text":"<p>Note: <code>sum</code>, <code>min</code>, <code>max</code> may have limited support. Test in your use case.</p> <pre><code>{# May work in some contexts #}\n{{ numbers|sum }}\n{{ numbers|min }}\n{{ numbers|max }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#html-security-filters","title":"HTML &amp; Security Filters","text":""},{"location":"FILTERS_GUIDE/#essential-security-filters","title":"Essential Security Filters","text":"Filter Description Example <code>escape</code> Escape HTML <code>{{\"&lt;script&gt;\"\\|escape}}</code> \u2192 <code>&amp;lt;script&amp;gt;</code> <code>safe</code> Mark as safe <code>{{html\\|safe}}</code> - Renders HTML <code>striptags</code> Remove tags <code>{{\"&lt;b&gt;text&lt;/b&gt;\"\\|striptags}}</code> \u2192 <code>text</code> <code>urlencode</code> URL encode <code>{{\"hello world\"\\|urlencode}}</code> \u2192 <code>hello%20world</code> <p>Examples: <pre><code>{# Auto-escape user input #}\n{{ user_input|escape }}\n\u2192 &amp;lt;script&amp;gt;alert('XSS')&amp;lt;/script&amp;gt;\n\n{# Allow trusted HTML #}\n{{ trusted_html|safe }}\n\u2192 &lt;strong&gt;Bold Text&lt;/strong&gt;\n\n{# Strip HTML tags #}\n{{ \"&lt;p&gt;Hello &lt;b&gt;World&lt;/b&gt;&lt;/p&gt;\"|striptags }}\n\u2192 \"Hello World\"\n\n{# URL encoding #}\n{{ \"hello world!\"|urlencode }}\n\u2192 \"hello%20world%21\"\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#when-to-use","title":"When to Use","text":"<ul> <li><code>escape</code>: Always escape untrusted user input</li> <li><code>safe</code>: Only for content you control and trust</li> <li><code>striptags</code>: Extract text from HTML</li> <li><code>urlencode</code>: Encode URL parameters</li> </ul>"},{"location":"FILTERS_GUIDE/#utility-filters","title":"Utility Filters","text":""},{"location":"FILTERS_GUIDE/#default-values","title":"Default Values","text":"<pre><code>{{ undefined_var|default(\"fallback\") }}     \u2192 \"fallback\"\n{{ none_var|default(\"default\") }}           \u2192 \"default\"\n{{ \"\"|default(\"empty string\") }}            \u2192 \"empty string\"\n\n{# Alias: d #}\n{{ var|d(\"default\") }}                      \u2192 \"default\"\n</code></pre>"},{"location":"FILTERS_GUIDE/#data-formatting","title":"Data Formatting","text":"Filter Description Example <code>format</code> String formatting <code>{{\"Hello {0}\"\\|format(\"World\")}}</code> <code>tojson</code> Convert to JSON <code>{{data\\|tojson}}</code> <code>filesizeformat</code> Format file size <code>{{1536\\|filesizeformat}}</code> \u2192 <code>1.5 KB</code> <p>Examples: <pre><code>{{ \"Hello {0}, you have {1} messages\"|format(name, count) }}\n\u2192 \"Hello Alice, you have 5 messages\"\n\n{{ {\"id\": 123, \"name\": \"Product\"}|tojson }}\n\u2192 '{\"id\":123,\"name\":\"Product\"}'\n\n{{ 1536|filesizeformat }}\n\u2192 \"1.5 KB\"\n\n{{ 1048576|filesizeformat }}\n\u2192 \"1.0 MB\"\n</code></pre></p>"},{"location":"FILTERS_GUIDE/#filter-chaining","title":"Filter Chaining","text":""},{"location":"FILTERS_GUIDE/#multiple-filters","title":"Multiple Filters","text":"<p>Apply multiple filters in sequence:</p> <pre><code>{{ \"  hello world  \"|trim|upper|replace(\"WORLD\", \"MIYA\") }}\n\u2192 \"HELLO MIYA\"\n\n{{ long_text|truncate(30)|title }}\n\u2192 \"This Is A Very Long Tex...\"\n\n{{ users|selectattr(\"active\")|map(attribute=\"name\")|join(\", \")|upper }}\n\u2192 \"ALICE, CHARLIE, DIANA\"\n</code></pre>"},{"location":"FILTERS_GUIDE/#order-matters","title":"Order Matters","text":"<pre><code>{# Different results based on order #}\n{{ \"hello\"|upper|replace(\"L\", \"X\") }}      \u2192 \"HEXXO\"\n{{ \"hello\"|replace(\"l\", \"X\")|upper }}      \u2192 \"HEXXO\"\n</code></pre>"},{"location":"FILTERS_GUIDE/#chaining-with-arguments","title":"Chaining with Arguments","text":"<pre><code>{{ value|default(\"N/A\")|upper|center(20, \"-\") }}\n\u2192 \"--------N/A---------\"\n\n{{ prices|map(attribute=\"amount\")|sum|round(2) }}\n\u2192 299.98\n</code></pre>"},{"location":"FILTERS_GUIDE/#practical-examples","title":"Practical Examples","text":""},{"location":"FILTERS_GUIDE/#example-1-user-display-names","title":"Example 1: User Display Names","text":"<pre><code>{# Format user names #}\n{% for user in users %}\n  {{ user.name|title }} ({{ user.role|capitalize }})\n{% endfor %}\n\n{# Extract and join active user emails #}\n{{ users|selectattr(\"active\")|map(attribute=\"email\")|join(\", \") }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#example-2-price-formatting","title":"Example 2: Price Formatting","text":"<pre><code>{# Format currency #}\n${{ price|round(2) }}\n\n{# Apply discount #}\nOriginal: ${{ price|round(2) }}\nDiscounted: ${{ (price * 0.9)|round(2) }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#example-3-safe-html-rendering","title":"Example 3: Safe HTML Rendering","text":"<pre><code>{# Escape user content #}\n&lt;div class=\"comment\"&gt;\n  {{ user_comment|escape }}\n&lt;/div&gt;\n\n{# Render trusted HTML #}\n&lt;div class=\"content\"&gt;\n  {{ article_html|safe }}\n&lt;/div&gt;\n</code></pre>"},{"location":"FILTERS_GUIDE/#example-4-list-processing","title":"Example 4: List Processing","text":"<pre><code>{# Join list items #}\nTags: {{ tags|join(\", \") }}\n\n{# Get active user count #}\nActive Users: {{ users|selectattr(\"active\")|list|length }}\n\n{# First and last items #}\nFirst: {{ items|first }}, Last: {{ items|last }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#limitations","title":"Limitations","text":""},{"location":"FILTERS_GUIDE/#filters-with-known-issues","title":"Filters with Known Issues","text":"<p>Based on testing, these filters may not work reliably:</p> <pre><code>{# May fail with \"requires a sequence\" error #}\n{{ numbers|sort }}\n{{ numbers|reverse }}\n{{ items|unique }}\n{{ numbers|slice(3) }}\n{{ range(10)|batch(3) }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#working-alternatives","title":"Working Alternatives","text":"<p>Instead of problematic filters, use:</p> <pre><code>{# Use in loops #}\n{% for num in numbers %}{{ num }}{% endfor %}\n\n{# Use filter chains #}\n{{ items|selectattr(\"active\")|map(attribute=\"name\")|join(\", \") }}\n\n{# Convert to list #}\n{{ range(10)|list }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#comprehension-filters-dont-work","title":"Comprehension Filters Don't Work","text":"<pre><code>{#  This doesn't work #}\n{{ [x for x in numbers if x &gt; 5] }}\n\n{#  Use filter chains instead #}\n{{ numbers|select(\"greaterthan\", 5)|list }}\n</code></pre>"},{"location":"FILTERS_GUIDE/#complete-filter-reference","title":"Complete Filter Reference","text":""},{"location":"FILTERS_GUIDE/#string-filters-16","title":"String Filters (16+)","text":"<p><code>upper</code>, <code>lower</code>, <code>capitalize</code>, <code>title</code>, <code>trim</code>, <code>replace</code>, <code>truncate</code>, <code>center</code>, <code>wordcount</code>, <code>split</code>, <code>startswith</code>, <code>endswith</code>, <code>contains</code>, <code>slugify</code>, <code>indent</code>, <code>wordwrap</code></p>"},{"location":"FILTERS_GUIDE/#collection-filters-8","title":"Collection Filters (8)","text":"<p><code>first</code>, <code>last</code>, <code>length</code>, <code>join</code>, <code>list</code>, <code>map</code>, <code>selectattr</code>, <code>rejectattr</code></p> <p><code>sort</code>, <code>reverse</code>, <code>unique</code>, <code>slice</code>, <code>batch</code> - Limited support</p>"},{"location":"FILTERS_GUIDE/#numeric-filters-5","title":"Numeric Filters (5)","text":"<p><code>abs</code>, <code>round</code>, <code>int</code>, <code>float</code>, <code>pow</code></p> <p><code>sum</code>, <code>min</code>, <code>max</code> - May have issues</p>"},{"location":"FILTERS_GUIDE/#htmlsecurity-filters-4","title":"HTML/Security Filters (4)","text":"<p><code>escape</code>, <code>safe</code>, <code>striptags</code>, <code>urlencode</code></p>"},{"location":"FILTERS_GUIDE/#utility-filters-5","title":"Utility Filters (5)","text":"<p><code>default</code>, <code>format</code>, <code>tojson</code>, <code>filesizeformat</code>, <code>dictsort</code></p>"},{"location":"FILTERS_GUIDE/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete filter examples</li> <li>MIYA_LIMITATIONS.md - Known filter limitations</li> <li>Filter Blocks - Apply filters to entire blocks</li> </ul>"},{"location":"FILTERS_GUIDE/#summary","title":"Summary","text":"<p>70+ filters available with most Jinja2 filters working identically.</p> <p>Reliably Working: - All string filters (upper, lower, trim, replace, etc.) - Basic collection filters (first, last, length, join) - Numeric filters (abs, round, int, float) - Security filters (escape, safe, striptags) - Utility filters (default, format, tojson)</p> <p>Use with Caution: - Collection transformation filters (sort, reverse, unique) - Aggregate functions (sum, min, max)</p> <p>Test your specific use case - run <code>examples/features/filters/</code> to see what works.</p>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/","title":"Filter Blocks Implementation Guide","text":""},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#overview","title":"Overview","text":"<p>STATUS:  FULLY IMPLEMENTED AND WORKING</p> <p>This document provides technical details about the filter blocks (<code>{% filter %}...{% endfilter %}</code>) implementation in Go Miya, which provides full compatibility with Python Jinja2's filter block functionality.</p> <p>Filter blocks are now production-ready and support all advanced features including chaining, arguments, nesting, and complex template content.</p>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#architecture","title":"Architecture","text":""},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#1-ast-integration-parserastgo","title":"1. AST Integration (<code>parser/ast.go</code>)","text":"<p>FilterBlockNode Structure: <pre><code>type FilterBlockNode struct {\n    baseNode\n    FilterChain []FilterNode // Chain of filters to apply\n    Body        []Node       // Content to be filtered\n}\n</code></pre></p> <p>Key Features: - Supports multiple chained filters in a single block - Contains arbitrary template content (text, variables, loops, etc.) - Proper line/column tracking for error reporting - Integrates seamlessly with existing AST structure</p>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#2-parser-implementation-parserparsergo","title":"2. Parser Implementation (<code>parser/parser.go</code>)","text":"<p>parseFilterBlock() Function: - Parses <code>{% filter filterName(args)|nextFilter %}</code> syntax - Handles filter chaining with <code>|</code> separator - Supports filter arguments and named parameters - Validates filter syntax and provides meaningful error messages - Properly handles block termination with <code>{% endfilter %}</code></p> <p>Parser Integration: <pre><code>case lexer.TokenFilter:\n    return p.parseFilterBlock()\n</code></pre></p>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#3-runtime-evaluation-runtimeevaluatorgo","title":"3. Runtime Evaluation (<code>runtime/evaluator.go</code>)","text":"<p>EvalFilterBlockNode() Function: - Renders the block content first into a string - Applies each filter in the chain sequentially (left-to-right) - Uses the existing <code>EnvironmentContext.ApplyFilter()</code> system - Maintains compatibility with all built-in and custom filters - Provides proper error handling and context</p> <p>Evaluation Flow: 1. Execute block content (variables, loops, conditions, etc.) 2. Capture rendered output as string 3. Apply each filter in sequence:    - Evaluate filter arguments    - Call filter function via environment context    - Pass result to next filter in chain 4. Return final filtered result</p>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#usage-examples","title":"Usage Examples","text":""},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#basic-filter-block","title":"Basic Filter Block","text":"<pre><code>{% filter upper %}\nHello World\n{% endfilter %}\n&lt;!-- Output: HELLO WORLD --&gt;\n</code></pre>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#filter-chaining","title":"Filter Chaining","text":"<pre><code>{% filter trim|upper|reverse %}\n  hello world  \n{% endfilter %}\n&lt;!-- Output: DLROW OLLEH --&gt;\n</code></pre>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#complex-content","title":"Complex Content","text":"<pre><code>{% filter upper %}\n{% for user in users %}\n  - {{ user.name }}\n{% endfor %}\n{% endfilter %}\n</code></pre>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#nested-filter-blocks","title":"Nested Filter Blocks","text":"<pre><code>{% filter upper %}\nOuter: \n{% filter lower %}\nINNER CONTENT\n{% endfilter %}\n{% endfilter %}\n&lt;!-- Output: OUTER: inner content --&gt;\n</code></pre>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#completed-implementation-details","title":"Completed Implementation Details","text":""},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#implementation-summary","title":"Implementation Summary","text":"<p>All components have been successfully implemented and tested:</p> <ol> <li>AST Node: <code>FilterBlockNode</code> added to <code>parser/ast.go</code></li> <li>Stores filter chain and template body</li> <li>Proper string representation for debugging</li> <li> <p>Follows established Miya Engine patterns</p> </li> <li> <p>Parser Integration: <code>parseFilterBlock()</code> added to <code>parser/parser.go</code></p> </li> <li>Added <code>case lexer.TokenFilter:</code> to block statement switch</li> <li>Parses complex filter chains: <code>{% filter upper|trim|truncate(10) %}</code></li> <li>Handles arguments and named parameters</li> <li> <p>Comprehensive error handling</p> </li> <li> <p>Evaluator Support: <code>EvalFilterBlockNode()</code> added to <code>runtime/evaluator.go</code></p> </li> <li>Renders template body content first</li> <li>Applies filter chain sequentially (left-to-right)</li> <li> <p>Proper string conversion and error propagation</p> </li> <li> <p>Comprehensive Testing: All test cases pass</p> </li> <li>Basic filter blocks</li> <li>Chained filters with arguments</li> <li>Complex template content (loops, variables, conditionals)</li> <li>Nested filter blocks</li> <li>Error conditions</li> </ol>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#working-examples","title":"Working Examples","text":"<p>The implementation supports the following patterns:</p> <pre><code>&lt;!-- Basic Filter Block --&gt;\n{% filter upper %}Hello {{ user.name }}! Welcome to our application.{% endfilter %}\n&lt;!-- Output: \"HELLO JOHN DOE! WELCOME TO OUR APPLICATION.\" --&gt;\n\n&lt;!-- Chained Filters --&gt;\n{% filter trim|upper|reverse %}   Hello World   {% endfilter %}\n&lt;!-- Output: \"DLROW OLLEH\" --&gt;\n\n&lt;!-- Complex Content with Loops --&gt;\n{% filter upper %}\n  User Preferences:\n  {% for key, value in user.preferences %}\n  - {{ key }}: {{ value }}\n  {% endfor %}\n{% endfilter %}\n&lt;!-- Output: All content processed through UPPER filter --&gt;\n</code></pre>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#technical-implementation-details","title":"Technical Implementation Details","text":""},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#filter-chain-processing","title":"Filter Chain Processing","text":"<ol> <li>Parse-time: Filters are parsed into <code>FilterNode</code> structures containing:</li> <li>Filter name</li> <li>Arguments (evaluated at runtime)</li> <li> <p>Named arguments (keyword parameters)</p> </li> <li> <p>Runtime: Filters are applied using the environment's filter registry:    <pre><code>if envCtx, ok := ctx.(EnvironmentContext); ok {\n    result, err := envCtx.ApplyFilter(filterNode.FilterName, filteredContent, args...)\n}\n</code></pre></p> </li> </ol>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#error-handling","title":"Error Handling","text":"<ul> <li>Parse Errors: Invalid filter syntax, missing <code>endfilter</code>, etc.</li> <li>Runtime Errors: Unknown filters, filter execution errors</li> <li>Context Errors: Missing environment context for filter application</li> </ul>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>Content Buffering: Block content is rendered once and cached</li> <li>Filter Chain Optimization: Sequential application without intermediate allocations</li> <li>Memory Management: Efficient string handling for large content blocks</li> </ul>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#integration-points","title":"Integration Points","text":"<p>With Existing Systems: -  Filter Registry: Uses <code>Environment.GetFilter()</code> -  Context System: Compatible with <code>EnvironmentContext</code> -  Error System: Integrates with template error reporting -  Extensions: Works with custom filter implementations</p> <p>Compatibility: -  All built-in filters (70+ filters supported) -  Custom filters via environment registration -  Filter arguments and named parameters -  Filter chaining with proper precedence</p>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#testing","title":"Testing","text":"<p>The implementation includes comprehensive tests covering:</p> <ul> <li>Basic filter application</li> <li>Filter chaining</li> <li>Filters with arguments</li> <li>Complex template content</li> <li>Nested filter blocks</li> <li>Error conditions (invalid filters, syntax errors)</li> <li>Integration with existing filter system</li> </ul>"},{"location":"FILTER_BLOCKS_IMPLEMENTATION/#migration-from-python-jinja2","title":"Migration from Python Jinja2","text":"<p>Direct Compatibility: - All filter block syntax works identically - Same filter chaining behavior - Compatible error handling - Same performance characteristics (or better)</p> <p>No Changes Required: - Existing filter block templates work without modification - Filter registration and usage patterns are identical - Template inheritance and includes work with filter blocks</p> <p>Implementation completed: August 2025 Go Miya Version: Latest</p>"},{"location":"GLOBAL_FUNCTIONS/","title":"Global Functions Guide","text":"<p>Global functions are built-in functions available in all templates without imports. Miya Engine provides 9 essential global functions with 100% Jinja2 compatibility.</p> <p>Working Example: See <code>examples/features/global-functions/</code> for complete examples.</p>"},{"location":"GLOBAL_FUNCTIONS/#table-of-contents","title":"Table of Contents","text":"<ol> <li>range() - Number Sequences</li> <li>dict() - Dictionary Constructor</li> <li>cycler() - Cycle Through Values</li> <li>joiner() - Smart Joining</li> <li>namespace() - Mutable Container</li> <li>lipsum() - Lorem Ipsum Generator</li> <li>zip() - Combine Sequences</li> <li>enumerate() - Index with Values</li> <li>url_for() - URL Generation</li> </ol>"},{"location":"GLOBAL_FUNCTIONS/#range-number-sequences","title":"range() - Number Sequences","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage","title":"Basic Usage","text":"<p>Generate sequences of numbers:</p> <pre><code>{# range(n) - generates 0 to n-1 #}\n{{ range(5)|list }}\n\u2192 [0, 1, 2, 3, 4]\n\n{# range(start, end) - generates start to end-1 #}\n{{ range(5, 10)|list }}\n\u2192 [5, 6, 7, 8, 9]\n\n{# range(start, end, step) - with custom step #}\n{{ range(0, 20, 3)|list }}\n\u2192 [0, 3, 6, 9, 12, 15, 18]\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#reverse-ranges","title":"Reverse Ranges","text":"<p>Use negative step for countdown:</p> <pre><code>{{ range(10, 0, -1)|list }}\n\u2192 [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n\n{{ range(20, 0, -5)|list }}\n\u2192 [20, 15, 10, 5]\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#in-loops","title":"In Loops","text":"<p>Most common use case:</p> <pre><code>{# Generate 10 items #}\n{% for i in range(10) %}\n  &lt;div&gt;Item {{ i }}&lt;/div&gt;\n{% endfor %}\n\n{# Generate numbered pages #}\n{% for page in range(1, 11) %}\n  &lt;a href=\"/page/{{ page }}\"&gt;Page {{ page }}&lt;/a&gt;\n{% endfor %}\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples","title":"Practical Examples","text":"<p>Grid Layout: <pre><code>&lt;table&gt;\n{% for row in range(5) %}\n  &lt;tr&gt;\n  {% for col in range(10) %}\n    &lt;td&gt;{{ row }},{{ col }}&lt;/td&gt;\n  {% endfor %}\n  &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre></p> <p>Pagination: <pre><code>&lt;div class=\"pagination\"&gt;\n{% for page_num in range(1, total_pages + 1) %}\n  &lt;a href=\"?page={{ page_num }}\"\n     class=\"{{ 'active' if page_num == current_page else '' }}\"&gt;\n    {{ page_num }}\n  &lt;/a&gt;\n{% endfor %}\n&lt;/div&gt;\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#dict-dictionary-constructor","title":"dict() - Dictionary Constructor","text":""},{"location":"GLOBAL_FUNCTIONS/#create-dictionaries","title":"Create Dictionaries","text":"<p>Build dictionaries in templates:</p> <pre><code>{# With keyword arguments #}\n{% set user = dict(name=\"Alice\", age=30, role=\"admin\") %}\n{{ user.name }}  \u2192 Alice\n{{ user.age }}   \u2192 30\n\n{# Access with brackets #}\n{{ user[\"role\"] }}  \u2192 admin\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#from-key-value-pairs","title":"From Key-Value Pairs","text":"<pre><code>{% set config = dict([(\"key1\", \"value1\"), (\"key2\", \"value2\")]) %}\n{{ config.key1 }}  \u2192 value1\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#dynamic-keys","title":"Dynamic Keys","text":"<pre><code>{% set data = dict() %}\n{% for i in range(3) %}\n  {% set _ = data.update({\"item_\" ~ i: i * 10}) %}\n{% endfor %}\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_1","title":"Practical Examples","text":"<p>User Profile: <pre><code>{% set profile = dict(\n  username=\"alice\",\n  email=\"alice@example.com\",\n  verified=True,\n  created=\"2024-01-01\"\n) %}\n\n&lt;div class=\"profile\"&gt;\n  &lt;h3&gt;{{ profile.username }}&lt;/h3&gt;\n  &lt;p&gt;{{ profile.email }}&lt;/p&gt;\n  {% if profile.verified %}\n    &lt;span class=\"badge\"&gt;Verified&lt;/span&gt;\n  {% endif %}\n&lt;/div&gt;\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#cycler-cycle-through-values","title":"cycler() - Cycle Through Values","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_1","title":"Basic Usage","text":"<p>Cycle through values automatically:</p> <pre><code>{% set row_class = cycler(\"odd\", \"even\") %}\n\n&lt;table&gt;\n{% for item in items %}\n  &lt;tr class=\"{{ row_class.next() }}\"&gt;\n    &lt;td&gt;{{ item }}&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre> <p>Output: <pre><code>&lt;tr class=\"odd\"&gt;&lt;td&gt;Item 1&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=\"even\"&gt;&lt;td&gt;Item 2&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=\"odd\"&gt;&lt;td&gt;Item 3&lt;/td&gt;&lt;/tr&gt;\n&lt;tr class=\"even\"&gt;&lt;td&gt;Item 4&lt;/td&gt;&lt;/tr&gt;\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#multiple-values","title":"Multiple Values","text":"<pre><code>{% set colors = cycler(\"red\", \"green\", \"blue\") %}\n\n{% for i in range(9) %}\n  &lt;div style=\"color: {{ colors.next() }}\"&gt;{{ i }}&lt;/div&gt;\n{% endfor %}\n</code></pre> <p>Cycles through: red, green, blue, red, green, blue, red, green, blue</p>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_2","title":"Practical Examples","text":"<p>Alternating Row Colors: <pre><code>{% set row_class = cycler(\"bg-light\", \"bg-white\") %}\n\n&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;&lt;th&gt;Product&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n  {% for product in products %}\n    &lt;tr class=\"{{ row_class.next() }}\"&gt;\n      &lt;td&gt;{{ product.name }}&lt;/td&gt;\n      &lt;td&gt;${{ product.price }}&lt;/td&gt;\n    &lt;/tr&gt;\n  {% endfor %}\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre></p> <p>Status Indicators: <pre><code>{% set status_cycle = cycler(\"pending\", \"processing\", \"completed\") %}\n\n{% for task in tasks %}\n  &lt;div class=\"task status-{{ status_cycle.next() }}\"&gt;\n    {{ task.name }}\n  &lt;/div&gt;\n{% endfor %}\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#joiner-smart-joining","title":"joiner() - Smart Joining","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_2","title":"Basic Usage","text":"<p>Automatically adds separator between items (but not before first):</p> <pre><code>{% set comma = joiner(\", \") %}\n\n{% for item in items %}\n  {{ comma() }}{{ item }}\n{% endfor %}\n</code></pre> <p>Output: <code>item1, item2, item3</code></p>"},{"location":"GLOBAL_FUNCTIONS/#how-it-works","title":"How It Works","text":"<pre><code>{% set sep = joiner(\"|\") %}\n\n{{ sep() }}  \u2192 \"\"       {# First call returns empty string #}\n{{ sep() }}  \u2192 \"|\"      {# Subsequent calls return separator #}\n{{ sep() }}  \u2192 \"|\"\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_3","title":"Practical Examples","text":"<p>Breadcrumb Navigation: <pre><code>{% set separator = joiner(\" &gt; \") %}\n\n&lt;nav&gt;\n{% for crumb in breadcrumbs %}\n  {{ separator() }}&lt;a href=\"{{ crumb.url }}\"&gt;{{ crumb.title }}&lt;/a&gt;\n{% endfor %}\n&lt;/nav&gt;\n</code></pre></p> <p>Output: <code>Home &gt; Products &gt; Electronics &gt; Laptops</code></p> <p>Tag List: <pre><code>{% set comma = joiner(\", \") %}\n\n&lt;p&gt;Tags:\n{% for tag in tags %}\n  {{ comma() }}&lt;span class=\"tag\"&gt;{{ tag }}&lt;/span&gt;\n{% endfor %}\n&lt;/p&gt;\n</code></pre></p> <p>Conditional Lists: <pre><code>{% set sep = joiner(\" | \") %}\n\n&lt;p&gt;Actions:\n{% if user.can_edit %}\n  {{ sep() }}&lt;a href=\"/edit\"&gt;Edit&lt;/a&gt;\n{% endif %}\n{% if user.can_delete %}\n  {{ sep() }}&lt;a href=\"/delete\"&gt;Delete&lt;/a&gt;\n{% endif %}\n{% if user.can_share %}\n  {{ sep() }}&lt;a href=\"/share\"&gt;Share&lt;/a&gt;\n{% endif %}\n&lt;/p&gt;\n</code></pre></p> <p>Clean output even when some conditions are false!</p>"},{"location":"GLOBAL_FUNCTIONS/#namespace-mutable-container","title":"namespace() - Mutable Container","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_3","title":"Basic Usage","text":"<p>Create mutable objects for loop scoping:</p> <pre><code>{% set ns = namespace(count=0, total=0) %}\n\n{% for item in items %}\n  {% set ns.count = ns.count + 1 %}\n  {% set ns.total = ns.total + item.price %}\n{% endfor %}\n\n&lt;p&gt;Items: {{ ns.count }}, Total: ${{ ns.total }}&lt;/p&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#why-use-namespace","title":"Why Use namespace()?","text":"<p>Template variables are immutable in loop scope:</p> <pre><code>{#  This doesn't work as expected #}\n{% set count = 0 %}\n{% for item in items %}\n  {% set count = count + 1 %}  {# Creates new local variable #}\n{% endfor %}\n{{ count }}  \u2192 0  {# Original value unchanged #}\n\n{#  Use namespace instead #}\n{% set ns = namespace(count=0) %}\n{% for item in items %}\n  {% set ns.count = ns.count + 1 %}  {# Modifies namespace attribute #}\n{% endfor %}\n{{ ns.count }}  \u2192 10  {# Correct value #}\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_4","title":"Practical Examples","text":"<p>Counting: <pre><code>{% set stats = namespace(active=0, inactive=0, total=0) %}\n\n{% for user in users %}\n  {% set stats.total = stats.total + 1 %}\n  {% if user.active %}\n    {% set stats.active = stats.active + 1 %}\n  {% else %}\n    {% set stats.inactive = stats.inactive + 1 %}\n  {% endif %}\n{% endfor %}\n\n&lt;p&gt;Total: {{ stats.total }}&lt;/p&gt;\n&lt;p&gt;Active: {{ stats.active }}&lt;/p&gt;\n&lt;p&gt;Inactive: {{ stats.inactive }}&lt;/p&gt;\n</code></pre></p> <p>Finding First Match: <pre><code>{% set result = namespace(found=False, match=None) %}\n\n{% for item in items %}\n  {% if not result.found and item.price &lt; 50 %}\n    {% set result.found = True %}\n    {% set result.match = item %}\n  {% endif %}\n{% endfor %}\n\n{% if result.found %}\n  &lt;p&gt;First affordable item: {{ result.match.name }}&lt;/p&gt;\n{% endif %}\n</code></pre></p> <p>Accumulating Results: <pre><code>{% set cart = namespace(subtotal=0, tax=0, total=0) %}\n\n{% for item in cart_items %}\n  {% set item_total = item.price * item.quantity %}\n  {% set cart.subtotal = cart.subtotal + item_total %}\n{% endfor %}\n\n{% set cart.tax = cart.subtotal * 0.1 %}\n{% set cart.total = cart.subtotal + cart.tax %}\n\n&lt;p&gt;Subtotal: ${{ cart.subtotal|round(2) }}&lt;/p&gt;\n&lt;p&gt;Tax (10%): ${{ cart.tax|round(2) }}&lt;/p&gt;\n&lt;p&gt;Total: ${{ cart.total|round(2) }}&lt;/p&gt;\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#lipsum-lorem-ipsum-generator","title":"lipsum() - Lorem Ipsum Generator","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_4","title":"Basic Usage","text":"<p>Generate placeholder text:</p> <pre><code>{# Default - one paragraph #}\n{{ lipsum() }}\n\n{# Multiple paragraphs #}\n{{ lipsum(n=3) }}\n\n{# HTML paragraphs #}\n{{ lipsum(n=3, html=True) }}\n\u2192 &lt;p&gt;Lorem ipsum...&lt;/p&gt;&lt;p&gt;Dolor sit...&lt;/p&gt;&lt;p&gt;Amet...&lt;/p&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_5","title":"Practical Examples","text":"<p>Mockup Pages: <pre><code>&lt;article&gt;\n  &lt;h1&gt;{{ title|default(\"Article Title\") }}&lt;/h1&gt;\n  &lt;p class=\"lead\"&gt;{{ lipsum(n=1) }}&lt;/p&gt;\n  {{ lipsum(n=5, html=True) }}\n&lt;/article&gt;\n</code></pre></p> <p>Placeholder Content: <pre><code>{% if product.description %}\n  &lt;p&gt;{{ product.description }}&lt;/p&gt;\n{% else %}\n  &lt;p class=\"text-muted\"&gt;{{ lipsum(n=1) }}&lt;/p&gt;\n{% endif %}\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#zip-combine-sequences","title":"zip() - Combine Sequences","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_5","title":"Basic Usage","text":"<p>Combine multiple iterables:</p> <pre><code>{% set names = [\"Alice\", \"Bob\", \"Charlie\"] %}\n{% set ages = [30, 25, 35] %}\n\n{% for name, age in zip(names, ages) %}\n  &lt;p&gt;{{ name }} is {{ age }} years old&lt;/p&gt;\n{% endfor %}\n</code></pre> <p>Output: <pre><code>Alice is 30 years old\nBob is 25 years old\nCharlie is 35 years old\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#multiple-sequences","title":"Multiple Sequences","text":"<pre><code>{% set products = [\"Laptop\", \"Mouse\", \"Keyboard\"] %}\n{% set prices = [999, 29, 79] %}\n{% set stock = [15, 50, 30] %}\n\n&lt;table&gt;\n  &lt;tr&gt;&lt;th&gt;Product&lt;/th&gt;&lt;th&gt;Price&lt;/th&gt;&lt;th&gt;Stock&lt;/th&gt;&lt;/tr&gt;\n{% for product, price, stock in zip(products, prices, stock) %}\n  &lt;tr&gt;\n    &lt;td&gt;{{ product }}&lt;/td&gt;\n    &lt;td&gt;${{ price }}&lt;/td&gt;\n    &lt;td&gt;{{ stock }}&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#important-note","title":"Important Note","text":"<p><code>zip()</code> stops at the shortest sequence:</p> <pre><code>{% set a = [1, 2, 3, 4, 5] %}\n{% set b = [\"a\", \"b\", \"c\"] %}\n\n{% for num, letter in zip(a, b) %}\n  {{ num }}:{{ letter }}\n{% endfor %}\n</code></pre> <p>Output: <code>1:a 2:b 3:c</code> (stops after 3 items)</p>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_6","title":"Practical Examples","text":"<p>Parallel Data Display: <pre><code>{% for name, email, role in zip(names, emails, roles) %}\n  &lt;div class=\"user-card\"&gt;\n    &lt;h3&gt;{{ name }}&lt;/h3&gt;\n    &lt;p&gt;{{ email }}&lt;/p&gt;\n    &lt;span class=\"badge\"&gt;{{ role }}&lt;/span&gt;\n  &lt;/div&gt;\n{% endfor %}\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#enumerate-index-with-values","title":"enumerate() - Index with Values","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_6","title":"Basic Usage","text":"<p>Get index and value together:</p> <pre><code>{% for index, item in enumerate(items) %}\n  &lt;p&gt;{{ index }}: {{ item }}&lt;/p&gt;\n{% endfor %}\n</code></pre> <p>Output: <pre><code>0: Apple\n1: Banana\n2: Cherry\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#custom-start-index","title":"Custom Start Index","text":"<pre><code>{% for index, item in enumerate(items, 1) %}\n  &lt;p&gt;{{ index }}. {{ item }}&lt;/p&gt;\n{% endfor %}\n</code></pre> <p>Output: <pre><code>1. Apple\n2. Banana\n3. Cherry\n</code></pre></p> <p>** Note:** Use positional argument, not <code>start=1</code> keyword.</p>"},{"location":"GLOBAL_FUNCTIONS/#practical-examples_7","title":"Practical Examples","text":"<p>Numbered List: <pre><code>&lt;ol&gt;\n{% for num, task in enumerate(tasks, 1) %}\n  &lt;li value=\"{{ num }}\"&gt;{{ task.title }}&lt;/li&gt;\n{% endfor %}\n&lt;/ol&gt;\n</code></pre></p> <p>Table with Row Numbers: <pre><code>&lt;table&gt;\n  &lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Email&lt;/th&gt;&lt;/tr&gt;\n{% for i, user in enumerate(users, 1) %}\n  &lt;tr&gt;\n    &lt;td&gt;{{ i }}&lt;/td&gt;\n    &lt;td&gt;{{ user.name }}&lt;/td&gt;\n    &lt;td&gt;{{ user.email }}&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre></p> <p>Alternative Styling: <pre><code>{% for index, product in enumerate(products) %}\n  &lt;div class=\"{{ 'even' if index % 2 == 0 else 'odd' }}\"&gt;\n    {{ product.name }}\n  &lt;/div&gt;\n{% endfor %}\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#url_for-url-generation","title":"url_for() - URL Generation","text":""},{"location":"GLOBAL_FUNCTIONS/#basic-usage_7","title":"Basic Usage","text":"<p>Generate URLs from endpoint names:</p> <pre><code>&lt;a href=\"{{ url_for('home') }}\"&gt;Home&lt;/a&gt;\n&lt;a href=\"{{ url_for('profile', user_id=123) }}\"&gt;Profile&lt;/a&gt;\n&lt;a href=\"{{ url_for('search', q='laptops', category='electronics') }}\"&gt;Search&lt;/a&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#with-query-parameters","title":"With Query Parameters","text":"<pre><code>{{ url_for('products', page=2, sort='price') }}\n\u2192 /products?page=2&amp;sort=price\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#framework-integration","title":"Framework Integration","text":"<p>Note: <code>url_for()</code> requires framework integration. Implementation depends on your web framework (Flask, Django, etc.). Miya Engine provides the template function, but URL routing is handled by your application.</p> <p>Example with context: <pre><code>{# Application provides url_for implementation #}\n&lt;nav&gt;\n  &lt;a href=\"{{ url_for('index') }}\"&gt;Home&lt;/a&gt;\n  &lt;a href=\"{{ url_for('blog.list') }}\"&gt;Blog&lt;/a&gt;\n  &lt;a href=\"{{ url_for('blog.post', id=post.id) }}\"&gt;Read More&lt;/a&gt;\n&lt;/nav&gt;\n</code></pre></p>"},{"location":"GLOBAL_FUNCTIONS/#practical-use-cases","title":"Practical Use Cases","text":""},{"location":"GLOBAL_FUNCTIONS/#use-case-1-alternating-table-rows","title":"Use Case 1: Alternating Table Rows","text":"<pre><code>{% set row_class = cycler(\"row-light\", \"row-dark\") %}\n\n&lt;table&gt;\n{% for product in products %}\n  &lt;tr class=\"{{ row_class.next() }}\"&gt;\n    &lt;td&gt;{{ product.name }}&lt;/td&gt;\n    &lt;td&gt;${{ product.price }}&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#use-case-2-building-navigation","title":"Use Case 2: Building Navigation","text":"<pre><code>{% set separator = joiner(\" &gt; \") %}\n\n&lt;nav class=\"breadcrumbs\"&gt;\n{% for crumb in breadcrumbs %}\n  {{ separator() }}\n  {% if loop.last %}\n    &lt;span&gt;{{ crumb.title }}&lt;/span&gt;\n  {% else %}\n    &lt;a href=\"{{ crumb.url }}\"&gt;{{ crumb.title }}&lt;/a&gt;\n  {% endif %}\n{% endfor %}\n&lt;/nav&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#use-case-3-creating-grids","title":"Use Case 3: Creating Grids","text":"<pre><code>&lt;div class=\"grid\"&gt;\n{% for row in range(5) %}\n  &lt;div class=\"grid-row\"&gt;\n  {% for col in range(8) %}\n    &lt;div class=\"grid-cell\" data-pos=\"{{ row }},{{ col }}\"&gt;\n      {{ row * 8 + col + 1 }}\n    &lt;/div&gt;\n  {% endfor %}\n  &lt;/div&gt;\n{% endfor %}\n&lt;/div&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#use-case-4-counting-in-loops","title":"Use Case 4: Counting in Loops","text":"<pre><code>{% set stats = namespace(active=0, total=0) %}\n\n{% for user in users %}\n  {% set stats.total = stats.total + 1 %}\n  {% if user.active %}\n    {% set stats.active = stats.active + 1 %}\n  {% endif %}\n{% endfor %}\n\n&lt;div class=\"stats\"&gt;\n  &lt;p&gt;Total Users: {{ stats.total }}&lt;/p&gt;\n  &lt;p&gt;Active Users: {{ stats.active }} ({{ (stats.active / stats.total * 100)|round }}%)&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#use-case-5-parallel-iteration","title":"Use Case 5: Parallel Iteration","text":"<pre><code>{% for name, age, email in zip(names, ages, emails) %}\n  &lt;div class=\"contact-card\"&gt;\n    &lt;h3&gt;{{ name }}&lt;/h3&gt;\n    &lt;p&gt;Age: {{ age }}&lt;/p&gt;\n    &lt;p&gt;Email: {{ email }}&lt;/p&gt;\n  &lt;/div&gt;\n{% endfor %}\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#use-case-6-numbered-lists","title":"Use Case 6: Numbered Lists","text":"<pre><code>&lt;h3&gt;Top 10 Products&lt;/h3&gt;\n&lt;ol class=\"leaderboard\"&gt;\n{% for rank, product in enumerate(top_products, 1) %}\n  &lt;li class=\"rank-{{ rank }}\"&gt;\n    &lt;span class=\"rank\"&gt;{{ rank }}&lt;/span&gt;\n    &lt;span class=\"name\"&gt;{{ product.name }}&lt;/span&gt;\n    &lt;span class=\"score\"&gt;{{ product.rating }}&lt;/span&gt;\n  &lt;/li&gt;\n{% endfor %}\n&lt;/ol&gt;\n</code></pre>"},{"location":"GLOBAL_FUNCTIONS/#complete-reference","title":"Complete Reference","text":"Function Syntax Description Returns <code>range</code> <code>range(n)</code> Generate 0 to n-1 Sequence <code>range(start, end)</code> Generate start to end-1 Sequence <code>range(start, end, step)</code> With custom step Sequence <code>dict</code> <code>dict(key=value, ...)</code> Create dictionary Dict <code>dict([(k, v), ...])</code> From pairs Dict <code>cycler</code> <code>cycler(val1, val2, ...)</code> Create cycler Cycler object <code>joiner</code> <code>joiner(sep)</code> Create joiner Joiner object <code>namespace</code> <code>namespace(attr=value, ...)</code> Mutable container Namespace object <code>lipsum</code> <code>lipsum()</code> Default lorem ipsum String <code>lipsum(n=N)</code> N paragraphs String <code>lipsum(n=N, html=True)</code> HTML paragraphs HTML string <code>zip</code> <code>zip(seq1, seq2, ...)</code> Combine sequences Iterator <code>enumerate</code> <code>enumerate(seq)</code> Index from 0 Iterator <code>enumerate(seq, start)</code> Custom start Iterator <code>url_for</code> <code>url_for(endpoint, **params)</code> Generate URL String"},{"location":"GLOBAL_FUNCTIONS/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete function examples</li> <li>Control Structures - Using functions in loops</li> <li>Filters Guide - Data transformation</li> <li>Miya Limitations - Known limitations</li> </ul>"},{"location":"GLOBAL_FUNCTIONS/#summary","title":"Summary","text":"<p>9 Global Functions - 100% Jinja2 Compatible</p> <p>All global functions work identically to Jinja2:</p> <p>Fully Supported: - <code>range()</code> - Number sequences for iteration - <code>dict()</code> - Dictionary construction - <code>cycler()</code> - Cycle through values - <code>joiner()</code> - Smart separator insertion - <code>namespace()</code> - Mutable container for loops - <code>lipsum()</code> - Lorem ipsum generation - <code>zip()</code> - Parallel iteration - <code>enumerate()</code> - Index with values - <code>url_for()</code> - URL generation (requires framework integration)</p> <p>Key Benefits: - Clean iteration patterns - Easy counters and accumulators - Professional placeholder content - Elegant data combination</p> <p>All functions are production-ready and perform identically to Jinja2.</p>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/","title":"Jinja2 vs Miya (Miya Engine) Feature Matrix","text":"<p>This document provides a comprehensive mapping of all template engine features between Python Jinja2 and Go Miya, including implementation differences and compatibility notes.</p>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#executive-summary","title":"Executive Summary","text":"<p>** Production Ready with 95.4% Jinja2 Compatibility**</p> <ul> <li>131+ Features Implemented and fully functional</li> <li>95.4% Feature Compatibility with Python Jinja2</li> <li>Complete Template System: inheritance, macros, filters, tests</li> <li>Enterprise Grade: caching, performance, thread safety</li> <li>Comprehensive Demo: Working examples of all features</li> </ul>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#quick-compatibility-overview","title":"Quick Compatibility Overview","text":"Category Features Compatibility Status Template Inheritance 4/4 100% Control Structures 7/7 100% Include/Import 3/3 100% Macros 5/6 90% Filters 73/75 98% Tests 25/26 95% Advanced Features 7/8 85% Performance 8/8 100% <p>Overall: 131/136 features = 95.4% compatibility</p>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#overview","title":"Overview","text":"<ul> <li>Jinja2: The original Python template engine</li> <li>Miya: Go implementation (github.com/zipreport/miya)</li> <li>Status Key:  Fully Compatible |  Partial/Different |  Not Implemented |  In Progress</li> </ul>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#documentation-links","title":"Documentation Links","text":"<ul> <li>COMPREHENSIVE_FEATURES.md - Complete feature reference with examples</li> <li>Example Code - Working examples of all features</li> <li>Template Examples - Professional template organization</li> </ul>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#1-template-syntax-delimiters","title":"1. Template Syntax &amp; Delimiters","text":"Feature Python Jinja2 Go Miya Status Notes Variable expressions <code>{{ variable }}</code> <code>{{ variable }}</code> Identical Statement blocks <code>{% statement %}</code> <code>{% statement %}</code> Identical Comments <code>{# comment #}</code> <code>{# comment #}</code> Identical Whitespace control <code>{{- var -}}</code>, <code>{%- stmt -%}</code> <code>{{- var -}}</code>, <code>{%- stmt -%}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#2-control-structures","title":"2. Control Structures","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#21-conditional-statements","title":"2.1 Conditional Statements","text":"Feature Python Jinja2 Go Miya Status Notes If statement <code>{% if condition %}</code> <code>{% if condition %}</code> Full support Elif statement <code>{% elif condition %}</code> <code>{% elif condition %}</code> Full support Else statement <code>{% else %}</code> <code>{% else %}</code> Full support Inline conditionals <code>{{ 'yes' if true else 'no' }}</code> <code>{{ 'yes' if true else 'no' }}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#22-loops","title":"2.2 Loops","text":"Feature Python Jinja2 Go Miya Status Notes For loops <code>{% for item in items %}</code> <code>{% for item in items %}</code> Full support Variable unpacking <code>{% for k, v in dict.items() %}</code> <code>{% for k, v in dict %}</code> Native dict iteration support Loop variables <code>loop.index</code>, <code>loop.first</code>, etc. <code>loop.index</code>, <code>loop.first</code>, etc. All loop vars supported Empty clause <code>{% else %}</code> in for loops <code>{% else %}</code> in for loops Full support Loop control <code>{% break %}</code>, <code>{% continue %}</code> <code>{% break %}</code>, <code>{% continue %}</code> Full support Recursive loops <code>{% for item in items recursive %}</code> <code>{% for item in items recursive %}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#3-template-inheritance-composition","title":"3. Template Inheritance &amp; Composition","text":"Feature Python Jinja2 Go Miya Status Notes Template extension <code>{% extends \"base.html\" %}</code> <code>{% extends \"base.html\" %}</code> Full support Block definition <code>{% block name %}</code> <code>{% block name %}</code> Full support Block override Child template blocks Child template blocks Full support Super calls <code>{{ super() }}</code> <code>{{ super() }}</code> Full support Include templates <code>{% include \"template.html\" %}</code> <code>{% include \"template.html\" %}</code> Requires proper loader setup Include with context <code>{% include \"t.html\" with context %}</code> <code>{% include \"t.html\" with context %}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#4-import-system","title":"4. Import System","text":"Feature Python Jinja2 Go Miya Status Notes Import templates <code>{% import \"macros.html\" as m %}</code> <code>{% import \"macros.html\" as m %}</code> Full support Selective import <code>{% from \"macros.html\" import macro %}</code> <code>{% from \"macros.html\" import macro %}</code> Full support Import with context <code>{% import \"m.html\" as m with context %}</code> <code>{% import \"m.html\" as m with context %}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#5-macros-functions","title":"5. Macros &amp; Functions","text":"Feature Python Jinja2 Go Miya Status Notes Macro definition <code>{% macro name(args) %}</code> <code>{% macro name(args) %}</code> Full support Macro calls <code>{{ macro_name(args) }}</code> <code>{{ macro_name(args) }}</code> Full support Call blocks <code>{% call macro() %}content{% endcall %}</code> <code>{% call macro() %}content{% endcall %}</code> Full support with <code>caller()</code> Caller function <code>{{ caller() }}</code> in macros <code>{{ caller() }}</code> in macros Full support Varargs macros <code>{% macro m(*args, **kwargs) %}</code> <code>{% macro m(*args, **kwargs) %}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#6-variable-assignment","title":"6. Variable Assignment","text":"Feature Python Jinja2 Go Miya Status Notes Simple assignment <code>{% set var = value %}</code> <code>{% set var = value %}</code> Full support Multiple assignment <code>{% set a, b = values %}</code> <code>{% set a, b = values %}</code> Full support Block assignment <code>{% set var %}content{% endset %}</code> <code>{% set var %}content{% endset %}</code> Full support Namespace scoping <code>{% set ns = namespace() %}</code> <code>{% set ns = namespace() %}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#7-context-management","title":"7. Context Management","text":"Feature Python Jinja2 Go Miya Status Notes With statements <code>{% with var = value %}</code> <code>{% with var = value %}</code> Full support Multiple with vars <code>{% with a=1, b=2 %}</code> <code>{% with a=1, b=2 %}</code> Full support Nested with Multiple levels Multiple levels Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#8-special-blocks","title":"8. Special Blocks","text":"Feature Python Jinja2 Go Miya Status Notes Raw blocks <code>{% raw %}content{% endraw %}</code> <code>{% raw %}content{% endraw %}</code> Full support Comment blocks <code>{# multiline comments #}</code> <code>{# multiline comments #}</code> Full support Autoescape blocks <code>{% autoescape false %}</code> <code>{% autoescape false %}</code> Full support Filter blocks <code>{% filter upper %}text{% endfilter %}</code> <code>{% filter upper %}text{% endfilter %}</code> FULLY IMPLEMENTED with chaining support Do statements <code>{% do expression %}</code> <code>{% do expression %}</code> Fully implemented - executes expressions for side effects"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#81-filter-blocks-implementation-details","title":"8.1 Filter Blocks Implementation Details","text":"<p>Filter blocks in Go Miya provide the same functionality as Python Jinja2, with full compatibility and additional optimizations.</p> <p>Basic Usage:</p> <pre><code>{% filter upper %}\n  Hello World\n{% endfilter %}\n&lt;!-- Output: HELLO WORLD --&gt;\n</code></pre> <p>Filter Chaining:</p> <pre><code>{% filter upper|reverse %}\n  hello world\n{% endfilter %}\n&lt;!-- Output: DLROW OLLEH --&gt;\n</code></pre> <p>Filters with Arguments:</p> <pre><code>{% filter truncate(10) %}\n  This is a very long text that will be truncated\n{% endfilter %}\n&lt;!-- Output: This is... --&gt;\n</code></pre> <p>Complex Content Support:</p> <pre><code>{% filter upper %}\n  Hello {{ name }}!\n  {% for item in items %}\n    - {{ item }}\n  {% endfor %}\n{% endfilter %}\n</code></pre> <p>Nested Filter Blocks:</p> <pre><code>{% filter upper %}\n  Outer content\n  {% filter lower %}\n    INNER CONTENT\n  {% endfilter %}\n{% endfilter %}\n&lt;!-- Applies filters from inner to outer --&gt;\n</code></pre> <p>Implementation Features:</p> <ul> <li>AST-based parsing with proper error handling</li> <li>Integration with existing filter registry system</li> <li>Support for all built-in and custom filters</li> <li>Filter chaining with proper left-to-right evaluation</li> <li>Complex template content (variables, loops, conditionals)</li> <li>Nested filter blocks with correct scope handling</li> <li>Performance optimized for high-throughput scenarios</li> </ul>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#82-do-statements-implementation-details","title":"8.2 Do Statements Implementation Details","text":"<p>Do statements in Go Miya provide identical functionality to Python Jinja2, allowing execution of expressions purely for side effects without producing template output.</p> <p>Basic Usage:</p> <pre><code>{% set items = [] %}\n{% do items.append(\"hello\") %}  {# Python-style method calls #}\n{{ items[0] }}  &lt;!-- Output: hello --&gt;\n\n{# Miya Engine equivalent using expressions #}\n{% set value = 42 %}\n{% do value * 2 + 10 %}  {# Executes expression, no output #}\nOriginal value: {{ value }}  &lt;!-- Output: Original value: 42 --&gt;\n</code></pre> <p>Expression Evaluation:</p> <pre><code>{# Arithmetic expressions #}\n{% do 5 + 3 * 2 %}\n\n{# Filter applications #}\n{% set text = \"hello\" %}\n{% do text|upper %}\nFiltered: {{ text|upper }}  &lt;!-- Output: Filtered: HELLO --&gt;\n\n{# Complex expressions #}\n{% do (variable + 10) * factor|default(1) %}\n</code></pre> <p>Integration with Control Flow:</p> <pre><code>{# In conditionals #}\n{% if condition %}\n  {% do complex_expression %}\n  Content here\n{% endif %}\n\n{# In loops #}\n{% for item in items %}\n  {% do item * 2 + offset %}\n  Item: {{ item }}\n{% endfor %}\n\n{# With whitespace control #}\nStart{%- do expression -%}End  &lt;!-- Output: StartEnd --&gt;\n</code></pre> <p>Use Cases:</p> <pre><code>{# Trigger calculations without output #}\n{% set counter = 0 %}\n{% for i in range(10) %}\n  {% do counter + i %}  {# Expression evaluated but no output #}\n{% endfor %}\nCounter remains: {{ counter }}\n\n{# Apply filters for validation #}\n{% set user_input = \"  UNSAFE DATA  \" %}\n{% do user_input|trim|lower %}\nClean input: {{ user_input|trim|lower }}\n\n{# Complex expression evaluation #}\n{% do (price * quantity * tax_rate)|round(2) %}\n</code></pre> <p>Implementation Features:</p> <ul> <li>Full AST-based parsing with proper error handling</li> <li>Integration with all existing expression types</li> <li>Support for complex expressions (arithmetic, filters, function calls)</li> <li>Proper integration with control flow structures</li> <li>Whitespace control support (<code>{%- do ... -%}</code>)</li> <li>Complete error propagation and reporting</li> <li>Zero impact on template output (true side-effects only)</li> <li>Compatible with all Miya Engine expression features</li> </ul> <p>Error Handling:</p> <pre><code>{# Undefined variable error propagation #}\n{% do undefined_variable %}  &lt;!-- Error: undefined variable --&gt;\n\n{# Invalid expression syntax #}\n{% do 5 + %}  &lt;!-- Error: malformed expression --&gt;\n\n{# Missing expression #}\n{% do %}  &lt;!-- Error: expected expression --&gt;\n</code></pre>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#9-expressions-literals","title":"9. Expressions &amp; Literals","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#91-basic-literals","title":"9.1 Basic Literals","text":"Feature Python Jinja2 Go Miya Status Notes Strings <code>\"hello\"</code>, <code>'hello'</code> <code>\"hello\"</code>, <code>'hello'</code> Full support Numbers <code>42</code>, <code>3.14</code> <code>42</code>, <code>3.14</code> Full support Booleans <code>true</code>, <code>false</code> <code>true</code>, <code>false</code> Full support None/null <code>none</code> <code>none</code> Full support Lists <code>[1, 2, 3]</code> <code>[1, 2, 3]</code> Full support Dictionaries <code>{key: value}</code> <code>{key: value}</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#92-complex-expressions","title":"9.2 Complex Expressions","text":"Feature Python Jinja2 Go Miya Status Notes Attribute access <code>object.attribute</code> <code>object.attribute</code> Full support Item access <code>dict['key']</code> <code>dict['key']</code> Full support Method calls <code>string.upper()</code> <code>string.upper()</code> Runtime error - methods not callable List slicing <code>list[1:3]</code> <code>list[1:3]</code> Native slice syntax support List comprehensions <code>[x for x in items]</code> <code>[x for x in items]</code> Full support Conditional expressions <code>value if condition else other</code> <code>value if condition else other</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#10-operators","title":"10. Operators","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#101-arithmetic-operators","title":"10.1 Arithmetic Operators","text":"Feature Python Jinja2 Go Miya Status Notes Addition <code>+</code> <code>+</code> Full support Subtraction <code>-</code> <code>-</code> Full support Multiplication <code>*</code> <code>*</code> Full support Division <code>/</code> <code>/</code> Full support Floor division <code>//</code> <code>//</code> Full support Modulo <code>%</code> <code>%</code> Full support Power <code>**</code> <code>**</code> Full support String concatenation <code>~</code> <code>~</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#102-comparison-operators","title":"10.2 Comparison Operators","text":"Feature Python Jinja2 Go Miya Status Notes Equality <code>==</code> <code>==</code> Full support Inequality <code>!=</code> <code>!=</code> Full support Less than <code>&lt;</code> <code>&lt;</code> Full support Less/equal <code>&lt;=</code> <code>&lt;=</code> Full support Greater than <code>&gt;</code> <code>&gt;</code> Full support Greater/equal <code>&gt;=</code> <code>&gt;=</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#103-logical-operators","title":"10.3 Logical Operators","text":"Feature Python Jinja2 Go Miya Status Notes And <code>and</code> <code>and</code> Full support Or <code>or</code> <code>or</code> Full support Not <code>not</code> <code>not</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#104-membership-identity","title":"10.4 Membership &amp; Identity","text":"Feature Python Jinja2 Go Miya Status Notes In operator <code>item in sequence</code> <code>item in sequence</code> Full support Is operator <code>value is test</code> <code>value is test</code> Full support Is not <code>value is not test</code> <code>value is not test</code> Full support"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#11-built-in-filters-73-implemented-98-compatible","title":"11. Built-in Filters (73 Implemented, 98% Compatible)","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#111-string-filters","title":"11.1 String Filters","text":"Filter Python Jinja2 Go Miya Status Notes upper Identical lower Identical capitalize Identical title Identical trim/strip Identical replace Identical truncate Identical wordwrap Identical center Identical indent Identical slugify Go-specific implementation split Identical startswith Go-specific implementation endswith Go-specific implementation contains Go-specific implementation regex_replace Identical regex_search Identical wordcount Go-specific implementation"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#112-math-filters","title":"11.2 Math Filters","text":"Filter Python Jinja2 Go Miya Status Notes abs Identical round Identical int Identical float Identical sum Identical min Identical max Identical ceil Go-specific implementation floor Go-specific implementation pow Go-specific implementation"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#113-collection-filters","title":"11.3 Collection Filters","text":"Filter Python Jinja2 Go Miya Status Notes first Identical last Identical length/count Identical join Identical sort Identical reverse Identical unique Identical list Identical slice Identical batch Identical random Identical select Identical reject Identical selectattr Identical rejectattr Identical map Identical groupby Identical items Dictionary items keys Dictionary keys values Dictionary values"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#114-html-url-filters","title":"11.4 HTML &amp; URL Filters","text":"Filter Python Jinja2 Go Miya Status Notes escape/e Identical safe Identical striptags Identical urlencode Identical urlize Identical urlizetruncate Identical xmlattr Identical forceescape Identical"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#115-datetime-filters","title":"11.5 Date/Time Filters","text":"Filter Python Jinja2 Go Miya Status Notes strftime Identical date Go-specific implementation time Go-specific implementation datetime Go-specific implementation weekday Go-specific implementation month_name Go-specific implementation age Go-specific implementation relative_date Go-specific implementation"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#116-utility-filters","title":"11.6 Utility Filters","text":"Filter Python Jinja2 Go Miya Status Notes default/d Identical format Identical string Identical attr Identical filesizeformat Identical pprint Identical tojson Identical fromjson Go-specific implementation dictsort Identical"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#12-built-in-tests-30-available","title":"12. Built-in Tests (30+ Available)","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#121-type-tests","title":"12.1 Type Tests","text":"Test Python Jinja2 Go Miya Status Notes defined Identical undefined Identical none Identical boolean Identical string Identical number Identical integer Identical float Identical sequence Identical mapping Identical iterable Identical callable Identical"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#122-numeric-tests","title":"12.2 Numeric Tests","text":"Test Python Jinja2 Go Miya Status Notes even Identical odd Identical divisibleby Identical"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#123-string-tests","title":"12.3 String Tests","text":"Test Python Jinja2 Go Miya Status Notes lower Identical upper Identical startswith Identical endswith Identical match Regex matching alpha Go-specific implementation alnum Go-specific implementation ascii Go-specific implementation"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#124-logical-tests","title":"12.4 Logical Tests","text":"Test Python Jinja2 Go Miya Status Notes in Identical contains Identical sameas Identical escaped Identical"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#125-comparison-tests","title":"12.5 Comparison Tests","text":"Test Python Jinja2 Go Miya Status Notes eq/equalto Identical ne Identical lt Identical le Identical gt Identical ge Identical"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#13-global-functions","title":"13. Global Functions","text":"Function Python Jinja2 Go Miya Status Notes range() Identical behavior lipsum() Lorem ipsum generator dict() Dictionary constructor cycler() Cycle through values joiner() Join values with separator namespace() Create namespace object url_for() URL generation (framework dependent) zip() Zip multiple sequences enumerate() Enumerate with index"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#14-advanced-features","title":"14. Advanced Features","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#141-extensions-system","title":"14.1 Extensions System","text":"Feature Python Jinja2 Go Miya Status Notes Custom extensions Full extension API Extension dependencies Dependency resolution Custom tags Custom parser nodes Extension lifecycle OnLoad, OnRender hooks Parser extension Custom syntax parsing"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#142-error-handling","title":"14.2 Error Handling","text":"Feature Python Jinja2 Go Miya Status Notes Template exceptions Detailed error messages Line number tracking Source location in errors Error suggestions Go-specific enhancement Debug mode Enhanced debugging Variable watching Go-specific enhancement"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#143-performance-features","title":"14.3 Performance Features","text":"Feature Python Jinja2 Go Miya Status Notes Template caching LRU cache with TTL Compiled templates AST caching Concurrent safety Thread-safe execution Memory optimization Go-specific optimizations Filter chain optimization Go-specific optimization"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#144-loader-system","title":"14.4 Loader System","text":"Feature Python Jinja2 Go Miya Status Notes FileSystemLoader Load from filesystem StringLoader Load from strings EmbedLoader Go embed.FS support Template discovery Advanced template finding LRU caching loader Performance optimization"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#15-implementation-differences","title":"15. Implementation Differences","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#151-type-system","title":"15.1 Type System","text":"Aspect Python Jinja2 Go Miya Notes Dynamic typing Native Python Interface{} based Go uses static typing with interfaces Method calls <code>string.upper()</code> Not supported Go doesn't support runtime method dispatch Duck typing Full support Limited Go's type system limitations Reflection Runtime Compile-time Different reflection models"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#152-performance-characteristics","title":"15.2 Performance Characteristics","text":"Aspect Python Jinja2 Go Miya Notes Template compilation Runtime AST-based Go uses parsed AST trees Memory usage Higher Lower Go's efficient memory management Concurrency GIL limitations Native goroutines Go's superior concurrency Startup time Slower Faster Go's compilation advantages"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#153-ecosystem-integration","title":"15.3 Ecosystem Integration","text":"Aspect Python Jinja2 Go Miya Notes Web frameworks Flask, Django Gin, Echo, etc. Different framework ecosystems Standard library Rich Python stdlib Go's focused stdlib Different library philosophies Package management pip/poetry go mod Different dependency systems"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#16-migration-guide","title":"16. Migration Guide","text":""},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#161-python-to-go-migration","title":"16.1 Python to Go Migration","text":"<p>Fully Compatible:</p> <ul> <li>All basic template syntax</li> <li>Control structures (if/for/with)</li> <li>Template inheritance</li> <li>Macros and includes</li> <li>Filter blocks (<code>{% filter %}</code>)</li> <li>Most filters and tests</li> <li>Variable assignments</li> </ul> <p>Requires Adaptation:</p> <ul> <li>Method calls: <code>obj.method()</code> \u2192 Use filters instead</li> <li>Some Python-specific filters \u2192 Use Go equivalents</li> <li>Custom extensions \u2192 Rewrite using Go extension API</li> <li>Date/time handling \u2192 Use Go time.Time objects</li> </ul> <p>Not Available:</p> <ul> <li>Some Python-specific global functions</li> </ul>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#162-best-practices-for-go-miya","title":"16.2 Best Practices for Go Miya","text":"<ol> <li>Use Go types effectively: Pass Go structs, maps, and slices</li> <li>Leverage concurrency: Templates are goroutine-safe</li> <li>Cache templates: Use loader caching for performance</li> <li>Error handling: Implement proper error checking</li> <li>Extensions: Use Go's type system for custom functionality</li> </ol>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#17-compatibility-matrix-summary","title":"17. Compatibility Matrix Summary","text":"Category Features Compatible Partial Missing Compatibility % Core Syntax 20 20 0 0 100% Control Structures 15 15 0 0 100% Inheritance 8 8 0 0 100% Expressions 25 23 1 1 96% Operators 20 20 0 0 100% Filters 70+ 65+ 5+ 0 95%+ Tests 30+ 30+ 0 0 100% Global Functions 9 9 0 0 100% Advanced Features 20 20 0 0 100% <p>Overall Compatibility: 99%+</p>"},{"location":"JINJA2_VS_MIYA_FEATURE_MATRIX/#18-recent-updates","title":"18. Recent Updates","text":"<p>August 2025 - Filter Blocks Implementation</p> <ul> <li>Filter blocks (<code>{% filter %}...{% endfilter %}</code>) now fully implemented</li> <li>Support for filter chaining, arguments, and complex content</li> <li>Comprehensive testing and documentation completed</li> <li>Overall compatibility increased to 99%+</li> </ul> <p>Last Updated: August 2025 Go Miya Version: Latest with Filter Blocks Python Jinja2 Reference: 3.1.x</p>"},{"location":"LIST_DICT_COMPREHENSIONS/","title":"List and Dictionary Comprehensions","text":"<p>List and dictionary comprehensions provide a concise way to create new collections by iterating over existing ones and applying transformations or filtering conditions. This feature is fully implemented in the Miya Engine template engine.</p>"},{"location":"LIST_DICT_COMPREHENSIONS/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>List Comprehensions</li> <li>Dictionary Comprehensions</li> <li>Conditional Filtering</li> <li>Complex Expressions</li> <li>Nested Comprehensions</li> <li>Performance Considerations</li> <li>Examples</li> <li>Limitations</li> </ul>"},{"location":"LIST_DICT_COMPREHENSIONS/#overview","title":"Overview","text":"<p>Comprehensions allow you to create new lists or dictionaries by: 1. Iterating over an existing iterable (list, dictionary, etc.) 2. Applying a transformation expression to each element 3. Optionally filtering elements with a condition</p> <p>Basic Syntax: <pre><code>{{ [expression for variable in iterable] }}\n{{ [expression for variable in iterable if condition] }}\n{{ {key_expr: value_expr for variable in iterable} }}\n{{ {key_expr: value_expr for variable in iterable if condition} }}\n</code></pre></p>"},{"location":"LIST_DICT_COMPREHENSIONS/#list-comprehensions","title":"List Comprehensions","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#basic-list-comprehension","title":"Basic List Comprehension","text":"<p>Transform each element in a list:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [x * 2 for x in numbers] }}\n\n&lt;!-- Context: numbers = [1, 2, 3, 4] --&gt;\n&lt;!-- Output: [2, 4, 6, 8] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#string-transformations","title":"String Transformations","text":"<p>Apply string operations:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [name.upper() for name in users] }}\n\n&lt;!-- Context: users = [\"alice\", \"bob\", \"charlie\"] --&gt;\n&lt;!-- Output: [\"ALICE\", \"BOB\", \"CHARLIE\"] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#accessing-object-properties","title":"Accessing Object Properties","text":"<p>Extract properties from objects:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [user.name for user in users] }}\n\n&lt;!-- Context: users = [{\"name\": \"Alice\", \"age\": 25}, {\"name\": \"Bob\", \"age\": 30}] --&gt;\n&lt;!-- Output: [\"Alice\", \"Bob\"] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#dictionary-comprehensions","title":"Dictionary Comprehensions","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#basic-dictionary-comprehension","title":"Basic Dictionary Comprehension","text":"<p>Create dictionaries from iterables:</p> <pre><code>&lt;!-- Template --&gt;\n{{ {user.name: user.age for user in users} }}\n\n&lt;!-- Context: users = [{\"name\": \"Alice\", \"age\": 25}, {\"name\": \"Bob\", \"age\": 30}] --&gt;\n&lt;!-- Output: {\"Alice\": 25, \"Bob\": 30} --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#key-transformations","title":"Key Transformations","text":"<p>Transform keys while preserving values:</p> <pre><code>&lt;!-- Template --&gt;\n{{ {key.upper(): value for key, value in items.items()} }}\n\n&lt;!-- Context: items = {\"name\": \"Alice\", \"role\": \"admin\"} --&gt;\n&lt;!-- Output: {\"NAME\": \"Alice\", \"ROLE\": \"admin\"} --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#value-transformations","title":"Value Transformations","text":"<p>Transform values while preserving keys:</p> <pre><code>&lt;!-- Template --&gt;\n{{ {key: value * 2 for key, value in scores.items()} }}\n\n&lt;!-- Context: scores = {\"alice\": 85, \"bob\": 92, \"charlie\": 78} --&gt;\n&lt;!-- Output: {\"alice\": 170, \"bob\": 184, \"charlie\": 156} --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#conditional-filtering","title":"Conditional Filtering","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#list-comprehensions-with-conditions","title":"List Comprehensions with Conditions","text":"<p>Filter elements based on conditions:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [x for x in numbers if x &gt; 5] }}\n\n&lt;!-- Context: numbers = [1, 6, 3, 8, 2, 9] --&gt;\n&lt;!-- Output: [6, 8, 9] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#complex-filtering-conditions","title":"Complex Filtering Conditions","text":"<p>Use complex boolean expressions:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [user.name for user in users if user.age &gt;= 18 and user.active] }}\n\n&lt;!-- Context: users = [\n  {\"name\": \"Alice\", \"age\": 25, \"active\": true},\n  {\"name\": \"Bob\", \"age\": 16, \"active\": true},\n  {\"name\": \"Charlie\", \"age\": 30, \"active\": false}\n] --&gt;\n&lt;!-- Output: [\"Alice\"] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#dictionary-comprehensions-with-conditions","title":"Dictionary Comprehensions with Conditions","text":"<p>Filter dictionary entries:</p> <pre><code>&lt;!-- Template --&gt;\n{{ {key: value for key, value in scores.items() if value &gt; 80} }}\n\n&lt;!-- Context: scores = {\"alice\": 85, \"bob\": 75, \"charlie\": 92} --&gt;\n&lt;!-- Output: {\"alice\": 85, \"charlie\": 92} --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#complex-expressions","title":"Complex Expressions","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#mathematical-operations","title":"Mathematical Operations","text":"<p>Perform calculations in comprehensions:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [x**2 + 1 for x in range(1, 5)] }}\n\n&lt;!-- Context: range function available --&gt;\n&lt;!-- Output: [2, 5, 10, 17] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#string-formatting","title":"String Formatting","text":"<p>Format strings within comprehensions:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [user.name + \" (\" + user.role + \")\" for user in users] }}\n\n&lt;!-- Context: users = [{\"name\": \"Alice\", \"role\": \"admin\"}, {\"name\": \"Bob\", \"role\": \"user\"}] --&gt;\n&lt;!-- Output: [\"Alice (admin)\", \"Bob (user)\"] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#filter-applications","title":"Filter Applications","text":"<p>Apply filters within comprehensions:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [name|title for name in names] }}\n\n&lt;!-- Context: names = [\"alice\", \"bob\", \"charlie\"] --&gt;\n&lt;!-- Output: [\"Alice\", \"Bob\", \"Charlie\"] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#nested-comprehensions","title":"Nested Comprehensions","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#list-of-lists","title":"List of Lists","text":"<p>Create nested list structures:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [[x * y for x in row] for y in [1, 2, 3]] }}\n\n&lt;!-- Context: row = [1, 2, 3] --&gt;\n&lt;!-- Output: [[1, 2, 3], [2, 4, 6], [3, 6, 9]] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#flattening-nested-lists","title":"Flattening Nested Lists","text":"<p>Flatten nested structures:</p> <pre><code>&lt;!-- Template --&gt;\n{{ [item for sublist in nested_list for item in sublist] }}\n\n&lt;!-- Context: nested_list = [[1, 2], [3, 4], [5, 6]] --&gt;\n&lt;!-- Output: [1, 2, 3, 4, 5, 6] --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#performance-considerations","title":"Performance Considerations","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#memory-usage","title":"Memory Usage","text":"<p>Comprehensions create new collections in memory:</p> <pre><code>&lt;!-- Efficient: Direct iteration --&gt;\n{% for user in users %}\n  {{ user.name }}\n{% endfor %}\n\n&lt;!-- Less efficient: Creates intermediate list --&gt;\n{% for name in [user.name for user in users] %}\n  {{ name }}\n{% endfor %}\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#complex-filtering","title":"Complex Filtering","text":"<p>For complex filtering, consider using filters instead:</p> <pre><code>&lt;!-- Comprehension approach --&gt;\n{{ [user for user in users if user.age &gt; 18 and user.department == \"engineering\"] }}\n\n&lt;!-- Filter approach (may be more readable) --&gt;\n{{ users|selectattr(\"age\", \"gt\", 18)|selectattr(\"department\", \"eq\", \"engineering\")|list }}\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#examples","title":"Examples","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#real-world-use-cases","title":"Real-world Use Cases","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#1-navigation-menu-generation","title":"1. Navigation Menu Generation","text":"<pre><code>&lt;!-- Template --&gt;\n&lt;nav&gt;\n  {% for item in [{\"url\": page.url, \"title\": page.title, \"active\": page.slug == current_page} for page in pages if page.visible] %}\n    &lt;a href=\"{{ item.url }}\" {% if item.active %}class=\"active\"{% endif %}&gt;\n      {{ item.title }}\n    &lt;/a&gt;\n  {% endfor %}\n&lt;/nav&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#2-form-field-processing","title":"2. Form Field Processing","text":"<pre><code>&lt;!-- Template --&gt;\n{% set required_fields = [field.name for field in form.fields if field.required] %}\n{% set field_errors = {field.name: field.errors for field in form.fields if field.errors} %}\n\n&lt;form&gt;\n  {% for field in form.fields %}\n    &lt;div class=\"field{% if field.name in field_errors %} error{% endif %}\"&gt;\n      &lt;label for=\"{{ field.name }}\"&gt;\n        {{ field.label }}\n        {% if field.name in required_fields %}&lt;span class=\"required\"&gt;*&lt;/span&gt;{% endif %}\n      &lt;/label&gt;\n      {{ field.render() }}\n      {% if field.name in field_errors %}\n        &lt;div class=\"error-message\"&gt;{{ field_errors[field.name]|join(\", \") }}&lt;/div&gt;\n      {% endif %}\n    &lt;/div&gt;\n  {% endfor %}\n&lt;/form&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#3-data-aggregation","title":"3. Data Aggregation","text":"<pre><code>&lt;!-- Template --&gt;\n{% set total_sales = [sale.amount for sale in sales if sale.status == \"completed\"]|sum %}\n{% set sales_by_category = {category: [sale.amount for sale in sales if sale.category == category]|sum for category in categories} %}\n\n&lt;div class=\"dashboard\"&gt;\n  &lt;h2&gt;Total Sales: ${{ total_sales }}&lt;/h2&gt;\n\n  &lt;div class=\"category-breakdown\"&gt;\n    {% for category, amount in sales_by_category.items() %}\n      &lt;div class=\"category\"&gt;\n        &lt;span&gt;{{ category|title }}&lt;/span&gt;\n        &lt;span&gt;${{ amount }}&lt;/span&gt;\n      &lt;/div&gt;\n    {% endfor %}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#4-tag-cloud-generation","title":"4. Tag Cloud Generation","text":"<pre><code>&lt;!-- Template --&gt;\n{% set tag_counts = {tag.name: tag.count for tag in tags if tag.count &gt; 0} %}\n{% set max_count = tag_counts.values()|max %}\n\n&lt;div class=\"tag-cloud\"&gt;\n  {% for tag_name, count in tag_counts.items() %}\n    {% set size = (count / max_count * 100)|round %}\n    &lt;span class=\"tag\" style=\"font-size: {{ size }}%\"&gt;\n      {{ tag_name }}\n      &lt;small&gt;({{ count }})&lt;/small&gt;\n    &lt;/span&gt;\n  {% endfor %}\n&lt;/div&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#limitations","title":"Limitations","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#current-limitations","title":"Current Limitations","text":"<ol> <li>Variable Scope: Comprehension variables don't leak into the outer scope</li> <li>Error Handling: Errors in comprehension expressions can be harder to debug</li> <li>Memory Usage: Large comprehensions can consume significant memory</li> </ol>"},{"location":"LIST_DICT_COMPREHENSIONS/#not-supported","title":"Not Supported","text":"<ol> <li>Nested Variable Assignment: Cannot assign to variables within comprehensions</li> <li>Multiple Iterables: Single iterable per comprehension (no zip-like functionality)</li> <li>Generator Expressions: Always creates full collections, not lazy generators</li> </ol>"},{"location":"LIST_DICT_COMPREHENSIONS/#error-examples","title":"Error Examples","text":"<pre><code>&lt;!-- This will cause an error --&gt;\n{{ [x for x in undefined_variable] }}\n\n&lt;!-- This will also cause an error --&gt;\n{{ {key: value for item in items} }}  &lt;!-- key and value not defined --&gt;\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#best-practices","title":"Best Practices","text":""},{"location":"LIST_DICT_COMPREHENSIONS/#1-keep-comprehensions-simple","title":"1. Keep Comprehensions Simple","text":"<pre><code>&lt;!-- Good: Simple and readable --&gt;\n{{ [user.name for user in users] }}\n\n&lt;!-- Avoid: Too complex --&gt;\n{{ [user.profile.personal_info.display_name or user.username or \"Anonymous\" for user in users if user.is_active and not user.is_banned and user.profile] }}\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#2-use-meaningful-variable-names","title":"2. Use Meaningful Variable Names","text":"<pre><code>&lt;!-- Good --&gt;\n{{ [product.name for product in products if product.in_stock] }}\n\n&lt;!-- Avoid --&gt;\n{{ [x.name for x in products if x.in_stock] }}\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#3-consider-readability-vs-conciseness","title":"3. Consider Readability vs. Conciseness","text":"<pre><code>&lt;!-- Sometimes a traditional loop is more readable --&gt;\n{% set active_user_names = [] %}\n{% for user in users %}\n  {% if user.is_active and user.profile %}\n    {% set _ = active_user_names.append(user.profile.display_name or user.username) %}\n  {% endif %}\n{% endfor %}\n\n&lt;!-- Versus --&gt;\n{{ [user.profile.display_name or user.username for user in users if user.is_active and user.profile] }}\n</code></pre>"},{"location":"LIST_DICT_COMPREHENSIONS/#4-use-filters-for-common-operations","title":"4. Use Filters for Common Operations","text":"<pre><code>&lt;!-- Instead of --&gt;\n{{ [user for user in users if user.age &gt;= 18] }}\n\n&lt;!-- Consider --&gt;\n{{ users|selectattr(\"age\", \"ge\", 18)|list }}\n</code></pre> <p>Note: List and dictionary comprehensions are a powerful feature that can make templates more concise and expressive. However, they should be used judiciously to maintain template readability and performance.</p>"},{"location":"MACROS_AND_INCLUDES/","title":"Macros and Includes Guide","text":"<p>Macros enable template reusability through parameterized components. Includes allow template composition. Miya Engine provides Jinja2-compatible macros and includes with one limitation.</p> <p>Working Example: See <code>examples/features/macros-includes/</code> for complete examples.</p>"},{"location":"MACROS_AND_INCLUDES/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Macros Basics</li> <li>Macro Parameters</li> <li>Importing Macros</li> <li>Template Includes</li> <li>Practical Examples</li> <li>Limitations</li> </ol>"},{"location":"MACROS_AND_INCLUDES/#macros-basics","title":"Macros Basics","text":""},{"location":"MACROS_AND_INCLUDES/#what-are-macros","title":"What are Macros?","text":"<p>Macros are reusable template functions that accept parameters and return rendered content.</p>"},{"location":"MACROS_AND_INCLUDES/#basic-macro-definition","title":"Basic Macro Definition","text":"<p>macros.html: <pre><code>{% macro render_input(name, type=\"text\", placeholder=\"\") %}\n&lt;div class=\"form-group\"&gt;\n  &lt;input type=\"{{ type }}\"\n         name=\"{{ name }}\"\n         placeholder=\"{{ placeholder }}\"\n         class=\"form-control\"&gt;\n&lt;/div&gt;\n{% endmacro %}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#using-a-macro","title":"Using a Macro","text":"<pre><code>{% import \"macros.html\" as forms %}\n\n{{ forms.render_input(\"username\", placeholder=\"Enter username\") }}\n{{ forms.render_input(\"email\", type=\"email\") }}\n{{ forms.render_input(\"password\", type=\"password\") }}\n</code></pre> <p>Output: <pre><code>&lt;div class=\"form-group\"&gt;\n  &lt;input type=\"text\" name=\"username\" placeholder=\"Enter username\" class=\"form-control\"&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n  &lt;input type=\"email\" name=\"email\" placeholder=\"\" class=\"form-control\"&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n  &lt;input type=\"password\" name=\"password\" placeholder=\"\" class=\"form-control\"&gt;\n&lt;/div&gt;\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#macro-parameters","title":"Macro Parameters","text":""},{"location":"MACROS_AND_INCLUDES/#default-parameters","title":"Default Parameters","text":"<pre><code>{% macro render_button(text, type=\"button\", class=\"btn-primary\", disabled=False) %}\n&lt;button type=\"{{ type }}\"\n        class=\"btn {{ class }}\"\n        {{ 'disabled' if disabled else '' }}&gt;\n  {{ text }}\n&lt;/button&gt;\n{% endmacro %}\n</code></pre> <p>Usage: <pre><code>{{ forms.render_button(\"Click Me\") }}\n\u2192 &lt;button type=\"button\" class=\"btn btn-primary\"&gt;Click Me&lt;/button&gt;\n\n{{ forms.render_button(\"Save\", type=\"submit\", class=\"btn-success\") }}\n\u2192 &lt;button type=\"submit\" class=\"btn btn-success\"&gt;Save&lt;/button&gt;\n\n{{ forms.render_button(\"Disabled\", disabled=True) }}\n\u2192 &lt;button type=\"button\" class=\"btn btn-primary\" disabled&gt;Disabled&lt;/button&gt;\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#required-parameters","title":"Required Parameters","text":"<p>Parameters without defaults are required:</p> <pre><code>{% macro render_field(name, label, type=\"text\", required=False, help_text=\"\") %}\n&lt;div class=\"form-field\"&gt;\n  &lt;label&gt;\n    {{ label }}\n    {% if required %}&lt;span class=\"required\"&gt;*&lt;/span&gt;{% endif %}\n  &lt;/label&gt;\n  &lt;input type=\"{{ type }}\" name=\"{{ name }}\" class=\"form-control\"&gt;\n  {% if help_text %}\n  &lt;small class=\"help-text\"&gt;{{ help_text }}&lt;/small&gt;\n  {% endif %}\n&lt;/div&gt;\n{% endmacro %}\n</code></pre> <p>Usage: <pre><code>{{ forms.render_field(\"full_name\", label=\"Full Name\", required=True) }}\n{{ forms.render_field(\"age\", label=\"Age\", type=\"number\", help_text=\"Must be 18 or older\") }}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#variable-arguments","title":"Variable Arguments","text":"<p>Access all macro variables:</p> <pre><code>{% macro render_table_row(cells, header=False) %}\n&lt;tr&gt;\n  {% for cell in cells %}\n    {% if header %}\n    &lt;th&gt;{{ cell }}&lt;/th&gt;\n    {% else %}\n    &lt;td&gt;{{ cell }}&lt;/td&gt;\n    {% endif %}\n  {% endfor %}\n&lt;/tr&gt;\n{% endmacro %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#importing-macros","title":"Importing Macros","text":""},{"location":"MACROS_AND_INCLUDES/#method-1-import-with-namespace","title":"Method 1: Import with Namespace","text":"<p>Import all macros from a file into a namespace:</p> <pre><code>{% import \"macros.html\" as forms %}\n\n{{ forms.render_input(\"username\") }}\n{{ forms.render_button(\"Submit\") }}\n{{ forms.render_field(\"email\", label=\"Email\") }}\n</code></pre> <p>Advantages: - Clean namespace separation - No naming conflicts - Clear source of macros</p>"},{"location":"MACROS_AND_INCLUDES/#method-2-from-selective-import","title":"Method 2: From (Selective Import)","text":"<p>Import specific macros directly:</p> <pre><code>{% from \"macros.html\" import render_badge, render_list %}\n\n{{ render_badge(\"New\", type=\"info\") }}\n{{ render_list(items) }}\n</code></pre> <p>Advantages: - Shorter syntax for frequently used macros - Import only what you need - Direct access without namespace prefix</p>"},{"location":"MACROS_AND_INCLUDES/#method-3-import-multiple-with-aliases","title":"Method 3: Import Multiple with Aliases","text":"<pre><code>{% from \"macros.html\" import render_input as input, render_button as btn %}\n\n{{ input(\"username\") }}\n{{ btn(\"Submit\") }}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#template-includes","title":"Template Includes","text":""},{"location":"MACROS_AND_INCLUDES/#basic-include","title":"Basic Include","text":"<p>Include templates to compose pages:</p> <pre><code>{% include \"includes/header.html\" %}\n\n&lt;h1&gt;Main Content&lt;/h1&gt;\n\n{% include \"includes/footer.html\" %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#context-inheritance","title":"Context Inheritance","text":"<p>Included templates have access to the current context:</p> <p>includes/footer.html: <pre><code>&lt;footer&gt;\n  &lt;p&gt;&amp;copy; {{ year|default(2024) }} {{ company|default(\"Miya Engine\") }}&lt;/p&gt;\n  &lt;p&gt;\n    {% for link in footer_links %}\n    &lt;a href=\"{{ link.url }}\"&gt;{{ link.title }}&lt;/a&gt;{% if not loop.last %} | {% endif %}\n    {% endfor %}\n  &lt;/p&gt;\n&lt;/footer&gt;\n</code></pre></p> <p>Usage: <pre><code>{# Variables are accessible in included template #}\n{% set year = 2024 %}\n{% set company = \"My Company\" %}\n{% set footer_links = [...] %}\n\n{% include \"includes/footer.html\" %}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#include-with-context-control","title":"Include with Context Control","text":"<p>Default behavior: Full context access <pre><code>{% include \"template.html\" %}\n</code></pre></p> <p>With only specific variables: <pre><code>{% include \"template.html\" with context %}  {# explicit, same as default #}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#conditional-includes","title":"Conditional Includes","text":"<pre><code>{% if user.role == \"admin\" %}\n  {% include \"admin/navbar.html\" %}\n{% else %}\n  {% include \"user/navbar.html\" %}\n{% endif %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#practical-examples","title":"Practical Examples","text":""},{"location":"MACROS_AND_INCLUDES/#example-1-form-components-library","title":"Example 1: Form Components Library","text":"<p>macros.html: <pre><code>{% macro render_input(name, type=\"text\", placeholder=\"\") %}\n&lt;div class=\"form-group\"&gt;\n  &lt;input type=\"{{ type }}\" name=\"{{ name }}\" placeholder=\"{{ placeholder }}\" class=\"form-control\"&gt;\n&lt;/div&gt;\n{% endmacro %}\n\n{% macro render_button(text, type=\"button\", class=\"btn-primary\", disabled=False) %}\n&lt;button type=\"{{ type }}\" class=\"btn {{ class }}\" {{ 'disabled' if disabled else '' }}&gt;\n  {{ text }}\n&lt;/button&gt;\n{% endmacro %}\n\n{% macro render_field(name, label, type=\"text\", required=False, help_text=\"\") %}\n&lt;div class=\"form-field\"&gt;\n  &lt;label&gt;\n    {{ label }}\n    {% if required %}&lt;span class=\"required\"&gt;*&lt;/span&gt;{% endif %}\n  &lt;/label&gt;\n  &lt;input type=\"{{ type }}\" name=\"{{ name }}\" class=\"form-control\"&gt;\n  {% if help_text %}\n  &lt;small class=\"help-text\"&gt;{{ help_text }}&lt;/small&gt;\n  {% endif %}\n&lt;/div&gt;\n{% endmacro %}\n</code></pre></p> <p>Usage: <pre><code>{% import \"macros.html\" as forms %}\n\n&lt;form&gt;\n  {{ forms.render_field(\"full_name\", label=\"Full Name\", required=True) }}\n  {{ forms.render_field(\"email\", label=\"Email\", type=\"email\", required=True) }}\n  {{ forms.render_field(\"age\", label=\"Age\", type=\"number\", help_text=\"Must be 18+\") }}\n  {{ forms.render_button(\"Submit\", type=\"submit\") }}\n&lt;/form&gt;\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#example-2-ui-components","title":"Example 2: UI Components","text":"<p>macros.html: <pre><code>{% macro render_badge(text, type=\"info\") %}\n&lt;span class=\"badge badge-{{ type }}\"&gt;{{ text }}&lt;/span&gt;\n{% endmacro %}\n\n{% macro render_list(items, ordered=False, class=\"\") %}\n{% if ordered %}\n&lt;ol class=\"{{ class }}\"&gt;\n{% else %}\n&lt;ul class=\"{{ class }}\"&gt;\n{% endif %}\n  {% for item in items %}\n  &lt;li&gt;{{ item }}&lt;/li&gt;\n  {% endfor %}\n{% if ordered %}\n&lt;/ol&gt;\n{% else %}\n&lt;/ul&gt;\n{% endif %}\n{% endmacro %}\n\n{% macro render_card(title, content) %}\n&lt;div class=\"card\"&gt;\n  &lt;div class=\"card-header\"&gt;{{ title }}&lt;/div&gt;\n  &lt;div class=\"card-body\"&gt;{{ content }}&lt;/div&gt;\n&lt;/div&gt;\n{% endmacro %}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#example-3-data-tables","title":"Example 3: Data Tables","text":"<p>macros.html: <pre><code>{% macro render_table_row(cells, header=False) %}\n&lt;tr&gt;\n  {% for cell in cells %}\n    {% if header %}\n    &lt;th&gt;{{ cell }}&lt;/th&gt;\n    {% else %}\n    &lt;td&gt;{{ cell }}&lt;/td&gt;\n    {% endif %}\n  {% endfor %}\n&lt;/tr&gt;\n{% endmacro %}\n</code></pre></p> <p>Usage: <pre><code>{% import \"macros.html\" as ui %}\n\n&lt;table&gt;\n  {{ ui.render_table_row([\"Name\", \"Price\", \"Stock\"], header=True) }}\n  {% for product in products %}\n    {{ ui.render_table_row([product.name, \"$\" ~ product.price, product.stock]) }}\n  {% endfor %}\n&lt;/table&gt;\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#example-4-navigation-components","title":"Example 4: Navigation Components","text":"<p>includes/header.html: <pre><code>&lt;header class=\"site-header\"&gt;\n  &lt;h1&gt;{{ site_title|default(\"My Site\") }}&lt;/h1&gt;\n  &lt;nav&gt;\n    &lt;ul&gt;\n    {% for item in nav_items %}\n      &lt;li&gt;&lt;a href=\"{{ item.url }}\"&gt;{{ item.title }}&lt;/a&gt;&lt;/li&gt;\n    {% endfor %}\n    &lt;/ul&gt;\n  &lt;/nav&gt;\n&lt;/header&gt;\n</code></pre></p> <p>page.html: <pre><code>{% set site_title = \"My Awesome Site\" %}\n{% set nav_items = [\n  {\"title\": \"Home\", \"url\": \"/\"},\n  {\"title\": \"About\", \"url\": \"/about\"},\n  {\"title\": \"Contact\", \"url\": \"/contact\"}\n] %}\n\n{% include \"includes/header.html\" %}\n\n&lt;main&gt;\n  &lt;h2&gt;Welcome!&lt;/h2&gt;\n&lt;/main&gt;\n\n{% include \"includes/footer.html\" %}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#example-5-macros-in-loops","title":"Example 5: Macros in Loops","text":"<pre><code>{% import \"macros.html\" as ui %}\n\n&lt;h3&gt;Product Catalog&lt;/h3&gt;\n{% for product in products %}\n  {{ ui.render_card(\n    title=product.name,\n    content=\"Price: $\" ~ product.price ~ \"&lt;br&gt;Stock: \" ~ product.stock\n  ) }}\n{% endfor %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#example-6-nested-macro-calls","title":"Example 6: Nested Macro Calls","text":"<p>Macros can call other macros:</p> <p>macros.html: <pre><code>{% macro render_icon(name) %}\n&lt;i class=\"icon-{{ name }}\"&gt;&lt;/i&gt;\n{% endmacro %}\n\n{% macro render_button_with_icon(text, icon, type=\"button\") %}\n&lt;button type=\"{{ type }}\" class=\"btn\"&gt;\n  {{ render_icon(icon) }} {{ text }}\n&lt;/button&gt;\n{% endmacro %}\n</code></pre></p> <p>Usage: <pre><code>{% import \"macros.html\" as ui %}\n{{ ui.render_button_with_icon(\"Save\", \"save\", type=\"submit\") }}\n</code></pre></p>"},{"location":"MACROS_AND_INCLUDES/#limitations","title":"Limitations","text":""},{"location":"MACROS_AND_INCLUDES/#caller-function-not-supported","title":"Caller Function Not Supported","text":"<p>Jinja2's <code>caller()</code> function for macro call blocks is NOT supported in Miya Engine.</p> <p>Jinja2 (Not in Miya): <pre><code>{#  This does NOT work in Miya #}\n{% macro render_dialog(title) %}\n&lt;div class=\"dialog\"&gt;\n  &lt;h3&gt;{{ title }}&lt;/h3&gt;\n  &lt;div class=\"content\"&gt;\n    {{ caller() }}  {# NOT SUPPORTED #}\n  &lt;/div&gt;\n&lt;/div&gt;\n{% endmacro %}\n\n{% call render_dialog(\"Hello\") %}\n  This content would be passed to caller()\n{% endcall %}\n</code></pre></p> <p>Workaround: Pass content as a parameter:</p> <pre><code>{#  Works in Miya #}\n{% macro render_dialog(title, content) %}\n&lt;div class=\"dialog\"&gt;\n  &lt;h3&gt;{{ title }}&lt;/h3&gt;\n  &lt;div class=\"content\"&gt;{{ content }}&lt;/div&gt;\n&lt;/div&gt;\n{% endmacro %}\n\n{% set dialog_content %}\n  This content is passed as a parameter\n{% endset %}\n\n{{ render_dialog(\"Hello\", dialog_content) }}\n</code></pre> <p>Or use direct macro invocation:</p> <pre><code>{% macro render_dialog(title, content) %}\n&lt;div class=\"dialog\"&gt;\n  &lt;h3&gt;{{ title }}&lt;/h3&gt;\n  &lt;div class=\"content\"&gt;{{ content }}&lt;/div&gt;\n&lt;/div&gt;\n{% endmacro %}\n\n{{ render_dialog(\"Hello\", \"&lt;p&gt;Direct HTML content&lt;/p&gt;\") }}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#best-practices","title":"Best Practices","text":""},{"location":"MACROS_AND_INCLUDES/#1-organize-macros-by-purpose","title":"1. Organize Macros by Purpose","text":"<pre><code>templates/\n  macros/\n    forms.html      - Form components\n    ui.html         - UI elements (badges, cards, etc.)\n    tables.html     - Table components\n    navigation.html - Nav components\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#2-use-descriptive-names","title":"2. Use Descriptive Names","text":"<pre><code>{#  Good #}\n{% macro render_user_profile_card(user) %}\n\n{#  Avoid #}\n{% macro card(u) %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#3-provide-sensible-defaults","title":"3. Provide Sensible Defaults","text":"<pre><code>{% macro render_button(text, type=\"button\", class=\"btn-primary\") %}\n  {# Sensible defaults make macros easy to use #}\n{% endmacro %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#4-document-complex-macros","title":"4. Document Complex Macros","text":"<pre><code>{#\n  Renders a data table with sortable columns.\n\n  Parameters:\n    - headers: list of column headers\n    - rows: list of data rows\n    - sortable: boolean, enable sorting (default: false)\n#}\n{% macro render_data_table(headers, rows, sortable=False) %}\n  ...\n{% endmacro %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#5-keep-macros-focused","title":"5. Keep Macros Focused","text":"<p>Each macro should do one thing well:</p> <pre><code>{#  Good - focused macro #}\n{% macro render_input(name, type=\"text\") %}\n  ...\n{% endmacro %}\n\n{#  Avoid - too many responsibilities #}\n{% macro render_entire_form_with_validation_and_submission(...) %}\n  ...\n{% endmacro %}\n</code></pre>"},{"location":"MACROS_AND_INCLUDES/#complete-reference","title":"Complete Reference","text":""},{"location":"MACROS_AND_INCLUDES/#import-syntax","title":"Import Syntax","text":"Syntax Description Usage <code>{% import \"file.html\" as name %}</code> Import with namespace <code>{{ name.macro() }}</code> <code>{% from \"file.html\" import macro %}</code> Direct import <code>{{ macro() }}</code> <code>{% from \"file.html\" import macro as m %}</code> Import with alias <code>{{ m() }}</code> <code>{% from \"file.html\" import m1, m2 %}</code> Import multiple <code>{{ m1() }} {{ m2() }}</code>"},{"location":"MACROS_AND_INCLUDES/#include-syntax","title":"Include Syntax","text":"Syntax Description <code>{% include \"file.html\" %}</code> Include with full context <code>{% include \"file.html\" with context %}</code> Explicit context (same as default)"},{"location":"MACROS_AND_INCLUDES/#macro-features","title":"Macro Features","text":"<p>Supported: - Macro definitions - Default parameters - Named parameters - Variable number of parameters (as lists) - Nested macro calls - Macros in loops - Import with namespace - Selective import with <code>from</code> - Template includes with context</p> <p>Not Supported: - <code>caller()</code> function for call blocks - <code>{% call %}</code> statement</p>"},{"location":"MACROS_AND_INCLUDES/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete macro examples</li> <li>Template Inheritance - Extending templates</li> <li>Control Structures - Logic in templates</li> <li>Miya Limitations - Known limitations</li> </ul>"},{"location":"MACROS_AND_INCLUDES/#summary","title":"Summary","text":"<p>Macros and includes provide powerful template reusability:</p> <p>** Fully Supported (95% Jinja2 Compatible):** - Macro definitions with parameters - Default parameter values - Import with namespace - Selective imports with <code>from</code> - Template includes with context - Nested macro calls - Macros in loops</p> <p>** Known Limitation:** - <code>caller()</code> function not supported (use parameters instead)</p> <p>Macros enable building component libraries for consistent, maintainable templates across your application.</p>"},{"location":"MIYA_LIMITATIONS/","title":"Miya Engine Limitations and Differences from Jinja2","text":"<p>This document details the known limitations and differences between Miya Engine and Jinja2, based on extensive testing of the implementation.</p> <p>Last Updated: Based on testing all feature examples in <code>examples/features/</code> Miya Version: Current implementation as of November 2024</p>"},{"location":"MIYA_LIMITATIONS/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Critical Limitations</li> <li>Comprehensions Limitations</li> <li>Filter Limitations</li> <li>Macro Limitations</li> <li>Syntax Limitations</li> <li>Workarounds and Alternatives</li> </ol>"},{"location":"MIYA_LIMITATIONS/#critical-limitations","title":"Critical Limitations","text":""},{"location":"MIYA_LIMITATIONS/#1-list-comprehensions-with-filter-clauses","title":"1. List Comprehensions with Filter Clauses","text":"<p>Not Supported: <pre><code>{{ [x for x in numbers if x &gt; 5] }}\n{{ [user.name for user in users if user.active] }}\n{{ [x for x in items if x.price &gt; 100 and x.stock &gt; 0] }}\n</code></pre></p> <p>Error: <pre><code>parser error: expected 'else' in conditional expression\n</code></pre></p> <p>Reason: The parser treats any <code>if</code> inside a comprehension as a ternary operator and requires an <code>else</code> clause.</p> <p>Workaround: <pre><code>{# Use filter chains instead #}\n{{ users|selectattr(\"active\")|map(attribute=\"name\")|list }}\n{{ numbers|select(\"greaterthan\", 5)|list }}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#2-dictionary-comprehensions-with-items-unpacking","title":"2. Dictionary Comprehensions with <code>.items()</code> Unpacking","text":"<p>Not Supported: <pre><code>{{ {k: v for k, v in dict.items()} }}\n{{ {key|upper: value for key, value in config.items()} }}\n</code></pre></p> <p>Error: <pre><code>parser error: expected 'in' in dict comprehension\n</code></pre></p> <p>Reason: The parser doesn't support tuple unpacking in dictionary comprehensions.</p> <p>Workaround: <pre><code>{# Only single-item iteration works #}\n{{ {user.id: user.name for user in users} }}\n{{ {item.key: item.value for item in key_value_list} }}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#3-nested-comprehensions","title":"3. Nested Comprehensions","text":"<p>Not Supported: <pre><code>{{ [item for category in categories for item in category.items] }}\n{{ [(a, b) for a in list1 for b in list2] }}\n</code></pre></p> <p>Error: <pre><code>parser error: unexpected 'for' in comprehension\n</code></pre></p> <p>Reason: Multiple <code>for</code> clauses in a single comprehension are not parsed correctly.</p> <p>Workaround: <pre><code>{# Use nested loops instead #}\n{% set result = [] %}\n{% for category in categories %}\n  {% for item in category.items %}\n    {% do result.append(item) %}\n  {% endfor %}\n{% endfor %}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#4-inline-conditionals-without-else","title":"4. Inline Conditionals Without <code>else</code>","text":"<p>Not Supported: <pre><code>{{ \", \" if not loop.last }}\n{{ value if condition }}\n{{ user.name if user }}\n</code></pre></p> <p>Error: <pre><code>parser error: expected 'else' in conditional expression\n</code></pre></p> <p>Reason: The parser always expects a complete ternary expression with both branches.</p> <p>Workaround: <pre><code>{# Use block-level conditionals #}\n{% if not loop.last %}, {% endif %}\n{% if condition %}{{ value }}{% endif %}\n\n{# Or provide an else clause #}\n{{ \", \" if not loop.last else \"\" }}\n{{ value if condition else \"\" }}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#comprehensions-limitations","title":"Comprehensions Limitations","text":""},{"location":"MIYA_LIMITATIONS/#summary-table","title":"Summary Table","text":"Feature Jinja2 Miya Status <code>[expr for item in list]</code> Works <code>[expr for item in list if cond]</code> Not Supported <code>{key: val for item in list}</code> Works <code>{k: v for k, v in dict.items()}</code> Not Supported <code>[item for list in lists for item in list]</code> Not Supported <code>{k: v for item in list if cond}</code> Not Supported"},{"location":"MIYA_LIMITATIONS/#what-works","title":"What Works","text":"<pre><code>{#  Basic list comprehensions #}\n{{ [x * 2 for x in numbers] }}\n{{ [user.name for user in users] }}\n{{ [item|upper for item in items] }}\n\n{#  Basic dict comprehensions #}\n{{ {user.id: user.name for user in users} }}\n{{ {item.key: item.value for item in data} }}\n\n{#  With filters applied #}\n{{ [name|title for name in names] }}\n{{ [price|round(2) for price in prices] }}\n</code></pre>"},{"location":"MIYA_LIMITATIONS/#filter-limitations","title":"Filter Limitations","text":""},{"location":"MIYA_LIMITATIONS/#collection-filters-with-limited-support","title":"Collection Filters with Limited Support","text":"<p>The following filters appear to have issues when chained or used with certain data types:</p> <p>Problematic Filters: - <code>sort</code> - May fail with: \"sort filter requires a sequence\" - <code>reverse</code> - Limited support - <code>unique</code> - May not work as expected - <code>slice</code> - Limited support - <code>batch</code> - May have issues - <code>select</code> - Works but limited - <code>reject</code> - Works but limited - <code>selectattr</code> - Works in filter chains, not in comprehensions - <code>rejectattr</code> - Works in filter chains, not in comprehensions - <code>groupby</code> - Limited testing</p> <p>Working Alternatives: <pre><code>{#  This may fail #}\n{{ numbers|sort|reverse }}\n\n{#  Use these instead #}\n{{ numbers|list }}  {# Just convert to list #}\n{% for num in numbers|sort %}{{ num }}{% endfor %}  {# In loops #}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#reliably-working-filters","title":"Reliably Working Filters","text":"<p>String Filters: - <code>upper</code>, <code>lower</code>, <code>capitalize</code>, <code>title</code> - <code>trim</code>, <code>replace</code>, <code>truncate</code> - <code>split</code>, <code>join</code> - <code>startswith</code>, <code>endswith</code>, <code>contains</code> - <code>slugify</code></p> <p>Numeric Filters: - <code>abs</code>, <code>round</code>, <code>int</code>, <code>float</code> - <code>default</code></p> <p>HTML Filters: - <code>escape</code>, <code>safe</code>, <code>striptags</code> - <code>urlencode</code></p> <p>Other: - <code>length</code>, <code>first</code>, <code>last</code> - <code>default</code> - <code>tojson</code></p>"},{"location":"MIYA_LIMITATIONS/#macro-limitations","title":"Macro Limitations","text":""},{"location":"MIYA_LIMITATIONS/#caller-function-not-supported","title":"<code>caller()</code> Function Not Supported","text":"<p>Not Supported: <pre><code>{% macro wrapper(title) %}\n  &lt;div class=\"card\"&gt;\n    &lt;h3&gt;{{ title }}&lt;/h3&gt;\n    {{ caller() }}  {#  Not supported #}\n  &lt;/div&gt;\n{% endmacro %}\n\n{% call wrapper(\"My Card\") %}\n  &lt;p&gt;Card content&lt;/p&gt;\n{% endcall %}\n</code></pre></p> <p>Error: <pre><code>cannot call non-function value of type *runtime.Undefined\n</code></pre></p> <p>Workaround: <pre><code>{# Pass content as a parameter instead #}\n{% macro wrapper(title, content) %}\n  &lt;div class=\"card\"&gt;\n    &lt;h3&gt;{{ title }}&lt;/h3&gt;\n    {{ content }}\n  &lt;/div&gt;\n{% endmacro %}\n\n{% set my_content %}\n  &lt;p&gt;Card content&lt;/p&gt;\n{% endset %}\n{{ wrapper(\"My Card\", my_content) }}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#varargs-and-kwargs-not-supported","title":"Varargs and Kwargs Not Supported","text":"<p>Not Supported: <pre><code>{% macro flexible(*args, **kwargs) %}\n  {#  Not supported #}\n{% endmacro %}\n</code></pre></p> <p>Workaround: <pre><code>{# Use explicit parameters with defaults #}\n{% macro flexible(param1=\"\", param2=\"\", param3=\"\") %}\n  {#  This works #}\n{% endmacro %}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#syntax-limitations","title":"Syntax Limitations","text":""},{"location":"MIYA_LIMITATIONS/#enumerate-keyword-arguments","title":"<code>enumerate()</code> Keyword Arguments","text":"<p>Not Supported: <pre><code>{% for i, item in enumerate(items, start=1) %}  {#  #}\n</code></pre></p> <p>Workaround: <pre><code>{% for i, item in enumerate(items, 1) %}  {#  Positional arg #}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#dictionary-iteration-with-tuple-unpacking","title":"Dictionary Iteration with Tuple Unpacking","text":"<p>Not Supported: <pre><code>{% for key, value in dict.items() %}  {#  #}\n</code></pre></p> <p>Workaround: <pre><code>{# Iterate over keys #}\n{% for key in dict %}\n  {{ key }}: {{ dict[key] }}\n{% endfor %}\n\n{# Or use a list of objects #}\n{% for item in items %}\n  {{ item.key }}: {{ item.value }}\n{% endfor %}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#multiple-variable-assignment","title":"Multiple Variable Assignment","text":"<p>Not Supported: <pre><code>{% set a, b = 1, 2 %}  {#  #}\n{% set x, y = some_tuple %}  {#  #}\n</code></pre></p> <p>Workaround: <pre><code>{% set a = 1 %}\n{% set b = 2 %}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#workarounds-and-alternatives","title":"Workarounds and Alternatives","text":""},{"location":"MIYA_LIMITATIONS/#pattern-1-filtering-data","title":"Pattern 1: Filtering Data","text":"<p>Instead of comprehensions with filters: <pre><code>{#  Doesn't work #}\n{{ [user for user in users if user.active] }}\n\n{#  Use filter chains #}\n{{ users|selectattr(\"active\")|list }}\n\n{#  Or use loops with conditionals #}\n{% set active_users = [] %}\n{% for user in users %}\n  {% if user.active %}\n    {% do active_users.append(user) %}\n  {% endif %}\n{% endfor %}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#pattern-2-complex-data-transformations","title":"Pattern 2: Complex Data Transformations","text":"<p>Instead of nested comprehensions: <pre><code>{#  Doesn't work #}\n{{ [item for cat in categories for item in cat.items] }}\n\n{#  Use nested loops #}\n{% set all_items = [] %}\n{% for category in categories %}\n  {% for item in category.items %}\n    {% do all_items.append(item) %}\n  {% endfor %}\n{% endfor %}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#pattern-3-conditional-output","title":"Pattern 3: Conditional Output","text":"<p>Instead of inline if without else: <pre><code>{#  Doesn't work #}\n{{ \", \" if not loop.last }}\n\n{#  Use block conditionals #}\n{% if not loop.last %}, {% endif %}\n\n{#  Or provide else clause #}\n{{ \", \" if not loop.last else \"\" }}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#pattern-4-dictionary-processing","title":"Pattern 4: Dictionary Processing","text":"<p>Instead of .items() unpacking: <pre><code>{#  Doesn't work #}\n{{ {k|upper: v for k, v in dict.items()} }}\n\n{#  Create list of key-value objects first #}\n{% set kv_list = [] %}\n{% for key in dict %}\n  {% do kv_list.append({\"key\": key, \"value\": dict[key]}) %}\n{% endfor %}\n{{ {item.key|upper: item.value for item in kv_list} }}\n</code></pre></p>"},{"location":"MIYA_LIMITATIONS/#testing-your-templates","title":"Testing Your Templates","text":"<p>When migrating from Jinja2 to Miya, test for these patterns:</p>"},{"location":"MIYA_LIMITATIONS/#checklist","title":"Checklist","text":"<ul> <li>[ ] No comprehensions with <code>if</code> clauses</li> <li>[ ] No <code>.items()</code> unpacking in comprehensions</li> <li>[ ] No nested comprehensions (multiple <code>for</code> clauses)</li> <li>[ ] All inline conditionals have <code>else</code> clauses</li> <li>[ ] No <code>caller()</code> in macros</li> <li>[ ] No varargs/kwargs in macros</li> <li>[ ] <code>enumerate()</code> uses positional args only</li> <li>[ ] No tuple unpacking in <code>{% for %}</code> loops</li> <li>[ ] No multiple variable assignment with <code>{% set %}</code></li> </ul>"},{"location":"MIYA_LIMITATIONS/#quick-test","title":"Quick Test","text":"<pre><code># Run examples to verify syntax\ncd examples/features/\nfor dir in */; do\n  cd \"$dir\"\n  go run main.go &gt; /dev/null 2&gt;&amp;1 &amp;&amp; echo \" $dir\" || echo \" $dir\"\n  cd ..\ndone\n</code></pre>"},{"location":"MIYA_LIMITATIONS/#see-also","title":"See Also","text":"<ul> <li>Feature Examples - Working examples of all supported features</li> <li>JINJA2_VS_MIYA_FEATURE_MATRIX.md - Complete compatibility matrix</li> <li>COMPREHENSIVE_FEATURES.md - All supported features with examples</li> </ul>"},{"location":"MIYA_LIMITATIONS/#summary","title":"Summary","text":"<p>Miya Engine provides ~95% Jinja2 compatibility with these main limitations:</p> <ol> <li>Comprehensions with <code>if</code> clauses</li> <li>Dictionary comprehensions with <code>.items()</code></li> <li>Nested comprehensions</li> <li>Inline conditionals without <code>else</code></li> <li>Macro <code>caller()</code> function</li> <li>Some collection filters have limited support</li> </ol> <p>Most Jinja2 templates will work with minor adjustments. Use the examples in <code>examples/features/</code> as a reference for working syntax.</p>"},{"location":"TEMPLATE_INHERITANCE/","title":"Template Inheritance Guide","text":"<p>Template inheritance is one of Miya Engine's most powerful features, allowing you to create reusable base templates and extend them with specific content.</p> <p>Working Example: See <code>examples/features/inheritance/</code> for a complete, working example.</p>"},{"location":"TEMPLATE_INHERITANCE/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Basic Concepts</li> <li>Creating a Base Template</li> <li>Extending Templates</li> <li>Using super()</li> <li>Best Practices</li> <li>Complete Example</li> </ol>"},{"location":"TEMPLATE_INHERITANCE/#basic-concepts","title":"Basic Concepts","text":""},{"location":"TEMPLATE_INHERITANCE/#what-is-template-inheritance","title":"What is Template Inheritance?","text":"<p>Template inheritance allows you to build a base \"skeleton\" template containing common elements, with blocks that child templates can override.</p> <p>Key Components: - Base Template: Defines the overall structure with blocks - Child Template: Extends the base and overrides specific blocks - Blocks: Named sections that can be overridden - super(): Function to include parent block content</p>"},{"location":"TEMPLATE_INHERITANCE/#syntax","title":"Syntax","text":"<pre><code>{# base.html #}\n{% block blockname %}\n  default content\n{% endblock %}\n\n{# child.html #}\n{% extends \"base.html\" %}\n{% block blockname %}\n  override content\n{% endblock %}\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#creating-a-base-template","title":"Creating a Base Template","text":"<p>A base template defines the overall structure with placeholder blocks:</p> <p><code>base.html</code>: <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{% block title %}Default Title{% endblock %}&lt;/title&gt;\n    {% block extra_head %}{% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;header&gt;\n        {% block header %}\n        &lt;h1&gt;Welcome&lt;/h1&gt;\n        {% endblock %}\n    &lt;/header&gt;\n\n    &lt;main&gt;\n        {% block content %}\n        &lt;!-- Main content goes here --&gt;\n        {% endblock %}\n    &lt;/main&gt;\n\n    &lt;footer&gt;\n        {% block footer %}\n        &lt;p&gt;&amp;copy; 2024 Company&lt;/p&gt;\n        {% endblock %}\n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p> <p>Block Naming Best Practices: - Use descriptive names: <code>header</code>, <code>content</code>, <code>sidebar</code>, <code>footer</code> - Common blocks: <code>title</code>, <code>extra_head</code>, <code>extra_css</code>, <code>extra_js</code> - Be consistent across your application</p>"},{"location":"TEMPLATE_INHERITANCE/#extending-templates","title":"Extending Templates","text":"<p>Child templates use <code>{% extends %}</code> to inherit from a base template:</p> <p><code>page.html</code>: <pre><code>{% extends \"base.html\" %}\n\n{% block title %}My Page Title{% endblock %}\n\n{% block extra_head %}\n&lt;style&gt;\n    /* Page-specific styles */\n    .highlight { color: blue; }\n&lt;/style&gt;\n{% endblock %}\n\n{% block content %}\n&lt;h2&gt;Page Content&lt;/h2&gt;\n&lt;p&gt;This overrides the base template's content block.&lt;/p&gt;\n{% endblock %}\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#important-rules","title":"Important Rules","text":"<ol> <li><code>{% extends %}</code> must be the first tag in the child template</li> <li>Everything outside blocks is ignored in child templates</li> <li>Only defined blocks are overridden; undefined blocks keep base content</li> <li>Blocks can be nested within other blocks</li> </ol>"},{"location":"TEMPLATE_INHERITANCE/#using-super","title":"Using super()","text":"<p>The <code>{{ super() }}</code> function includes the parent block's content:</p> <p>Example: <pre><code>{% extends \"base.html\" %}\n\n{% block header %}\n    {{ super() }}  {# Includes parent's &lt;h1&gt;Welcome&lt;/h1&gt; #}\n    &lt;nav&gt;Additional navigation&lt;/nav&gt;\n{% endblock %}\n</code></pre></p> <p>Output: <pre><code>&lt;header&gt;\n    &lt;h1&gt;Welcome&lt;/h1&gt;\n    &lt;nav&gt;Additional navigation&lt;/nav&gt;\n&lt;/header&gt;\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#use-cases-for-super","title":"Use Cases for super()","text":"<ol> <li> <p>Appending to parent content: <pre><code>{% block navigation %}\n    {{ super() }}\n    &lt;a href=\"/new-link\"&gt;New Link&lt;/a&gt;\n{% endblock %}\n</code></pre></p> </li> <li> <p>Prepending to parent content: <pre><code>{% block footer %}\n    &lt;p&gt;Additional info&lt;/p&gt;\n    {{ super() }}\n{% endblock %}\n</code></pre></p> </li> <li> <p>Wrapping parent content: <pre><code>{% block content %}\n    &lt;div class=\"wrapper\"&gt;\n        {{ super() }}\n    &lt;/div&gt;\n{% endblock %}\n</code></pre></p> </li> </ol>"},{"location":"TEMPLATE_INHERITANCE/#best-practices","title":"Best Practices","text":""},{"location":"TEMPLATE_INHERITANCE/#1-design-block-structure-carefully","title":"1. Design Block Structure Carefully","text":"<p>Good block hierarchy: <pre><code>{% block page %}\n    {% block header %}...{% endblock %}\n    {% block content %}\n        {% block content_header %}...{% endblock %}\n        {% block content_body %}...{% endblock %}\n        {% block content_footer %}...{% endblock %}\n    {% endblock %}\n    {% block footer %}...{% endblock %}\n{% endblock %}\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#2-use-empty-blocks-for-optional-content","title":"2. Use Empty Blocks for Optional Content","text":"<pre><code>{# Optional blocks that child templates can fill #}\n{% block extra_css %}{% endblock %}\n{% block extra_js %}{% endblock %}\n{% block sidebar %}{% endblock %}\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#3-provide-sensible-defaults","title":"3. Provide Sensible Defaults","text":"<pre><code>{% block title %}{{ site_name }} - Default Title{% endblock %}\n{% block description %}Default site description{% endblock %}\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#4-document-your-blocks","title":"4. Document Your Blocks","text":"<pre><code>{# base.html #}\n\n{# Block: page_title - Sets the browser title (required) #}\n{% block page_title %}Default Title{% endblock %}\n\n{# Block: content - Main page content (required) #}\n{% block content %}{% endblock %}\n\n{# Block: sidebar - Optional sidebar content #}\n{% block sidebar %}{% endblock %}\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#5-multi-level-inheritance","title":"5. Multi-Level Inheritance","text":"<p>You can chain inheritance multiple levels deep:</p> <pre><code>base.html\n  \u2514\u2500\u2500 layout.html (extends base.html)\n       \u2514\u2500\u2500 page.html (extends layout.html)\n</code></pre> <p>Example: <pre><code>{# base.html - Foundation #}\n{% block container %}\n    {% block header %}{% endblock %}\n    {% block content %}{% endblock %}\n{% endblock %}\n\n{# layout.html - Adds structure #}\n{% extends \"base.html\" %}\n{% block header %}\n    &lt;nav&gt;{{ super() }}&lt;/nav&gt;\n{% endblock %}\n\n{# page.html - Specific content #}\n{% extends \"layout.html\" %}\n{% block content %}\n    &lt;h1&gt;My Page&lt;/h1&gt;\n{% endblock %}\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#complete-example","title":"Complete Example","text":"<p>Here's a complete working example from <code>examples/features/inheritance/</code>:</p>"},{"location":"TEMPLATE_INHERITANCE/#base-template","title":"Base Template","text":"<p><code>base.html</code>: <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;{% block title %}Default Title{% endblock %}&lt;/title&gt;\n    {% block extra_head %}{% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;header&gt;\n        &lt;h1&gt;{% block header %}Welcome to Miya Engine{% endblock %}&lt;/h1&gt;\n        &lt;nav&gt;\n            {% block navigation %}\n            &lt;a href=\"/\"&gt;Home&lt;/a&gt; | &lt;a href=\"/about\"&gt;About&lt;/a&gt;\n            {% endblock %}\n        &lt;/nav&gt;\n    &lt;/header&gt;\n\n    &lt;main&gt;\n        {% block content %}\n        &lt;p&gt;This is the default content from the base template.&lt;/p&gt;\n        {% endblock %}\n    &lt;/main&gt;\n\n    &lt;aside&gt;\n        {% block sidebar %}\n        &lt;h3&gt;Sidebar&lt;/h3&gt;\n        &lt;p&gt;Default sidebar content&lt;/p&gt;\n        {% endblock %}\n    &lt;/aside&gt;\n\n    &lt;footer&gt;\n        {% block footer %}\n        &lt;p&gt;&amp;copy; 2024 Miya Engine. All rights reserved.&lt;/p&gt;\n        {% endblock %}\n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#child-template","title":"Child Template","text":"<p><code>child.html</code>: <pre><code>{% extends \"base.html\" %}\n\n{% block title %}{{ page_title }} - Miya Engine{% endblock %}\n\n{% block extra_head %}\n&lt;style&gt;\n    body { font-family: Arial, sans-serif; }\n    .highlight { color: #007bff; }\n&lt;/style&gt;\n{% endblock %}\n\n{% block header %}\n{{ super() }} - Extended Edition\n{% endblock %}\n\n{% block navigation %}\n{{ super() }} | &lt;a href=\"/features\"&gt;Features&lt;/a&gt; | &lt;a href=\"/docs\"&gt;Docs&lt;/a&gt;\n{% endblock %}\n\n{% block content %}\n&lt;h2&gt;{{ page_title }}&lt;/h2&gt;\n&lt;p&gt;{{ description }}&lt;/p&gt;\n\n&lt;h3&gt;Key Features Demonstrated:&lt;/h3&gt;\n&lt;ul&gt;\n    {% for feature in features %}\n    &lt;li class=\"highlight\"&gt;{{ feature }}&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n{% endblock %}\n\n{% block sidebar %}\n&lt;h3&gt;Quick Links&lt;/h3&gt;\n&lt;ul&gt;\n    {% for link in quick_links %}\n    &lt;li&gt;&lt;a href=\"{{ link.url }}\"&gt;{{ link.title }}&lt;/a&gt;&lt;/li&gt;\n    {% endfor %}\n&lt;/ul&gt;\n\n&lt;h3&gt;Original Sidebar&lt;/h3&gt;\n{{ super() }}\n{% endblock %}\n\n{% block footer %}\n&lt;p&gt;Generated at: {{ timestamp }}&lt;/p&gt;\n{{ super() }}\n{% endblock %}\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#go-program","title":"Go Program","text":"<p><code>main.go</code>: <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"time\"\n\n    \"github.com/zipreport/miya\"\n    \"github.com/zipreport/miya/loader\"\n    \"github.com/zipreport/miya/parser\"\n)\n\n// SimpleTemplateParser implements loader.TemplateParser interface\ntype SimpleTemplateParser struct {\n    env *miya.Environment\n}\n\nfunc NewSimpleTemplateParser(env *miya.Environment) *SimpleTemplateParser {\n    return &amp;SimpleTemplateParser{env: env}\n}\n\nfunc (stp *SimpleTemplateParser) ParseTemplate(name, content string) (*parser.TemplateNode, error) {\n    template, err := stp.env.FromString(content)\n    if err != nil {\n        return nil, err\n    }\n\n    if templateNode, ok := template.AST().(*parser.TemplateNode); ok {\n        templateNode.Name = name\n        return templateNode, nil\n    }\n\n    return nil, fmt.Errorf(\"failed to extract template node\")\n}\n\nfunc main() {\n    // Create environment with filesystem loader\n    env := miya.NewEnvironment(miya.WithAutoEscape(false))\n    templateParser := NewSimpleTemplateParser(env)\n    fsLoader := loader.NewFileSystemLoader([]string{\".\"}, templateParser)\n    env.SetLoader(fsLoader)\n\n    // Prepare context data\n    ctx := miya.NewContext()\n    ctx.Set(\"page_title\", \"Template Inheritance Showcase\")\n    ctx.Set(\"description\", \"Demonstrating template inheritance with extends, blocks, and super() calls.\")\n    ctx.Set(\"features\", []string{\n        \"Template Extension ({% extends %})\",\n        \"Block Definition and Override\",\n        \"Super Calls ({{ super() }})\",\n        \"Multi-level Inheritance\",\n    })\n    ctx.Set(\"quick_links\", []map[string]interface{}{\n        {\"title\": \"Documentation\", \"url\": \"/docs\"},\n        {\"title\": \"Examples\", \"url\": \"/examples\"},\n    })\n    ctx.Set(\"timestamp\", time.Now().Format(\"2006-01-02 15:04:05\"))\n\n    // Render child template\n    tmpl, err := env.GetTemplate(\"child.html\")\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    output, err := tmpl.Render(ctx)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    fmt.Println(output)\n}\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#running-the-example","title":"Running the Example","text":"<pre><code>cd examples/features/inheritance\ngo run main.go\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#common-patterns","title":"Common Patterns","text":""},{"location":"TEMPLATE_INHERITANCE/#pattern-1-multi-page-website","title":"Pattern 1: Multi-Page Website","text":"<pre><code>templates/\n  \u251c\u2500\u2500 base.html          # Main layout\n  \u251c\u2500\u2500 pages/\n  \u2502   \u251c\u2500\u2500 home.html      # Extends base\n  \u2502   \u251c\u2500\u2500 about.html     # Extends base\n  \u2502   \u2514\u2500\u2500 contact.html   # Extends base\n  \u2514\u2500\u2500 partials/\n      \u251c\u2500\u2500 header.html\n      \u2514\u2500\u2500 footer.html\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#pattern-2-dashboard-layout","title":"Pattern 2: Dashboard Layout","text":"<pre><code>{# dashboard_base.html #}\n{% extends \"base.html\" %}\n\n{% block content %}\n&lt;div class=\"dashboard\"&gt;\n    &lt;aside class=\"sidebar\"&gt;\n        {% block dashboard_sidebar %}{% endblock %}\n    &lt;/aside&gt;\n    &lt;main class=\"dashboard-content\"&gt;\n        {% block dashboard_content %}{% endblock %}\n    &lt;/main&gt;\n&lt;/div&gt;\n{% endblock %}\n\n{# specific_dashboard.html #}\n{% extends \"dashboard_base.html\" %}\n{% block dashboard_content %}\n    &lt;!-- Specific dashboard content --&gt;\n{% endblock %}\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#pattern-3-email-templates","title":"Pattern 3: Email Templates","text":"<pre><code>{# email_base.html #}\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;style&gt;\n        {% block email_styles %}\n        /* Base email styles */\n        {% endblock %}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"email-header\"&gt;\n        {% block email_header %}Logo{% endblock %}\n    &lt;/div&gt;\n    &lt;div class=\"email-body\"&gt;\n        {% block email_body %}{% endblock %}\n    &lt;/div&gt;\n    &lt;div class=\"email-footer\"&gt;\n        {% block email_footer %}Unsubscribe{% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>"},{"location":"TEMPLATE_INHERITANCE/#troubleshooting","title":"Troubleshooting","text":""},{"location":"TEMPLATE_INHERITANCE/#error-template-not-found","title":"Error: \"Template Not Found\"","text":"<p>Cause: The base template path is incorrect.</p> <p>Solution: <pre><code>// Make sure the loader can find the base template\nfsLoader := loader.NewFileSystemLoader([]string{\".\", \"templates\"}, templateParser)\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#error-block-undefined","title":"Error: \"Block Undefined\"","text":"<p>Cause: Trying to override a block that doesn't exist in the parent.</p> <p>Solution: Check the parent template for the correct block name.</p>"},{"location":"TEMPLATE_INHERITANCE/#empty-output","title":"Empty Output","text":"<p>Cause: Content outside blocks in child templates is ignored.</p> <p>Solution: <pre><code>{#  This is ignored #}\n&lt;p&gt;This content is outside any block&lt;/p&gt;\n\n{% block content %}\n{#  This renders #}\n&lt;p&gt;This content is inside a block&lt;/p&gt;\n{% endblock %}\n</code></pre></p>"},{"location":"TEMPLATE_INHERITANCE/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete runnable example</li> <li>MIYA_LIMITATIONS.md - Known limitations</li> <li>Macros and Includes - Related template organization features</li> </ul>"},{"location":"TEMPLATE_INHERITANCE/#summary","title":"Summary","text":"<p>Template Inheritance is Fully Supported in Miya Engine</p> <p>Key Features: - <code>{% extends %}</code> - Inherit from base templates - <code>{% block %}</code> - Define overridable sections - <code>{{ super() }}</code> - Include parent content - Multi-level inheritance - Chain multiple templates - Nested blocks - Blocks within blocks</p> <p>100% Jinja2 Compatible - All inheritance features work identically to Jinja2.</p>"},{"location":"TESTS_AND_OPERATORS/","title":"Tests and Operators Guide","text":"<p>Tests and operators enable conditional logic and comparisons in templates. Miya Engine provides comprehensive operator support and 26+ test expressions with 100% Jinja2 compatibility.</p> <p>Working Example: See <code>examples/features/tests-operators/</code> for complete examples.</p>"},{"location":"TESTS_AND_OPERATORS/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Operators</li> <li>Arithmetic Operators</li> <li>Comparison Operators</li> <li>Logical Operators</li> <li>Membership Operators</li> <li>Test Expressions</li> <li>Type Tests</li> <li>Container Tests</li> <li>Numeric Tests</li> <li>String Tests</li> <li>Comparison Tests</li> <li>Practical Examples</li> </ol>"},{"location":"TESTS_AND_OPERATORS/#operators","title":"Operators","text":""},{"location":"TESTS_AND_OPERATORS/#arithmetic-operators","title":"Arithmetic Operators","text":"<p>Perform mathematical operations:</p> Operator Description Example Result <code>+</code> Addition <code>{{ 5 + 3 }}</code> <code>8</code> <code>-</code> Subtraction <code>{{ 10 - 4 }}</code> <code>6</code> <code>*</code> Multiplication <code>{{ 6 * 7 }}</code> <code>42</code> <code>/</code> Division <code>{{ 15 / 3 }}</code> <code>5.0</code> <code>//</code> Floor Division <code>{{ 17 // 5 }}</code> <code>3</code> <code>%</code> Modulo <code>{{ 17 % 5 }}</code> <code>2</code> <code>**</code> Power <code>{{ 2 ** 8 }}</code> <code>256</code> <code>~</code> String Concat <code>{{ \"Hello\" ~ \" \" ~ \"World\" }}</code> <code>\"Hello World\"</code> <p>Examples:</p> <pre><code>{# Basic arithmetic #}\n&lt;p&gt;Total: ${{ price * quantity }}&lt;/p&gt;\n&lt;p&gt;Average: {{ total / count }}&lt;/p&gt;\n&lt;p&gt;Remaining: {{ 100 - used }}&lt;/p&gt;\n\n{# Floor division for whole numbers #}\n&lt;p&gt;Pages: {{ total_items // items_per_page }}&lt;/p&gt;\n\n{# Modulo for even/odd #}\n&lt;p class=\"{{ 'even' if item_num % 2 == 0 else 'odd' }}\"&gt;\n\n{# Power for calculations #}\n&lt;p&gt;Area: {{ radius ** 2 * 3.14159 }}&lt;/p&gt;\n\n{# String concatenation #}\n&lt;p&gt;{{ first_name ~ \" \" ~ last_name }}&lt;/p&gt;\n&lt;p&gt;{{ \"Total: $\" ~ price|string }}&lt;/p&gt;\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#comparison-operators","title":"Comparison Operators","text":"<p>Compare values:</p> Operator Description Example Result <code>==</code> Equal to <code>{{ 5 == 5 }}</code> <code>true</code> <code>!=</code> Not equal to <code>{{ 5 != 3 }}</code> <code>true</code> <code>&lt;</code> Less than <code>{{ 3 &lt; 5 }}</code> <code>true</code> <code>&lt;=</code> Less or equal <code>{{ 5 &lt;= 5 }}</code> <code>true</code> <code>&gt;</code> Greater than <code>{{ 7 &gt; 3 }}</code> <code>true</code> <code>&gt;=</code> Greater or equal <code>{{ 5 &gt;= 5 }}</code> <code>true</code> <p>Examples:</p> <pre><code>{# Price comparisons #}\n{% if product.price &lt; 100 %}\n  &lt;span class=\"affordable\"&gt;Affordable&lt;/span&gt;\n{% endif %}\n\n{# Stock checks #}\n{% if product.stock &gt; 0 %}\n  &lt;button&gt;Add to Cart&lt;/button&gt;\n{% else %}\n  &lt;span&gt;Out of Stock&lt;/span&gt;\n{% endif %}\n\n{# Age verification #}\n{% if user.age &gt;= 18 %}\n  &lt;p&gt;Access granted&lt;/p&gt;\n{% endif %}\n\n{# Equality checks #}\n{% if user.role == \"admin\" %}\n  &lt;a href=\"/admin\"&gt;Admin Panel&lt;/a&gt;\n{% endif %}\n\n{# Inequality #}\n{% if current_page != total_pages %}\n  &lt;a href=\"?page={{ current_page + 1 }}\"&gt;Next&lt;/a&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#logical-operators","title":"Logical Operators","text":"<p>Combine boolean expressions:</p> Operator Description Example Result <code>and</code> Logical AND <code>{{ true and true }}</code> <code>true</code> <code>or</code> Logical OR <code>{{ true or false }}</code> <code>true</code> <code>not</code> Logical NOT <code>{{ not false }}</code> <code>true</code> <p>Examples:</p> <pre><code>{# AND - all conditions must be true #}\n{% if user.active and user.verified %}\n  &lt;p&gt;Full access granted&lt;/p&gt;\n{% endif %}\n\n{% if product.price &lt; 100 and product.stock &gt; 0 %}\n  &lt;button&gt;Buy Now&lt;/button&gt;\n{% endif %}\n\n{# OR - any condition can be true #}\n{% if user.role == \"admin\" or user.role == \"moderator\" %}\n  &lt;a href=\"/manage\"&gt;Management&lt;/a&gt;\n{% endif %}\n\n{# NOT - negate condition #}\n{% if not user.blocked %}\n  &lt;p&gt;Welcome!&lt;/p&gt;\n{% endif %}\n\n{# Complex combinations #}\n{% if (user.active and user.verified) or user.role == \"admin\" %}\n  &lt;p&gt;Account is valid&lt;/p&gt;\n{% endif %}\n\n{% if user.age &gt;= 18 and (user.verified or user.trusted) %}\n  &lt;p&gt;Access granted&lt;/p&gt;\n{% endif %}\n</code></pre> <p>Operator Precedence: 1. <code>not</code> 2. <code>and</code> 3. <code>or</code></p> <p>Use parentheses <code>()</code> to control order:</p> <pre><code>{# Different results based on grouping #}\n{{ true or false and false }}    \u2192 true  (and first)\n{{ (true or false) and false }}  \u2192 false (or first)\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#membership-operators","title":"Membership Operators","text":"<p>Test membership in collections:</p> Operator Description Example Result <code>in</code> Is member of <code>{{ 3 in [1, 2, 3] }}</code> <code>true</code> <code>not in</code> Is not member <code>{{ 10 not in [1, 2, 3] }}</code> <code>true</code> <p>Examples:</p> <pre><code>{# List membership #}\n{% if \"admin\" in user.roles %}\n  &lt;p&gt;Admin access&lt;/p&gt;\n{% endif %}\n\n{# String contains #}\n{% if \"error\" in message|lower %}\n  &lt;div class=\"alert-danger\"&gt;{{ message }}&lt;/div&gt;\n{% endif %}\n\n{# Not in #}\n{% if product.id not in purchased_ids %}\n  &lt;button&gt;Add to Cart&lt;/button&gt;\n{% else %}\n  &lt;span&gt;Already Purchased&lt;/span&gt;\n{% endif %}\n\n{# Check tag presence #}\n{% if \"featured\" in product.tags %}\n  &lt;span class=\"badge\"&gt;Featured&lt;/span&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#test-expressions","title":"Test Expressions","text":"<p>Tests use the <code>is</code> syntax to check conditions:</p> <pre><code>{{ value is test_name }}\n{{ value is test_name(argument) }}\n{{ value is not test_name }}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#type-tests","title":"Type Tests","text":"<p>Check variable types:</p> Test Description Example <code>defined</code> Variable exists <code>{{ user is defined }}</code> <code>undefined</code> Variable doesn't exist <code>{{ foo is undefined }}</code> <code>none</code> Value is None/null <code>{{ value is none }}</code> <code>boolean</code> Is boolean <code>{{ true is boolean }}</code> <code>string</code> Is string <code>{{ \"text\" is string }}</code> <code>number</code> Is number <code>{{ 42 is number }}</code> <code>integer</code> Is integer <code>{{ 42 is integer }}</code> <code>float</code> Is float <code>{{ 3.14 is float }}</code> <p>Examples:</p> <pre><code>{# Check if variable exists #}\n{% if user is defined %}\n  &lt;p&gt;Welcome, {{ user.name }}!&lt;/p&gt;\n{% else %}\n  &lt;p&gt;Please log in&lt;/p&gt;\n{% endif %}\n\n{# Check for null/none #}\n{% if error_message is none %}\n  &lt;p&gt;No errors&lt;/p&gt;\n{% else %}\n  &lt;div class=\"alert\"&gt;{{ error_message }}&lt;/div&gt;\n{% endif %}\n\n{# Type checking #}\n{% if value is string %}\n  &lt;p&gt;Text: {{ value }}&lt;/p&gt;\n{% elif value is number %}\n  &lt;p&gt;Number: {{ value }}&lt;/p&gt;\n{% endif %}\n\n{# Integer vs float #}\n{% if price is integer %}\n  ${{ price }}\n{% else %}\n  ${{ price|round(2) }}\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#container-tests","title":"Container Tests","text":"<p>Check container types:</p> Test Description Example <code>sequence</code> Is list/tuple <code>{{ [1,2,3] is sequence }}</code> <code>mapping</code> Is dictionary <code>{{ {} is mapping }}</code> <code>iterable</code> Can be iterated <code>{{ \"text\" is iterable }}</code> <p>Examples:</p> <pre><code>{# Check if iterable #}\n{% if items is iterable %}\n  &lt;ul&gt;\n  {% for item in items %}\n    &lt;li&gt;{{ item }}&lt;/li&gt;\n  {% endfor %}\n  &lt;/ul&gt;\n{% endif %}\n\n{# Dictionary check #}\n{% if config is mapping %}\n  {% for key, value in config.items() %}\n    &lt;p&gt;{{ key }}: {{ value }}&lt;/p&gt;\n  {% endfor %}\n{% endif %}\n\n{# Sequence check #}\n{% if data is sequence %}\n  &lt;p&gt;List with {{ data|length }} items&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#numeric-tests","title":"Numeric Tests","text":"<p>Tests for numbers:</p> Test Description Example <code>even</code> Is even number <code>{{ 4 is even }}</code> \u2192 <code>true</code> <code>odd</code> Is odd number <code>{{ 5 is odd }}</code> \u2192 <code>true</code> <code>divisibleby(n)</code> Divisible by n <code>{{ 15 is divisibleby(3) }}</code> \u2192 <code>true</code> <p>Examples:</p> <pre><code>{# Alternating row colors #}\n{% for item in items %}\n  &lt;tr class=\"{{ 'even-row' if loop.index is even else 'odd-row' }}\"&gt;\n    &lt;td&gt;{{ item }}&lt;/td&gt;\n  &lt;/tr&gt;\n{% endfor %}\n\n{# Check divisibility #}\n{% if total is divisibleby(10) %}\n  &lt;p&gt;Exact multiple of 10&lt;/p&gt;\n{% endif %}\n\n{# Odd/even logic #}\n{% if page_num is odd %}\n  &lt;div class=\"right-page\"&gt;{{ content }}&lt;/div&gt;\n{% else %}\n  &lt;div class=\"left-page\"&gt;{{ content }}&lt;/div&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#string-tests","title":"String Tests","text":"<p>Tests for strings:</p> Test Description Example <code>lower</code> All lowercase <code>{{ \"hello\" is lower }}</code> \u2192 <code>true</code> <code>upper</code> All uppercase <code>{{ \"HELLO\" is upper }}</code> \u2192 <code>true</code> <code>startswith(s)</code> Starts with string <code>{{ \"Hello\" is startswith(\"He\") }}</code> \u2192 <code>true</code> <code>endswith(s)</code> Ends with string <code>{{ \"World\" is endswith(\"ld\") }}</code> \u2192 <code>true</code> <p>Examples:</p> <pre><code>{# File type checking #}\n{% if filename is endswith(\".pdf\") %}\n  &lt;span class=\"icon-pdf\"&gt;{{ filename }}&lt;/span&gt;\n{% elif filename is endswith(\".jpg\") or filename is endswith(\".png\") %}\n  &lt;img src=\"{{ filename }}\" alt=\"Image\"&gt;\n{% endif %}\n\n{# URL protocol check #}\n{% if url is startswith(\"https://\") %}\n  &lt;span class=\"secure-badge\"&gt;Secure&lt;/span&gt;\n{% endif %}\n\n{# Case validation #}\n{% if code is upper %}\n  &lt;p&gt;Valid product code: {{ code }}&lt;/p&gt;\n{% else %}\n  &lt;p class=\"error\"&gt;Code must be uppercase&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#comparison-tests","title":"Comparison Tests","text":"<p>Alternative comparison syntax:</p> Test Description Example <code>equalto(value)</code> Equal to value <code>{{ 5 is equalto(5) }}</code> \u2192 <code>true</code> <code>sameas(value)</code> Identity check <code>{{ true is sameas(true) }}</code> \u2192 <code>true</code> <p>Examples:</p> <pre><code>{# Equality test #}\n{% if status is equalto(\"active\") %}\n  &lt;span class=\"badge-success\"&gt;Active&lt;/span&gt;\n{% endif %}\n\n{# Same as - stricter than == #}\n{% if value is sameas(true) %}\n  &lt;p&gt;Explicitly true&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#negated-tests","title":"Negated Tests","text":"<p>Use <code>is not</code> to negate any test:</p> <pre><code>{# Not defined #}\n{% if error is not defined %}\n  &lt;p&gt;No errors&lt;/p&gt;\n{% endif %}\n\n{# Not none #}\n{% if user.email is not none %}\n  &lt;p&gt;Email: {{ user.email }}&lt;/p&gt;\n{% endif %}\n\n{# Not even (i.e., odd) #}\n{% if number is not even %}\n  &lt;p&gt;{{ number }} is odd&lt;/p&gt;\n{% endif %}\n\n{# Not empty #}\n{% if items is not empty %}\n  &lt;p&gt;Found {{ items|length }} items&lt;/p&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#practical-examples","title":"Practical Examples","text":""},{"location":"TESTS_AND_OPERATORS/#example-1-user-access-control","title":"Example 1: User Access Control","text":"<pre><code>{% if user is defined and user.active %}\n  {% if user.role == \"admin\" %}\n    &lt;div class=\"admin-panel\"&gt;\n      &lt;h2&gt;Admin Dashboard&lt;/h2&gt;\n      &lt;p&gt;Full system access&lt;/p&gt;\n    &lt;/div&gt;\n  {% elif user.role == \"moderator\" %}\n    &lt;div class=\"mod-panel\"&gt;\n      &lt;h2&gt;Moderator Tools&lt;/h2&gt;\n      &lt;p&gt;Content management access&lt;/p&gt;\n    &lt;/div&gt;\n  {% elif user.verified and user.age &gt;= 18 %}\n    &lt;div class=\"user-panel\"&gt;\n      &lt;h2&gt;User Dashboard&lt;/h2&gt;\n      &lt;p&gt;Standard access&lt;/p&gt;\n    &lt;/div&gt;\n  {% else %}\n    &lt;div class=\"restricted\"&gt;\n      &lt;p&gt;Limited access - please verify your account&lt;/p&gt;\n    &lt;/div&gt;\n  {% endif %}\n{% else %}\n  &lt;div class=\"login-prompt\"&gt;\n    &lt;p&gt;Please log in to continue&lt;/p&gt;\n  &lt;/div&gt;\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#example-2-product-display","title":"Example 2: Product Display","text":"<pre><code>{% for product in products %}\n  &lt;div class=\"product-card\"&gt;\n    &lt;h3&gt;{{ product.name }}&lt;/h3&gt;\n    &lt;p&gt;${{ product.price }}&lt;/p&gt;\n\n    {# Stock status #}\n    {% if product.stock &gt; 0 %}\n      {% if product.stock &lt; 10 %}\n        &lt;p class=\"warning\"&gt;Only {{ product.stock }} left!&lt;/p&gt;\n      {% else %}\n        &lt;p class=\"success\"&gt;In Stock&lt;/p&gt;\n      {% endif %}\n      &lt;button&gt;Add to Cart&lt;/button&gt;\n    {% else %}\n      &lt;p class=\"error\"&gt;Out of Stock&lt;/p&gt;\n      &lt;button disabled&gt;Notify Me&lt;/button&gt;\n    {% endif %}\n\n    {# Discount badge #}\n    {% if product.discount is defined and product.discount &gt; 0 %}\n      &lt;span class=\"badge\"&gt;{{ product.discount }}% OFF&lt;/span&gt;\n    {% endif %}\n\n    {# Featured #}\n    {% if \"featured\" in product.tags %}\n      &lt;span class=\"star\"&gt; Featured&lt;/span&gt;\n    {% endif %}\n  &lt;/div&gt;\n{% endfor %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#example-3-form-validation-display","title":"Example 3: Form Validation Display","text":"<pre><code>&lt;form&gt;\n  {# Username field #}\n  &lt;div class=\"form-group\"&gt;\n    &lt;label&gt;Username&lt;/label&gt;\n    &lt;input type=\"text\" name=\"username\" value=\"{{ username|default('') }}\"&gt;\n    {% if errors.username is defined %}\n      &lt;span class=\"error\"&gt;{{ errors.username }}&lt;/span&gt;\n    {% endif %}\n  &lt;/div&gt;\n\n  {# Email field #}\n  &lt;div class=\"form-group\"&gt;\n    &lt;label&gt;Email&lt;/label&gt;\n    &lt;input type=\"email\" name=\"email\" value=\"{{ email|default('') }}\"&gt;\n    {% if errors.email is defined %}\n      &lt;span class=\"error\"&gt;{{ errors.email }}&lt;/span&gt;\n    {% elif email is defined and \"@\" not in email %}\n      &lt;span class=\"warning\"&gt;Email looks invalid&lt;/span&gt;\n    {% endif %}\n  &lt;/div&gt;\n\n  {# Age field #}\n  &lt;div class=\"form-group\"&gt;\n    &lt;label&gt;Age&lt;/label&gt;\n    &lt;input type=\"number\" name=\"age\" value=\"{{ age|default('') }}\"&gt;\n    {% if age is defined %}\n      {% if age is not number %}\n        &lt;span class=\"error\"&gt;Must be a number&lt;/span&gt;\n      {% elif age &lt; 18 %}\n        &lt;span class=\"error\"&gt;Must be 18 or older&lt;/span&gt;\n      {% endif %}\n    {% endif %}\n  &lt;/div&gt;\n\n  &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#example-4-data-table-with-highlighting","title":"Example 4: Data Table with Highlighting","text":"<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;ID&lt;/th&gt;\n      &lt;th&gt;Name&lt;/th&gt;\n      &lt;th&gt;Amount&lt;/th&gt;\n      &lt;th&gt;Status&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n  {% for row in data %}\n    &lt;tr class=\"{{ 'highlight' if row.amount &gt; 1000 else '' }}\n               {{ 'even' if loop.index is even else 'odd' }}\"&gt;\n      &lt;td&gt;{{ row.id }}&lt;/td&gt;\n      &lt;td&gt;{{ row.name }}&lt;/td&gt;\n      &lt;td&gt;\n        {% if row.amount is divisibleby(100) %}\n          &lt;strong&gt;${{ row.amount }}&lt;/strong&gt;\n        {% else %}\n          ${{ row.amount }}\n        {% endif %}\n      &lt;/td&gt;\n      &lt;td&gt;\n        {% if row.status is equalto(\"completed\") %}\n          &lt;span class=\"badge-success\"&gt; Completed&lt;/span&gt;\n        {% elif row.status is equalto(\"pending\") %}\n          &lt;span class=\"badge-warning\"&gt; Pending&lt;/span&gt;\n        {% else %}\n          &lt;span class=\"badge-danger\"&gt; Failed&lt;/span&gt;\n        {% endif %}\n      &lt;/td&gt;\n    &lt;/tr&gt;\n  {% endfor %}\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#example-5-complex-conditional-logic","title":"Example 5: Complex Conditional Logic","text":"<pre><code>{% for order in orders %}\n  &lt;div class=\"order\"&gt;\n    &lt;h3&gt;Order #{{ order.id }}&lt;/h3&gt;\n\n    {# Multi-condition status #}\n    {% if order.paid and order.shipped and order.delivered %}\n      &lt;span class=\"badge-success\"&gt; Complete&lt;/span&gt;\n    {% elif order.paid and order.shipped %}\n      &lt;span class=\"badge-info\"&gt; In Transit&lt;/span&gt;\n    {% elif order.paid %}\n      &lt;span class=\"badge-warning\"&gt; Processing&lt;/span&gt;\n    {% else %}\n      &lt;span class=\"badge-danger\"&gt; Payment Required&lt;/span&gt;\n    {% endif %}\n\n    {# Priority indicator #}\n    {% if order.priority is defined and order.priority is upper %}\n      &lt;span class=\"priority-badge\"&gt;{{ order.priority }}&lt;/span&gt;\n    {% endif %}\n\n    {# Total calculation #}\n    {% if order.total is number and order.total &gt; 0 %}\n      &lt;p&gt;Total: ${{ order.total|round(2) }}&lt;/p&gt;\n\n      {% if order.total &gt;= 100 %}\n        &lt;p class=\"success\"&gt; Free shipping applied&lt;/p&gt;\n      {% elif order.total &gt; 50 %}\n        &lt;p class=\"info\"&gt;Add ${{ (100 - order.total)|round(2) }} for free shipping&lt;/p&gt;\n      {% endif %}\n    {% endif %}\n  &lt;/div&gt;\n{% endfor %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#complete-reference","title":"Complete Reference","text":""},{"location":"TESTS_AND_OPERATORS/#operators-summary","title":"Operators Summary","text":"Category Operators Example Arithmetic <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>//</code>, <code>%</code>, <code>**</code>, <code>~</code> <code>{{ 5 + 3 }}</code> Comparison <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> <code>{{ age &gt;= 18 }}</code> Logical <code>and</code>, <code>or</code>, <code>not</code> <code>{{ a and b }}</code> Membership <code>in</code>, <code>not in</code> <code>{{ x in list }}</code>"},{"location":"TESTS_AND_OPERATORS/#tests-summary","title":"Tests Summary","text":"Category Tests Count Type defined, undefined, none, boolean, string, number, integer, float 8 Container sequence, mapping, iterable, callable 4 Numeric even, odd, divisibleby 3 String lower, upper, startswith, endswith, match, alpha, alnum 7 Comparison equalto, sameas, in, contains 4 TOTAL 26+ Tests"},{"location":"TESTS_AND_OPERATORS/#best-practices","title":"Best Practices","text":""},{"location":"TESTS_AND_OPERATORS/#1-use-tests-for-type-checking","title":"1. Use Tests for Type Checking","text":"<pre><code>{#  Good - explicit type test #}\n{% if value is defined and value is not none %}\n  {{ value }}\n{% endif %}\n\n{#  Avoid - implicit truthiness can be unclear #}\n{% if value %}\n  {{ value }}\n{% endif %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#2-combine-operators-clearly","title":"2. Combine Operators Clearly","text":"<pre><code>{#  Good - clear with parentheses #}\n{% if (user.active and user.verified) or user.role == \"admin\" %}\n\n{#  Avoid - precedence unclear #}\n{% if user.active and user.verified or user.role == \"admin\" %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#3-use-appropriate-tests","title":"3. Use Appropriate Tests","text":"<pre><code>{#  Good - use even test #}\n{% if number is even %}\n\n{#  Avoid - manual modulo #}\n{% if number % 2 == 0 %}\n</code></pre>"},{"location":"TESTS_AND_OPERATORS/#see-also","title":"See Also","text":"<ul> <li>Working Example - Complete tests and operators demo</li> <li>Control Structures - Using tests in conditionals</li> <li>Filters Guide - Data transformation</li> <li>Miya Limitations - Known limitations</li> </ul>"},{"location":"TESTS_AND_OPERATORS/#summary","title":"Summary","text":"<p>Complete operator and test support - 100% Jinja2 Compatible</p> <p>All Operators: - Arithmetic: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>//</code>, <code>%</code>, <code>**</code>, <code>~</code> - Comparison: <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code> - Logical: <code>and</code>, <code>or</code>, <code>not</code> - Membership: <code>in</code>, <code>not in</code></p> <p>26+ Tests: - Type tests (defined, none, string, number, etc.) - Container tests (sequence, mapping, iterable) - Numeric tests (even, odd, divisibleby) - String tests (lower, upper, startswith, endswith) - Comparison tests (equalto, sameas) - All tests support negation with <code>is not</code></p> <p>All operators and tests work identically to Jinja2, providing powerful conditional logic for templates.</p>"},{"location":"comprehensions_examples/","title":"List/Dict Comprehensions - Practical Examples","text":"<p>This document provides practical, ready-to-use examples of list and dictionary comprehensions in various real-world scenarios.</p>"},{"location":"comprehensions_examples/#e-commerce-examples","title":"E-commerce Examples","text":""},{"location":"comprehensions_examples/#product-filtering-and-display","title":"Product Filtering and Display","text":"<pre><code>&lt;!-- Filter and display available products --&gt;\n&lt;div class=\"product-grid\"&gt;\n  {% for product in products %}\n    {% if product.in_stock %}\n      &lt;div class=\"product-card\"&gt;\n        &lt;h3&gt;{{ product.name }}&lt;/h3&gt;\n        &lt;p class=\"price\"&gt;${{ product.price }}&lt;/p&gt;\n\n        &lt;!-- Available sizes using list comprehension --&gt;\n        &lt;div class=\"sizes\"&gt;\n          {% for size in [variant.size for variant in product.variants if variant.stock &gt; 0] %}\n            &lt;span class=\"size\"&gt;{{ size }}&lt;/span&gt;\n          {% endfor %}\n        &lt;/div&gt;\n\n        &lt;!-- Color options using dict comprehension --&gt;\n        {% set color_stock = {variant.color: variant.stock for variant in product.variants if variant.stock &gt; 0} %}\n        &lt;div class=\"colors\"&gt;\n          {% for color, stock in color_stock.items() %}\n            &lt;span class=\"color\" data-stock=\"{{ stock }}\"&gt;{{ color }}&lt;/span&gt;\n          {% endfor %}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    {% endif %}\n  {% endfor %}\n&lt;/div&gt;\n</code></pre>"},{"location":"comprehensions_examples/#shopping-cart-summary","title":"Shopping Cart Summary","text":"<pre><code>&lt;!-- Cart totals using comprehensions --&gt;\n{% set cart_items = [{\"name\": item.product.name, \"price\": item.price, \"qty\": item.quantity, \"total\": item.price * item.quantity} for item in cart.items] %}\n{% set subtotal = [item.total for item in cart_items]|sum %}\n{% set tax = subtotal * 0.08 %}\n\n&lt;div class=\"cart-summary\"&gt;\n  &lt;h3&gt;Order Summary&lt;/h3&gt;\n\n  {% for item in cart_items %}\n    &lt;div class=\"cart-item\"&gt;\n      &lt;span&gt;{{ item.name }} ({{ item.qty }}x)&lt;/span&gt;\n      &lt;span&gt;${{ item.total }}&lt;/span&gt;\n    &lt;/div&gt;\n  {% endfor %}\n\n  &lt;div class=\"totals\"&gt;\n    &lt;div&gt;Subtotal: ${{ subtotal }}&lt;/div&gt;\n    &lt;div&gt;Tax: ${{ tax|round(2) }}&lt;/div&gt;\n    &lt;div class=\"total\"&gt;Total: ${{ (subtotal + tax)|round(2) }}&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"comprehensions_examples/#data-dashboard-examples","title":"Data Dashboard Examples","text":""},{"location":"comprehensions_examples/#analytics-dashboard","title":"Analytics Dashboard","text":"<pre><code>&lt;!-- User engagement metrics --&gt;\n{% set active_users = [user for user in users if user.last_login &gt; thirty_days_ago] %}\n{% set user_stats = {\n  \"total\": users|length,\n  \"active\": active_users|length,\n  \"inactive\": users|length - active_users|length,\n  \"premium\": [user for user in active_users if user.subscription_type == \"premium\"]|length\n} %}\n\n&lt;div class=\"dashboard\"&gt;\n  &lt;div class=\"metrics-grid\"&gt;\n    {% for metric, value in user_stats.items() %}\n      &lt;div class=\"metric-card\"&gt;\n        &lt;h3&gt;{{ metric|title }}&lt;/h3&gt;\n        &lt;div class=\"value\"&gt;{{ value }}&lt;/div&gt;\n      &lt;/div&gt;\n    {% endfor %}\n  &lt;/div&gt;\n\n  &lt;!-- Recent activity using comprehensions --&gt;\n  {% set recent_actions = [{\"user\": action.user.name, \"action\": action.type, \"time\": action.created_at} for action in actions if action.created_at &gt; last_24_hours][:10] %}\n\n  &lt;div class=\"recent-activity\"&gt;\n    &lt;h3&gt;Recent Activity&lt;/h3&gt;\n    {% for action in recent_actions %}\n      &lt;div class=\"activity-item\"&gt;\n        &lt;strong&gt;{{ action.user }}&lt;/strong&gt; {{ action.action }} \n        &lt;span class=\"time\"&gt;{{ action.time|timeago }}&lt;/span&gt;\n      &lt;/div&gt;\n    {% endfor %}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"comprehensions_examples/#sales-report","title":"Sales Report","text":"<pre><code>&lt;!-- Monthly sales breakdown --&gt;\n{% set sales_by_month = {} %}\n{% for sale in sales %}\n  {% set month = sale.date.strftime(\"%Y-%m\") %}\n  {% if month not in sales_by_month %}\n    {% set _ = sales_by_month.update({month: []}) %}\n  {% endif %}\n  {% set _ = sales_by_month[month].append(sale.amount) %}\n{% endfor %}\n\n&lt;!-- Convert to monthly totals using comprehensions --&gt;\n{% set monthly_totals = {month: amounts|sum for month, amounts in sales_by_month.items()} %}\n{% set best_month = monthly_totals.items()|max(attribute=1) %}\n\n&lt;div class=\"sales-report\"&gt;\n  &lt;h2&gt;Sales Performance&lt;/h2&gt;\n\n  &lt;div class=\"highlight\"&gt;\n    &lt;strong&gt;Best Month:&lt;/strong&gt; {{ best_month[0] }} ({{ best_month[1] }})\n  &lt;/div&gt;\n\n  &lt;div class=\"monthly-breakdown\"&gt;\n    {% for month, total in monthly_totals.items()|sort %}\n      &lt;div class=\"month-bar\"&gt;\n        &lt;span class=\"month\"&gt;{{ month }}&lt;/span&gt;\n        &lt;div class=\"bar\" style=\"width: {{ (total / monthly_totals.values()|max * 100)|round }}%\"&gt;&lt;/div&gt;\n        &lt;span class=\"amount\"&gt;${{ total }}&lt;/span&gt;\n      &lt;/div&gt;\n    {% endfor %}\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"comprehensions_examples/#content-management-examples","title":"Content Management Examples","text":""},{"location":"comprehensions_examples/#blog-post-listing","title":"Blog Post Listing","text":"<pre><code>&lt;!-- Blog posts with category filtering --&gt;\n{% set published_posts = [post for post in posts if post.status == \"published\" and post.published_date &lt;= now] %}\n{% set posts_by_category = {} %}\n\n{% for post in published_posts %}\n  {% for category in post.categories %}\n    {% if category.name not in posts_by_category %}\n      {% set _ = posts_by_category.update({category.name: []}) %}\n    {% endif %}\n    {% set _ = posts_by_category[category.name].append(post) %}\n  {% endfor %}\n{% endfor %}\n\n&lt;!-- Category navigation --&gt;\n&lt;nav class=\"categories\"&gt;\n  {% for category, category_posts in posts_by_category.items() %}\n    &lt;a href=\"#{{ category|slugify }}\" class=\"category-link\"&gt;\n      {{ category }} ({{ category_posts|length }})\n    &lt;/a&gt;\n  {% endfor %}\n&lt;/nav&gt;\n\n&lt;!-- Posts by category --&gt;\n{% for category, category_posts in posts_by_category.items() %}\n  &lt;section id=\"{{ category|slugify }}\" class=\"category-section\"&gt;\n    &lt;h2&gt;{{ category }}&lt;/h2&gt;\n\n    &lt;div class=\"posts-grid\"&gt;\n      {% for post in category_posts[:6] %}  &lt;!-- Show max 6 posts per category --&gt;\n        &lt;article class=\"post-card\"&gt;\n          &lt;h3&gt;&lt;a href=\"{{ post.url }}\"&gt;{{ post.title }}&lt;/a&gt;&lt;/h3&gt;\n          &lt;p&gt;{{ post.excerpt }}&lt;/p&gt;\n          &lt;div class=\"meta\"&gt;\n            &lt;span&gt;{{ post.author.name }}&lt;/span&gt;\n            &lt;time&gt;{{ post.published_date|dateformat }}&lt;/time&gt;\n            &lt;!-- Related tags using comprehension --&gt;\n            &lt;div class=\"tags\"&gt;\n              {% for tag in [t.name for t in post.tags if t.featured] %}\n                &lt;span class=\"tag\"&gt;{{ tag }}&lt;/span&gt;\n              {% endfor %}\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/article&gt;\n      {% endfor %}\n    &lt;/div&gt;\n  &lt;/section&gt;\n{% endfor %}\n</code></pre>"},{"location":"comprehensions_examples/#tag-cloud-with-weights","title":"Tag Cloud with Weights","text":"<pre><code>&lt;!-- Dynamic tag cloud --&gt;\n{% set all_tags = [] %}\n{% for post in posts %}\n  {% set _ = all_tags.extend([tag.name for tag in post.tags]) %}\n{% endfor %}\n\n&lt;!-- Count tag occurrences --&gt;\n{% set tag_counts = {} %}\n{% for tag in all_tags %}\n  {% set _ = tag_counts.update({tag: tag_counts.get(tag, 0) + 1}) %}\n{% endfor %}\n\n&lt;!-- Filter and weight tags --&gt;\n{% set popular_tags = {tag: count for tag, count in tag_counts.items() if count &gt;= 3} %}\n{% set max_count = popular_tags.values()|max %}\n\n&lt;div class=\"tag-cloud\"&gt;\n  {% for tag, count in popular_tags.items()|sort(attribute=1, reverse=true) %}\n    {% set weight = (count / max_count * 4 + 1)|round %}  &lt;!-- 1-5 scale --&gt;\n    &lt;a href=\"/tags/{{ tag|slugify }}\" \n       class=\"tag weight-{{ weight }}\" \n       title=\"{{ count }} posts\"&gt;\n      {{ tag }}\n    &lt;/a&gt;\n  {% endfor %}\n&lt;/div&gt;\n\n&lt;style&gt;\n.tag-cloud .weight-1 { font-size: 0.8em; opacity: 0.6; }\n.tag-cloud .weight-2 { font-size: 0.9em; opacity: 0.7; }\n.tag-cloud .weight-3 { font-size: 1.0em; opacity: 0.8; }\n.tag-cloud .weight-4 { font-size: 1.2em; opacity: 0.9; }\n.tag-cloud .weight-5 { font-size: 1.4em; opacity: 1.0; font-weight: bold; }\n&lt;/style&gt;\n</code></pre>"},{"location":"comprehensions_examples/#form-processing-examples","title":"Form Processing Examples","text":""},{"location":"comprehensions_examples/#dynamic-form-generation","title":"Dynamic Form Generation","text":"<pre><code>&lt;!-- Generate form fields with validation --&gt;\n{% set required_fields = [field.name for field in form_schema.fields if field.required] %}\n{% set field_types = {field.name: field.type for field in form_schema.fields} %}\n{% set field_options = {field.name: field.options for field in form_schema.fields if field.options} %}\n\n&lt;form id=\"dynamic-form\" method=\"post\"&gt;\n  {% for field in form_schema.fields %}\n    &lt;div class=\"form-group {% if field.name in required_fields %}required{% endif %}\"&gt;\n      &lt;label for=\"{{ field.name }}\"&gt;\n        {{ field.label }}\n        {% if field.name in required_fields %}&lt;span class=\"required\"&gt;*&lt;/span&gt;{% endif %}\n      &lt;/label&gt;\n\n      {% if field_types[field.name] == \"select\" %}\n        &lt;select name=\"{{ field.name }}\" id=\"{{ field.name }}\"&gt;\n          {% if field.name not in required_fields %}\n            &lt;option value=\"\"&gt;-- Select {{ field.label }} --&lt;/option&gt;\n          {% endif %}\n          {% for option in field_options.get(field.name, []) %}\n            &lt;option value=\"{{ option.value }}\"&gt;{{ option.label }}&lt;/option&gt;\n          {% endfor %}\n        &lt;/select&gt;\n\n      {% elif field_types[field.name] == \"checkbox_group\" %}\n        {% for option in field_options.get(field.name, []) %}\n          &lt;div class=\"checkbox-item\"&gt;\n            &lt;input type=\"checkbox\" \n                   name=\"{{ field.name }}\" \n                   value=\"{{ option.value }}\" \n                   id=\"{{ field.name }}_{{ option.value }}\"&gt;\n            &lt;label for=\"{{ field.name }}_{{ option.value }}\"&gt;{{ option.label }}&lt;/label&gt;\n          &lt;/div&gt;\n        {% endfor %}\n\n      {% else %}\n        &lt;input type=\"{{ field_types[field.name] }}\" \n               name=\"{{ field.name }}\" \n               id=\"{{ field.name }}\"\n               {% if field.name in required_fields %}required{% endif %}\n               {% if field.placeholder %}placeholder=\"{{ field.placeholder }}\"{% endif %}&gt;\n      {% endif %}\n\n      {% if field.help_text %}\n        &lt;div class=\"help-text\"&gt;{{ field.help_text }}&lt;/div&gt;\n      {% endif %}\n    &lt;/div&gt;\n  {% endfor %}\n\n  &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>"},{"location":"comprehensions_examples/#form-validation-display","title":"Form Validation Display","text":"<pre><code>&lt;!-- Display form errors with styling --&gt;\n{% set field_errors = {error.field: error.messages for error in form.errors} %}\n{% set global_errors = [error.message for error in form.errors if error.field == \"__all__\"] %}\n\n{% if global_errors %}\n  &lt;div class=\"alert alert-error\"&gt;\n    {% for error in global_errors %}\n      &lt;p&gt;{{ error }}&lt;/p&gt;\n    {% endfor %}\n  &lt;/div&gt;\n{% endif %}\n\n&lt;form&gt;\n  {% for field in form.fields %}\n    {% set has_error = field.name in field_errors %}\n\n    &lt;div class=\"form-group{% if has_error %} has-error{% endif %}\"&gt;\n      &lt;label for=\"{{ field.name }}\"&gt;{{ field.label }}&lt;/label&gt;\n\n      {{ field.render() }}\n\n      {% if has_error %}\n        &lt;div class=\"error-messages\"&gt;\n          {% for error in field_errors[field.name] %}\n            &lt;span class=\"error-message\"&gt;{{ error }}&lt;/span&gt;\n          {% endfor %}\n        &lt;/div&gt;\n      {% endif %}\n    &lt;/div&gt;\n  {% endfor %}\n&lt;/form&gt;\n</code></pre>"},{"location":"comprehensions_examples/#api-response-processing","title":"API Response Processing","text":""},{"location":"comprehensions_examples/#restful-data-display","title":"RESTful Data Display","text":"<pre><code>&lt;!-- Process API response with nested data --&gt;\n{% set user_permissions = {user.id: [perm.name for perm in user.permissions] for user in api_response.users} %}\n{% set active_users = [user for user in api_response.users if user.status == \"active\"] %}\n{% set users_by_role = {} %}\n\n{% for user in active_users %}\n  {% if user.role not in users_by_role %}\n    {% set _ = users_by_role.update({user.role: []}) %}\n  {% endif %}\n  {% set _ = users_by_role[user.role].append(user) %}\n{% endfor %}\n\n&lt;div class=\"user-management\"&gt;\n  &lt;div class=\"stats\"&gt;\n    &lt;div class=\"stat\"&gt;\n      &lt;span class=\"label\"&gt;Total Users&lt;/span&gt;\n      &lt;span class=\"value\"&gt;{{ api_response.users|length }}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"stat\"&gt;\n      &lt;span class=\"label\"&gt;Active Users&lt;/span&gt;\n      &lt;span class=\"value\"&gt;{{ active_users|length }}&lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div class=\"stat\"&gt;\n      &lt;span class=\"label\"&gt;Roles&lt;/span&gt;\n      &lt;span class=\"value\"&gt;{{ users_by_role.keys()|length }}&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  {% for role, users in users_by_role.items() %}\n    &lt;div class=\"role-section\"&gt;\n      &lt;h3&gt;{{ role|title }} ({{ users|length }})&lt;/h3&gt;\n\n      &lt;div class=\"users-list\"&gt;\n        {% for user in users %}\n          &lt;div class=\"user-card\"&gt;\n            &lt;div class=\"user-info\"&gt;\n              &lt;strong&gt;{{ user.name }}&lt;/strong&gt;\n              &lt;span class=\"email\"&gt;{{ user.email }}&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"permissions\"&gt;\n              {% for permission in user_permissions[user.id][:3] %}  &lt;!-- Show first 3 permissions --&gt;\n                &lt;span class=\"permission-tag\"&gt;{{ permission }}&lt;/span&gt;\n              {% endfor %}\n              {% if user_permissions[user.id]|length &gt; 3 %}\n                &lt;span class=\"more\"&gt;+{{ user_permissions[user.id]|length - 3 }} more&lt;/span&gt;\n              {% endif %}\n            &lt;/div&gt;\n          &lt;/div&gt;\n        {% endfor %}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  {% endfor %}\n&lt;/div&gt;\n</code></pre>"},{"location":"comprehensions_examples/#advanced-use-cases","title":"Advanced Use Cases","text":""},{"location":"comprehensions_examples/#matrix-operations","title":"Matrix Operations","text":"<pre><code>&lt;!-- Create a multiplication table --&gt;\n{% set size = 10 %}\n{% set multiplication_table = [[x * y for x in range(1, size + 1)] for y in range(1, size + 1)] %}\n\n&lt;table class=\"multiplication-table\"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;&lt;/th&gt;\n      {% for x in range(1, size + 1) %}\n        &lt;th&gt;{{ x }}&lt;/th&gt;\n      {% endfor %}\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    {% for y in range(1, size + 1) %}\n      &lt;tr&gt;\n        &lt;th&gt;{{ y }}&lt;/th&gt;\n        {% for result in multiplication_table[y - 1] %}\n          &lt;td&gt;{{ result }}&lt;/td&gt;\n        {% endfor %}\n      &lt;/tr&gt;\n    {% endfor %}\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>"},{"location":"comprehensions_examples/#data-transformation-pipeline","title":"Data Transformation Pipeline","text":"<pre><code>&lt;!-- Multi-step data processing --&gt;\n{% set raw_data = api_response.transactions %}\n\n&lt;!-- Step 1: Filter valid transactions --&gt;\n{% set valid_transactions = [t for t in raw_data if t.status == \"completed\" and t.amount &gt; 0] %}\n\n&lt;!-- Step 2: Group by date --&gt;\n{% set transactions_by_date = {} %}\n{% for transaction in valid_transactions %}\n  {% set date_key = transaction.date.strftime(\"%Y-%m-%d\") %}\n  {% if date_key not in transactions_by_date %}\n    {% set _ = transactions_by_date.update({date_key: []}) %}\n  {% endif %}\n  {% set _ = transactions_by_date[date_key].append(transaction) %}\n{% endfor %}\n\n&lt;!-- Step 3: Calculate daily summaries --&gt;\n{% set daily_summaries = {\n  date: {\n    \"total\": [t.amount for t in transactions]|sum,\n    \"count\": transactions|length,\n    \"average\": ([t.amount for t in transactions]|sum / transactions|length)|round(2),\n    \"categories\": {cat: [t.amount for t in transactions if t.category == cat]|sum for cat in [t.category for t in transactions]|unique}\n  }\n  for date, transactions in transactions_by_date.items()\n} %}\n\n&lt;!-- Step 4: Display processed data --&gt;\n&lt;div class=\"transaction-summary\"&gt;\n  {% for date, summary in daily_summaries.items()|sort(reverse=true) %}\n    &lt;div class=\"daily-summary\"&gt;\n      &lt;h3&gt;{{ date|dateformat }}&lt;/h3&gt;\n\n      &lt;div class=\"summary-stats\"&gt;\n        &lt;div class=\"stat\"&gt;\n          &lt;span class=\"label\"&gt;Total&lt;/span&gt;\n          &lt;span class=\"value\"&gt;${{ summary.total }}&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=\"stat\"&gt;\n          &lt;span class=\"label\"&gt;Transactions&lt;/span&gt;\n          &lt;span class=\"value\"&gt;{{ summary.count }}&lt;/span&gt;\n        &lt;/div&gt;\n        &lt;div class=\"stat\"&gt;\n          &lt;span class=\"label\"&gt;Average&lt;/span&gt;\n          &lt;span class=\"value\"&gt;${{ summary.average }}&lt;/span&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"categories\"&gt;\n        {% for category, amount in summary.categories.items()|sort(attribute=1, reverse=true) %}\n          &lt;div class=\"category-item\"&gt;\n            &lt;span class=\"category\"&gt;{{ category|title }}&lt;/span&gt;\n            &lt;span class=\"amount\"&gt;${{ amount }}&lt;/span&gt;\n            &lt;div class=\"bar\" style=\"width: {{ (amount / summary.total * 100)|round }}%\"&gt;&lt;/div&gt;\n          &lt;/div&gt;\n        {% endfor %}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  {% endfor %}\n&lt;/div&gt;\n</code></pre> <p>These examples demonstrate the power and flexibility of list and dictionary comprehensions in real-world template scenarios. They can significantly reduce template complexity while maintaining readability and performance.</p>"},{"location":"comprehensions_reference/","title":"List/Dict Comprehensions - Quick Reference","text":""},{"location":"comprehensions_reference/#syntax-patterns","title":"Syntax Patterns","text":""},{"location":"comprehensions_reference/#list-comprehensions","title":"List Comprehensions","text":"<pre><code>{{ [expression for item in iterable] }}\n{{ [expression for item in iterable if condition] }}\n</code></pre>"},{"location":"comprehensions_reference/#dictionary-comprehensions","title":"Dictionary Comprehensions","text":"<pre><code>{{ {key_expr: value_expr for item in iterable} }}\n{{ {key_expr: value_expr for item in iterable if condition} }}\n</code></pre>"},{"location":"comprehensions_reference/#common-patterns","title":"Common Patterns","text":"Pattern Example Result Transform <code>[x * 2 for x in [1,2,3]]</code> <code>[2, 4, 6]</code> Filter <code>[x for x in [1,2,3,4] if x &gt; 2]</code> <code>[3, 4]</code> Extract <code>[user.name for user in users]</code> <code>[\"Alice\", \"Bob\"]</code> Dict from List <code>{user.id: user.name for user in users}</code> <code>{1: \"Alice\", 2: \"Bob\"}</code> Transform Dict <code>{k.upper(): v for k,v in dict.items()}</code> <code>{\"KEY\": \"value\"}</code> Filter Dict <code>{k: v for k,v in dict.items() if v &gt; 10}</code> Filtered dict"},{"location":"comprehensions_reference/#operators-functions","title":"Operators &amp; Functions","text":"Operation Syntax Example Arithmetic <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>**</code>, <code>%</code> <code>[x ** 2 for x in nums]</code> Comparison <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>==</code>, <code>!=</code> <code>[x for x in nums if x &gt;= 0]</code> Logic <code>and</code>, <code>or</code>, <code>not</code> <code>[x for x in items if x.active and x.public]</code> Membership <code>in</code>, <code>not in</code> <code>[x for x in items if x.category in allowed]</code> String ops <code>.upper()</code>, <code>.lower()</code>, <code>.strip()</code> <code>[name.title() for name in names]</code> Filters <code>|filter_name</code> <code>[name|title for name in names]</code>"},{"location":"comprehensions_reference/#complex-conditions","title":"Complex Conditions","text":"<pre><code>&lt;!-- Multiple conditions --&gt;\n{{ [item for item in items if item.price &gt; 100 and item.category == \"electronics\"] }}\n\n&lt;!-- Nested conditions --&gt;\n{{ [user for user in users if user.role == \"admin\" or (user.role == \"user\" and user.verified)] }}\n\n&lt;!-- Function calls in conditions --&gt;\n{{ [post for post in posts if post.published_date &gt; days_ago(7)] }}\n</code></pre>"},{"location":"comprehensions_reference/#working-with-different-data-types","title":"Working with Different Data Types","text":""},{"location":"comprehensions_reference/#lists","title":"Lists","text":"<pre><code>{{ [item.upper() for item in [\"a\", \"b\", \"c\"]] }}\n&lt;!-- Result: [\"A\", \"B\", \"C\"] --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#dictionaries","title":"Dictionaries","text":"<pre><code>{{ [v for k, v in {\"a\": 1, \"b\": 2}.items()] }}\n&lt;!-- Result: [1, 2] --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#objectsmaps","title":"Objects/Maps","text":"<pre><code>{{ [user.email for user in users if user.active] }}\n&lt;!-- Extract emails from active users --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#nested-structures","title":"Nested Structures","text":"<pre><code>{{ [tag.name for post in posts for tag in post.tags] }}\n&lt;!-- Flatten all tags from all posts --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#performance-tips","title":"Performance Tips","text":""},{"location":"comprehensions_reference/#good-practices","title":"Good Practices","text":"<pre><code>&lt;!-- Simple transformations --&gt;\n{{ [user.name for user in users] }}\n\n&lt;!-- Filter before expensive operations --&gt;\n{{ [expensive_func(item) for item in items if item.enabled] }}\n\n&lt;!-- Use built-in filters when available --&gt;\n{{ users|selectattr(\"active\")|map(attribute=\"name\")|list }}\n</code></pre>"},{"location":"comprehensions_reference/#avoid-these","title":"Avoid These","text":"<pre><code>&lt;!-- Don't nest too deeply --&gt;\n{{ [[f(x) for x in row] for row in [[g(y) for y in col] for col in matrix]] }}\n\n&lt;!-- Don't repeat expensive operations --&gt;\n{{ [expensive_func(item) for item in items if expensive_func(item) &gt; threshold] }}\n\n&lt;!-- Don't create huge lists unnecessarily --&gt;\n{% for item in [process_all(huge_list)] %}...{% endfor %}\n</code></pre>"},{"location":"comprehensions_reference/#error-handling","title":"Error Handling","text":""},{"location":"comprehensions_reference/#common-errors","title":"Common Errors","text":"<pre><code>&lt;!--  Undefined variable --&gt;\n{{ [x for x in undefined_list] }}\n&lt;!-- Error: undefined variable --&gt;\n\n&lt;!--  Wrong variable scope --&gt;\n{{ {x: y for x in items} }}  \n&lt;!-- Error: y is not defined --&gt;\n\n&lt;!--  Non-iterable --&gt;\n{{ [x for x in 123] }}\n&lt;!-- Error: int is not iterable --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#safe-patterns","title":"Safe Patterns","text":"<pre><code>&lt;!--  Check if defined --&gt;\n{{ [x for x in (items or [])] }}\n\n&lt;!--  Use default filter --&gt;\n{{ [x for x in items|default([])] }}\n\n&lt;!--  Proper variable scope --&gt;\n{{ {item.key: item.value for item in items} }}\n</code></pre>"},{"location":"comprehensions_reference/#debugging-tips","title":"Debugging Tips","text":""},{"location":"comprehensions_reference/#1-test-components-separately","title":"1. Test Components Separately","text":"<pre><code>&lt;!-- Test the iterable first --&gt;\n{{ items }}\n\n&lt;!-- Test the condition --&gt;\n{{ [item for item in items] }}\n\n&lt;!-- Test the expression --&gt;\n{{ [item.name for item in items] }}\n</code></pre>"},{"location":"comprehensions_reference/#2-use-intermediate-variables","title":"2. Use Intermediate Variables","text":"<pre><code>&lt;!-- Instead of complex one-liner --&gt;\n{% set filtered_items = [item for item in items if item.active] %}\n{% set processed_items = [process(item) for item in filtered_items] %}\n{{ processed_items }}\n</code></pre>"},{"location":"comprehensions_reference/#3-add-debug-output","title":"3. Add Debug Output","text":"<pre><code>&lt;!-- Debug the iteration --&gt;\n{{ [debug(item) or item.name for item in items] }}\n</code></pre>"},{"location":"comprehensions_reference/#integration-with-filters","title":"Integration with Filters","text":""},{"location":"comprehensions_reference/#chaining-with-filters","title":"Chaining with Filters","text":"<pre><code>&lt;!-- Apply filters after comprehension --&gt;\n{{ [user.name for user in users]|join(\", \") }}\n\n&lt;!-- Apply filters within comprehension --&gt;\n{{ [name|title for name in raw_names] }}\n\n&lt;!-- Combine both --&gt;\n{{ [name|title for name in names if name]|sort|join(\", \") }}\n</code></pre>"},{"location":"comprehensions_reference/#common-filter-combinations","title":"Common Filter Combinations","text":"<pre><code>&lt;!-- Count items --&gt;\n{{ [1 for item in items if condition]|length }}\n\n&lt;!-- Get unique values --&gt;\n{{ [item.category for item in items]|unique }}\n\n&lt;!-- Sum values --&gt;\n{{ [item.price for item in cart_items]|sum }}\n\n&lt;!-- Sort results --&gt;\n{{ [user.name for user in users]|sort }}\n</code></pre>"},{"location":"comprehensions_reference/#template-organization","title":"Template Organization","text":""},{"location":"comprehensions_reference/#keep-templates-clean","title":"Keep Templates Clean","text":"<pre><code>&lt;!--  Good: Short and readable --&gt;\n{% set active_users = [u for u in users if u.active] %}\n&lt;div&gt;{{ active_users|length }} active users&lt;/div&gt;\n\n&lt;!--  Avoid: Inline complex comprehensions --&gt;\n&lt;div&gt;{{ [u for u in users if u.active and u.last_login &gt; days_ago(30) and u.role in ['admin', 'moderator']]|length }} active users&lt;/div&gt;\n</code></pre>"},{"location":"comprehensions_reference/#use-macros-for-reusable-logic","title":"Use Macros for Reusable Logic","text":"<pre><code>{% macro filter_active_items(items) %}\n  {{ [item for item in items if item.active and item.visible] }}\n{% endmacro %}\n\n&lt;!-- Use the macro --&gt;\n{% set products = filter_active_items(all_products) %}\n</code></pre>"},{"location":"comprehensions_reference/#quick-examples-by-use-case","title":"Quick Examples by Use Case","text":""},{"location":"comprehensions_reference/#data-extraction","title":"Data Extraction","text":"<pre><code>{{ [user.email for user in users] }}                    &lt;!-- Extract emails --&gt;\n{{ [post.title for post in posts if post.featured] }}   &lt;!-- Extract featured titles --&gt;\n{{ [order.total for order in orders]|sum }}             &lt;!-- Sum order totals --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#data-transformation","title":"Data Transformation","text":"<pre><code>{{ [name.title() for name in names] }}                  &lt;!-- Title case names --&gt;\n{{ [price * 1.1 for price in prices] }}                 &lt;!-- Add 10% to prices --&gt;\n{{ [{\"id\": item.id, \"name\": item.name} for item in items] }} &lt;!-- Create new structure --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#data-filtering","title":"Data Filtering","text":"<pre><code>{{ [user for user in users if user.age &gt;= 18] }}        &lt;!-- Adults only --&gt;\n{{ [post for post in posts if \"python\" in post.tags] }} &lt;!-- Posts with Python tag --&gt;\n{{ [item for item in items if item.price &lt; 100] }}      &lt;!-- Affordable items --&gt;\n</code></pre>"},{"location":"comprehensions_reference/#dictionary-operations","title":"Dictionary Operations","text":"<pre><code>{{ {user.id: user.name for user in users} }}            &lt;!-- ID to name mapping --&gt;\n{{ {k.upper(): v for k, v in data.items()} }}           &lt;!-- Uppercase keys --&gt;\n{{ {k: v for k, v in settings.items() if v is not none} }} &lt;!-- Remove null values --&gt;\n</code></pre>"}]}